import{R as ao,u as nm,c as rm,T as kh,g as vl,E as Ss,a as zr,s as xl,p as _n,b as xs,L as yl,e as ti,A as Er,P as sm,S as Qi,M as im,d as om,f as no,h as Mt,C as jr,r as Oa,i as am,j as lm,D as Ph,k as cm,G as ro,l as wl,m as Mh,n as ps,B as Ke,o as H,q as Za,t as um,v as Kn,w as El,x as hm,O as dm,y as fm,N as mm,z as gm,F as Vu,H as pm,I as bm,J as vm,K as xm,Q as N,U as ym,V as wm,W as La,X as Em,Y as Ct,Z as Me,_ as Sm,$ as qs,a0 as Cm,a1 as _m,a2 as Im,a3 as Rm,a4 as Nh,a5 as Vh,a6 as Tm,a7 as Am,a8 as km,a9 as Fu,aa as ys,ab as Sl,ac as Pm,ad as Mm,ae as Fh,af as Nm,ag as Oh,ah as Vm,ai as Fm,aj as Om,ak as Lm,al as Ou,am as Bm}from"../../assets/main-DK5y6DHa.js";function Lh(i=ao){const e=i===ao?nm:rm(i);return function(){const{store:t}=e();return t}}const Ym=Lh();function Xm(i=ao){const e=i===ao?Ym:Lh(i);return function(){return e().dispatch}}const rr=Xm(),Ba={};function Ya(i,e){const t=new RegExp(e+":([0-9]+),?").exec(i);return t&&Number(t[1])||0}function Dm(i){const e=i.replace(/\s/g,""),s=e.replace(/\{.*\}/,""),t=Ya(e,"start"),c=Ya(e,"end"),l=Ya(e,"maxMissing")||3,m=Ba[s]!==void 0?Ba[s]:[];if(!m.length){let h=t,n=-1;for(;h<=c||n<l;){let a,u=0;for(;!a&&u<4;){u++;const f=Array(u).join("0")+h,d=e.replace(/(\{.*\}|$)/,f);a=kh[d]}a?(m.push(a),n=-1):n++,h++}Ba[s]=m}return m}class Cl extends Error{constructor(e){super(e!=null?`Timed out after waiting for ${e} ms`:"Timed out"),Object.setPrototypeOf(this,Cl.prototype)}}const Lu=(i,e)=>new Promise((s,t)=>{try{i.schedule(s,e)}catch(c){t(c)}}),Bu={schedule:(i,e)=>{let s;const t=c=>{c!=null&&clearTimeout(c),s=void 0};return s=setTimeout(()=>{t(s),i()},e),{cancel:()=>t(s)}}},jm=Number.POSITIVE_INFINITY,_l=(i,e,s)=>{var t,c;const l=(t=typeof e=="number"?e:e==null?void 0:e.timeout)!==null&&t!==void 0?t:5e3,m=(c=typeof e=="number"?s:e==null?void 0:e.intervalBetweenAttempts)!==null&&c!==void 0?c:50;let h=!1;const n=()=>new Promise((u,f)=>{const d=()=>{h||new Promise((p,b)=>{try{p(i())}catch(y){b(y)}}).then(p=>{p?u(p):Lu(Bu,m).then(d).catch(f)}).catch(f)};d()}),a=l!==jm?()=>Lu(Bu,l).then(()=>{throw h=!0,new Cl(l)}):void 0;return a!=null?Promise.race([n(),a()]):n()};var $m=function i(e,s){if(e===s)return!0;if(e&&s&&typeof e=="object"&&typeof s=="object"){if(e.constructor!==s.constructor)return!1;var t,c,l;if(Array.isArray(e)){if(t=e.length,t!=s.length)return!1;for(c=t;c--!==0;)if(!i(e[c],s[c]))return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if(l=Object.keys(e),t=l.length,t!==Object.keys(s).length)return!1;for(c=t;c--!==0;)if(!Object.prototype.hasOwnProperty.call(s,l[c]))return!1;for(c=t;c--!==0;){var m=l[c];if(!i(e[m],s[m]))return!1}return!0}return e!==e&&s!==s};const Il=vl($m);function Yu(i,e,s,t=0,c=!1){for(const m of e)if(Il(s,m.args)){if(c)return;if(m.error)throw m.error;if(m.response)return m.response;throw m.promise}const l={args:s,promise:i(...s).then(m=>l.response=m??!0).catch(m=>l.error=m??"unknown error").then(()=>{t>0&&setTimeout(()=>{const m=e.indexOf(l);m!==-1&&e.splice(m,1)},t)})};if(e.push(l),!c)throw l.promise}function zm(i,...e){if(e===void 0||e.length===0)i.splice(0,i.length);else{const s=i.find(t=>Il(e,t.args));if(s){const t=i.indexOf(s);t!==-1&&i.splice(t,1)}}}function po(i,e=0){const s=[];return{read:(...t)=>Yu(i,s,t,e),preload:(...t)=>void Yu(i,s,t,e,!0),clear:(...t)=>zm(s,...t),peek:(...t)=>{var c;return(c=s.find(l=>Il(t,l.args)))==null?void 0:c.response}}}const Um="./assets/images/",Hm="./assets/spritesheets/",Bh="./assets/l10n/",Wm="./assets/sounds/",Ja="EVENT_ERROR",Ka="EVENT_SUCCESS",el="EVENT_PROGRESS";class bt extends Ss{constructor(){super(),this._counter=0,this._maxCounter=0,bt._instance=this}static getInstance(){return bt._instance!==void 0?bt._instance:new bt}addCounter(){this._counter++,this._maxCounter=Math.max(this._counter,this._maxCounter)}delCounter(){this._counter--,this.emit(el,(this._maxCounter-this._counter)/this._maxCounter*100||100),this._counter===0&&this.emit(Ka)}emitError(){this.emit(Ja)}}let Yh;function Gm(i){return Yh=i,i}function Qs(){return Yh}let qm=0;const tl=class extends Ss{constructor(i){super(),this.id=qm++,this.init(i)}set(i,e){if(this[i]===void 0)throw new Error(`Property with name ${i} does not exist.`);switch(i){case"speed":this.speed=e;break;case"volume":this.volume=e;break;case"paused":this.paused=e;break;case"loop":this.loop=e;break;case"muted":this.muted=e;break}return this}get progress(){const{currentTime:i}=this._source;return i/this._duration}get paused(){return this._paused}set paused(i){this._paused=i,this.refreshPaused()}_onPlay(){this._playing=!0}_onPause(){this._playing=!1}init(i){this._playing=!1,this._duration=i.source.duration;const e=this._source=i.source.cloneNode(!1);e.src=i.parent.url,e.onplay=this._onPlay.bind(this),e.onpause=this._onPause.bind(this),i.context.on("refresh",this.refresh,this),i.context.on("refreshPaused",this.refreshPaused,this),this._media=i}_internalStop(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())}stop(){this._internalStop(),this._source&&this.emit("stop")}get speed(){return this._speed}set speed(i){this._speed=i,this.refresh()}get volume(){return this._volume}set volume(i){this._volume=i,this.refresh()}get loop(){return this._loop}set loop(i){this._loop=i,this.refresh()}get muted(){return this._muted}set muted(i){this._muted=i,this.refresh()}get filters(){return console.warn("HTML Audio does not support filters"),null}set filters(i){console.warn("HTML Audio does not support filters")}refresh(){const i=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;const s=i.volume*(i.muted?0:1),t=e.volume*(e.muted?0:1),c=this._volume*(this._muted?0:1);this._source.volume=c*s*t,this._source.playbackRate=this._speed*i.speed*e.speed}refreshPaused(){const i=this._media.context,e=this._media.parent,s=this._paused||e.paused||i.paused;s!==this._pausedReal&&(this._pausedReal=s,s?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",s))}play(i){const{start:e,end:s,speed:t,loop:c,volume:l,muted:m}=i;s&&console.assert(s>e,"End time is before start time"),this._speed=t,this._volume=l,this._loop=!!c,this._muted=m,this.refresh(),this.loop&&s!==null&&(console.warn('Looping not support when specifying an "end" time'),this.loop=!1),this._start=e,this._end=s||this._duration,this._start=Math.max(0,this._start-tl.PADDING),this._end=Math.min(this._end+tl.PADDING,this._duration),this._source.onloadedmetadata=()=>{this._source&&(this._source.currentTime=e,this._source.onloadedmetadata=null,this.emit("progress",e,this._duration),zr.shared.add(this._onUpdate,this))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")}_onUpdate(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()}_onComplete(){zr.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)}destroy(){zr.shared.remove(this._onUpdate,this),this.removeAllListeners();const i=this._source;i&&(i.onended=null,i.onplay=null,i.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)}toString(){return`[HTMLAudioInstance id=${this.id}]`}};let Xh=tl;Xh.PADDING=.1;class Qm extends Ss{init(e){this.parent=e,this._source=e.options.source||new Audio,e.url&&(this._source.src=e.url)}create(){return new Xh(this)}get isPlayable(){return!!this._source&&this._source.readyState===4}get duration(){return this._source.duration}get context(){return this.parent.context}get filters(){return null}set filters(e){console.warn("HTML Audio does not support filters")}destroy(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)}get source(){return this._source}load(e){const s=this._source,t=this.parent;if(s.readyState===4){t.isLoaded=!0;const n=t.autoPlayStart();e&&setTimeout(()=>{e(null,t,n)},0);return}if(!t.url){e(new Error("sound.url or sound.source must be set"));return}s.src=t.url;const c=()=>{h(),t.isLoaded=!0;const n=t.autoPlayStart();e&&e(null,t,n)},l=()=>{h(),e&&e(new Error("Sound loading has been aborted"))},m=()=>{h();const n=`Failed to load audio element (code: ${s.error.code})`;e?e(new Error(n)):console.error(n)},h=()=>{s.removeEventListener("canplaythrough",c),s.removeEventListener("load",c),s.removeEventListener("abort",l),s.removeEventListener("error",m)};s.addEventListener("canplaythrough",c,!1),s.addEventListener("load",c,!1),s.addEventListener("abort",l,!1),s.addEventListener("error",m,!1),s.load()}}class Zm{constructor(e,s){this.parent=e,Object.assign(this,s),this.duration=this.end-this.start,console.assert(this.duration>0,"End time must be after start time")}play(e){return this.parent.play({complete:e,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})}destroy(){this.parent=null}}const lo=["ogg","oga","opus","m4a","mp3","mpeg","wav","aiff","wma","mid","caf"],Jm=["audio/mpeg","audio/ogg"],co={};function Km(i){const e={m4a:"audio/mp4",oga:"audio/ogg",opus:'audio/ogg; codecs="opus"',caf:'audio/x-caf; codecs="opus"'},s=document.createElement("audio"),t={},c=/^no$/;lo.forEach(l=>{const m=s.canPlayType(`audio/${l}`).replace(c,""),h=e[l]?s.canPlayType(e[l]).replace(c,""):"";t[l]=!!m||!!h}),Object.assign(co,t)}Km();class nl{static setParamValue(e,s){if(e.setValueAtTime){const t=Qs().context;e.setValueAtTime(s,t.audioContext.currentTime)}else e.value=s;return s}}let eg=0;class tg extends Ss{constructor(e){super(),this.id=eg++,this._media=null,this._paused=!1,this._muted=!1,this._elapsed=0,this.init(e)}set(e,s){if(this[e]===void 0)throw new Error(`Property with name ${e} does not exist.`);switch(e){case"speed":this.speed=s;break;case"volume":this.volume=s;break;case"muted":this.muted=s;break;case"loop":this.loop=s;break;case"paused":this.paused=s;break}return this}stop(){this._source&&(this._internalStop(),this.emit("stop"))}get speed(){return this._speed}set speed(e){this._speed=e,this.refresh(),this._update(!0)}get volume(){return this._volume}set volume(e){this._volume=e,this.refresh()}get muted(){return this._muted}set muted(e){this._muted=e,this.refresh()}get loop(){return this._loop}set loop(e){this._loop=e,this.refresh()}get filters(){return this._filters}set filters(e){var s;this._filters&&((s=this._filters)==null||s.filter(t=>t).forEach(t=>t.disconnect()),this._filters=null,this._source.connect(this._gain)),this._filters=e!=null&&e.length?e.slice(0):null,this.refresh()}refresh(){if(!this._source)return;const e=this._media.context,s=this._media.parent;this._source.loop=this._loop||s.loop;const t=e.volume*(e.muted?0:1),c=s.volume*(s.muted?0:1),l=this._volume*(this._muted?0:1);nl.setParamValue(this._gain.gain,l*c*t),nl.setParamValue(this._source.playbackRate,this._speed*s.speed*e.speed),this.applyFilters()}applyFilters(){var e;if((e=this._filters)!=null&&e.length){this._source.disconnect();let s=this._source;this._filters.forEach(t=>{s.connect(t.destination),s=t}),s.connect(this._gain)}}refreshPaused(){const e=this._media.context,s=this._media.parent,t=this._paused||s.paused||e.paused;t!==this._pausedReal&&(this._pausedReal=t,t?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",t))}play(e){const{start:s,end:t,speed:c,loop:l,volume:m,muted:h,filters:n}=e;t&&console.assert(t>s,"End time is before start time"),this._paused=!1;const{source:a,gain:u}=this._media.nodes.cloneBufferSource();this._source=a,this._gain=u,this._speed=c,this._volume=m,this._loop=!!l,this._muted=h,this._filters=n,this.refresh();const f=this._source.buffer.duration;this._duration=f,this._end=t,this._lastUpdate=this._now(),this._elapsed=s,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=t,this._source.loopStart=s,this._source.start(0,s)):t?this._source.start(0,s,t-s):this._source.start(0,s),this.emit("start"),this._update(!0),this.enableTicker(!0)}enableTicker(e){zr.shared.remove(this._updateListener,this),e&&zr.shared.add(this._updateListener,this)}get progress(){return this._progress}get paused(){return this._paused}set paused(e){this._paused=e,this.refreshPaused()}destroy(){var e;this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),(e=this._filters)==null||e.forEach(s=>s.disconnect()),this._filters=null,this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1}toString(){return`[WebAudioInstance id=${this.id}]`}_now(){return this._media.context.audioContext.currentTime}_updateListener(){this._update()}_update(e=!1){if(this._source){const s=this._now(),t=s-this._lastUpdate;if(t>0||e){const c=this._source.playbackRate.value;this._elapsed+=t*c,this._lastUpdate=s;const l=this._duration;let m;if(this._source.loopStart){const h=this._source.loopEnd-this._source.loopStart;m=(this._source.loopStart+this._elapsed%h)/l}else m=this._elapsed%l/l;this._progress=m,this.emit("progress",this._progress,l)}}}init(e){this._media=e,e.context.events.on("refresh",this.refresh,this),e.context.events.on("refreshPaused",this.refreshPaused,this)}_internalStop(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.stop(0),this._source.disconnect();try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}this._source=null}}_onComplete(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.disconnect();try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}}this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)}}class Dh{constructor(e,s){this._output=s,this._input=e}get destination(){return this._input}get filters(){return this._filters}set filters(e){if(this._filters&&(this._filters.forEach(s=>{s&&s.disconnect()}),this._filters=null,this._input.connect(this._output)),e&&e.length){this._filters=e.slice(0),this._input.disconnect();let s=null;e.forEach(t=>{s===null?this._input.connect(t.destination):s.connect(t.destination),s=t}),s.connect(this._output)}}destroy(){this.filters=null,this._input=null,this._output=null}}const jh=class extends Dh{constructor(i){const e=i.audioContext,s=e.createBufferSource(),t=e.createGain(),c=e.createAnalyser();s.connect(c),c.connect(t),t.connect(i.destination),super(c,t),this.context=i,this.bufferSource=s,this.gain=t,this.analyser=c}get script(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(jh.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script}destroy(){super.destroy(),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null}cloneBufferSource(){const i=this.bufferSource,e=this.context.audioContext.createBufferSource();e.buffer=i.buffer,nl.setParamValue(e.playbackRate,i.playbackRate.value),e.loop=i.loop;const s=this.context.audioContext.createGain();return e.connect(s),s.connect(this.destination),{source:e,gain:s}}get bufferSize(){return this.script.bufferSize}};let $h=jh;$h.BUFFER_SIZE=0;class ng{init(e){this.parent=e,this._nodes=new $h(this.context),this._source=this._nodes.bufferSource,this.source=e.options.source}destroy(){this.parent=null,this._nodes.destroy(),this._nodes=null;try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}this._source=null,this.source=null}create(){return new tg(this)}get context(){return this.parent.context}get isPlayable(){return!!this._source&&!!this._source.buffer}get filters(){return this._nodes.filters}set filters(e){this._nodes.filters=e}get duration(){return console.assert(this.isPlayable,"Sound not yet playable, no duration"),this._source.buffer.duration}get buffer(){return this._source.buffer}set buffer(e){this._source.buffer=e}get nodes(){return this._nodes}load(e){this.source?this._decode(this.source,e):this.parent.url?this._loadUrl(e):e?e(new Error("sound.url or sound.source must be set")):console.error("sound.url or sound.source must be set")}async _loadUrl(e){const s=this.parent.url,t=await xl.ADAPTER.fetch(s);this._decode(await t.arrayBuffer(),e)}_decode(e,s){const t=(c,l)=>{if(c)s&&s(c);else{this.parent.isLoaded=!0,this.buffer=l;const m=this.parent.autoPlayStart();s&&s(null,this.parent,m)}};e instanceof AudioBuffer?t(null,e):this.parent.context.decode(e,t)}}const ds=class{static from(i){let e={};typeof i=="string"?e.url=i:i instanceof ArrayBuffer||i instanceof AudioBuffer||i instanceof HTMLAudioElement?e.source=i:Array.isArray(i)?e.url=i:e=i,e={autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1,...e},Object.freeze(e);const s=Qs().useLegacy?new Qm:new ng;return new ds(s,e)}constructor(i,e){this.media=i,this.options=e,this._instances=[],this._sprites={},this.media.init(this);const s=e.complete;this._autoPlayOptions=s?{complete:s}:null,this.isLoaded=!1,this._preloadQueue=null,this.isPlaying=!1,this.autoPlay=e.autoPlay,this.singleInstance=e.singleInstance,this.preload=e.preload||this.autoPlay,this.url=Array.isArray(e.url)?this.preferUrl(e.url):e.url,this.speed=e.speed,this.volume=e.volume,this.loop=e.loop,e.sprites&&this.addSprites(e.sprites),this.preload&&this._preload(e.loaded)}preferUrl(i){const[e]=i.map(s=>({url:s,ext:_n.extname(s).slice(1)})).filter(({ext:s})=>co[s]).sort((s,t)=>lo.indexOf(s.ext)-lo.indexOf(t.ext));if(!e)throw new Error("No supported file type found");return e.url}get context(){return Qs().context}pause(){return this.isPlaying=!1,this.paused=!0,this}resume(){return this.isPlaying=this._instances.length>0,this.paused=!1,this}get paused(){return this._paused}set paused(i){this._paused=i,this.refreshPaused()}get speed(){return this._speed}set speed(i){this._speed=i,this.refresh()}get filters(){return this.media.filters}set filters(i){this.media.filters=i}addSprites(i,e){if(typeof i=="object"){const t={};for(const c in i)t[c]=this.addSprites(c,i[c]);return t}console.assert(!this._sprites[i],`Alias ${i} is already taken`);const s=new Zm(this,e);return this._sprites[i]=s,s}destroy(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null}removeSprites(i){if(i){const e=this._sprites[i];e!==void 0&&(e.destroy(),delete this._sprites[i])}else for(const e in this._sprites)this.removeSprites(e);return this}get isPlayable(){return this.isLoaded&&this.media&&this.media.isPlayable}stop(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(let i=this._instances.length-1;i>=0;i--)this._instances[i].stop();return this}play(i,e){let s;if(typeof i=="string"?s={sprite:i,loop:this.loop,complete:e}:typeof i=="function"?(s={},s.complete=i):s=i,s={complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1,...s||{}},s.sprite){const c=s.sprite;console.assert(!!this._sprites[c],`Alias ${c} is not available`);const l=this._sprites[c];s.start=l.start+(s.start||0),s.end=l.end,s.speed=l.speed||1,s.loop=l.loop||s.loop,delete s.sprite}if(s.offset&&(s.start=s.offset),!this.isLoaded)return this._preloadQueue?new Promise(c=>{this._preloadQueue.push(()=>{c(this.play(s))})}):(this._preloadQueue=[],this.autoPlay=!0,this._autoPlayOptions=s,new Promise((c,l)=>{this._preload((m,h,n)=>{this._preloadQueue.forEach(a=>a()),this._preloadQueue=null,m?l(m):(s.loaded&&s.loaded(m,h,n),c(n))})}));(this.singleInstance||s.singleInstance)&&this._removeInstances();const t=this._createInstance();return this._instances.push(t),this.isPlaying=!0,t.once("end",()=>{s.complete&&s.complete(this),this._onComplete(t)}),t.once("stop",()=>{this._onComplete(t)}),t.play(s),t}refresh(){const i=this._instances.length;for(let e=0;e<i;e++)this._instances[e].refresh()}refreshPaused(){const i=this._instances.length;for(let e=0;e<i;e++)this._instances[e].refreshPaused()}get volume(){return this._volume}set volume(i){this._volume=i,this.refresh()}get muted(){return this._muted}set muted(i){this._muted=i,this.refresh()}get loop(){return this._loop}set loop(i){this._loop=i,this.refresh()}_preload(i){this.media.load(i)}get instances(){return this._instances}get sprites(){return this._sprites}get duration(){return this.media.duration}autoPlayStart(){let i;return this.autoPlay&&(i=this.play(this._autoPlayOptions)),i}_removeInstances(){for(let i=this._instances.length-1;i>=0;i--)this._poolInstance(this._instances[i]);this._instances.length=0}_onComplete(i){if(this._instances){const e=this._instances.indexOf(i);e>-1&&this._instances.splice(e,1),this.isPlaying=this._instances.length>0}this._poolInstance(i)}_createInstance(){if(ds._pool.length>0){const i=ds._pool.pop();return i.init(this.media),i}return this.media.create()}_poolInstance(i){i.destroy(),ds._pool.indexOf(i)<0&&ds._pool.push(i)}};let uo=ds;uo._pool=[];class rg extends Ss{constructor(){super(...arguments),this.speed=1,this.muted=!1,this.volume=1,this.paused=!1}refresh(){this.emit("refresh")}refreshPaused(){this.emit("refreshPaused")}get filters(){return console.warn("HTML Audio does not support filters"),null}set filters(e){console.warn("HTML Audio does not support filters")}get audioContext(){return console.warn("HTML Audio does not support audioContext"),null}toggleMute(){return this.muted=!this.muted,this.refresh(),this.muted}togglePause(){return this.paused=!this.paused,this.refreshPaused(),this.paused}destroy(){this.removeAllListeners()}}class Zs extends Dh{constructor(){const e=window,s=new Zs.AudioContext,t=s.createDynamicsCompressor(),c=s.createAnalyser();c.connect(t),t.connect(s.destination),super(c,t),this.autoPause=!0,this._ctx=s,this._offlineCtx=new Zs.OfflineAudioContext(1,2,e.OfflineAudioContext?Math.max(8e3,Math.min(96e3,s.sampleRate)):44100),this.compressor=t,this.analyser=c,this.events=new Ss,this.volume=1,this.speed=1,this.muted=!1,this.paused=!1,this._locked=s.state==="suspended"&&("ontouchstart"in globalThis||"onclick"in globalThis),this._locked&&(this._unlock(),this._unlock=this._unlock.bind(this),document.addEventListener("mousedown",this._unlock,!0),document.addEventListener("touchstart",this._unlock,!0),document.addEventListener("touchend",this._unlock,!0)),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),globalThis.addEventListener("focus",this.onFocus),globalThis.addEventListener("blur",this.onBlur)}onFocus(){if(!this.autoPause)return;const e=this._ctx.state;(e==="suspended"||e==="interrupted"||!this._locked)&&(this.paused=this._pausedOnBlur,this.refreshPaused())}onBlur(){this.autoPause&&(this._locked||(this._pausedOnBlur=this._paused,this.paused=!0,this.refreshPaused()))}_unlock(){this._locked&&(this.playEmptySound(),this._ctx.state==="running"&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._locked=!1))}playEmptySound(){const e=this._ctx.createBufferSource();e.buffer=this._ctx.createBuffer(1,1,22050),e.connect(this._ctx.destination),e.start(0,0,0),e.context.state==="suspended"&&e.context.resume()}static get AudioContext(){const e=window;return e.AudioContext||e.webkitAudioContext||null}static get OfflineAudioContext(){const e=window;return e.OfflineAudioContext||e.webkitOfflineAudioContext||null}destroy(){super.destroy();const e=this._ctx;typeof e.close<"u"&&e.close(),globalThis.removeEventListener("focus",this.onFocus),globalThis.removeEventListener("blur",this.onBlur),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null}get audioContext(){return this._ctx}get offlineContext(){return this._offlineCtx}set paused(e){e&&this._ctx.state==="running"?this._ctx.suspend():!e&&this._ctx.state==="suspended"&&this._ctx.resume(),this._paused=e}get paused(){return this._paused}refresh(){this.events.emit("refresh")}refreshPaused(){this.events.emit("refreshPaused")}toggleMute(){return this.muted=!this.muted,this.refresh(),this.muted}togglePause(){return this.paused=!this.paused,this.refreshPaused(),this._paused}decode(e,s){const t=l=>{s(new Error((l==null?void 0:l.message)||"Unable to decode file"))},c=this._offlineCtx.decodeAudioData(e,l=>{s(null,l)},t);c&&c.catch(t)}}class sg{constructor(){this.init()}init(){return this.supported&&(this._webAudioContext=new Zs),this._htmlAudioContext=new rg,this._sounds={},this.useLegacy=!this.supported,this}get context(){return this._context}get filtersAll(){return this.useLegacy?[]:this._context.filters}set filtersAll(e){this.useLegacy||(this._context.filters=e)}get supported(){return Zs.AudioContext!==null}add(e,s){if(typeof e=="object"){const l={};for(const m in e){const h=this._getOptions(e[m],s);l[m]=this.add(m,h)}return l}if(console.assert(!this._sounds[e],`Sound with alias ${e} already exists.`),s instanceof uo)return this._sounds[e]=s,s;const t=this._getOptions(s),c=uo.from(t);return this._sounds[e]=c,c}_getOptions(e,s){let t;return typeof e=="string"?t={url:e}:Array.isArray(e)?t={url:e}:e instanceof ArrayBuffer||e instanceof AudioBuffer||e instanceof HTMLAudioElement?t={source:e}:t=e,t={...t,...s||{}},t}get useLegacy(){return this._useLegacy}set useLegacy(e){this._useLegacy=e,this._context=!e&&this.supported?this._webAudioContext:this._htmlAudioContext}get disableAutoPause(){return!this._webAudioContext.autoPause}set disableAutoPause(e){this._webAudioContext.autoPause=!e}remove(e){return this.exists(e,!0),this._sounds[e].destroy(),delete this._sounds[e],this}get volumeAll(){return this._context.volume}set volumeAll(e){this._context.volume=e,this._context.refresh()}get speedAll(){return this._context.speed}set speedAll(e){this._context.speed=e,this._context.refresh()}togglePauseAll(){return this._context.togglePause()}pauseAll(){return this._context.paused=!0,this._context.refreshPaused(),this}resumeAll(){return this._context.paused=!1,this._context.refreshPaused(),this}toggleMuteAll(){return this._context.toggleMute()}muteAll(){return this._context.muted=!0,this._context.refresh(),this}unmuteAll(){return this._context.muted=!1,this._context.refresh(),this}removeAll(){for(const e in this._sounds)this._sounds[e].destroy(),delete this._sounds[e];return this}stopAll(){for(const e in this._sounds)this._sounds[e].stop();return this}exists(e,s=!1){const t=!!this._sounds[e];return s&&console.assert(t,`No sound matching alias '${e}'.`),t}isPlaying(){for(const e in this._sounds)if(this._sounds[e].isPlaying)return!0;return!1}find(e){return this.exists(e,!0),this._sounds[e]}play(e,s){return this.find(e).play(s)}stop(e){return this.find(e).stop()}pause(e){return this.find(e).pause()}resume(e){return this.find(e).resume()}volume(e,s){const t=this.find(e);return s!==void 0&&(t.volume=s),t.volume}speed(e,s){const t=this.find(e);return s!==void 0&&(t.speed=s),t.speed}duration(e){return this.find(e).duration}close(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this}}const Xu=i=>{var s;const e=i.src;return((s=i==null?void 0:i.alias)==null?void 0:s[0])??_n.basename(e,_n.extname(e))},Rl={extension:xs.Asset,detection:{test:async()=>!0,add:async i=>[...i,...lo.filter(e=>co[e])],remove:async i=>i.filter(e=>i.includes(e))},loader:{extension:{type:[xs.LoadParser],priority:yl.High},test(i){const e=_n.extname(i).slice(1);return!!co[e]||Jm.some(s=>i.startsWith(`data:${s}`))},async load(i,e){const s=await new Promise((t,c)=>uo.from({...e.data,url:i,preload:!0,loaded(l,m){var h,n;l?c(l):t(m),(n=(h=e.data)==null?void 0:h.loaded)==null||n.call(h,l,m)}}));return Qs().add(Xu(e),s),s},async unload(i,e){Qs().remove(Xu(e))}}};ti.add(Rl);const ws=Gm(new sg);ti.add(Rl);ti.add(Rl.loader);function Tl(i,e){const s=e??Wm;bt.getInstance().addCounter();const t=po(async()=>{const c=[];let l;Array.isArray(i)?l=i.map(h=>{const n=s+h;return c.push(n),n}):l=Object.entries(i).reduce((h,[n,a])=>{const u=s+a;return c.push(u),h[n]=u,h},{});try{c.forEach(h=>{Er.add(h,h)}),await Er.load(c)}catch{bt.getInstance().emitError()}return await _l(()=>c.every(h=>Er.cache.get(h)),{timeout:1e6}),bt.getInstance().delCounter(),Array.isArray(l)?l.map(h=>Er.get(h)):Object.entries(l).reduce((h,[n,a])=>Object.assign(Object.assign({},h),{[n]:Er.get(a)}),{})});return t.preload(),{useSounds:t.read}}let Du=!1;Tl.globalMute={get:()=>Du,set:i=>{i?ws.muteAll():ws.unmuteAll(),Du=i}};Tl.globalVolume={get:()=>ws.volumeAll,set:i=>{ws.volumeAll=i}};window.PIXI=sm;var me=(i=>(i[i.Region=0]="Region",i[i.BoundingBox=1]="BoundingBox",i[i.Mesh=2]="Mesh",i[i.LinkedMesh=3]="LinkedMesh",i[i.Path=4]="Path",i[i.Point=5]="Point",i[i.Clipping=6]="Clipping",i))(me||{});class ho{constructor(e,s=new Array,t=0,c=new DataView(e.buffer)){this.strings=s,this.index=t,this.buffer=c}readByte(){return this.buffer.getInt8(this.index++)}readUnsignedByte(){return this.buffer.getUint8(this.index++)}readShort(){const e=this.buffer.getInt16(this.index);return this.index+=2,e}readInt32(){const e=this.buffer.getInt32(this.index);return this.index+=4,e}readInt(e){let s=this.readByte(),t=s&127;return s&128&&(s=this.readByte(),t|=(s&127)<<7,s&128&&(s=this.readByte(),t|=(s&127)<<14,s&128&&(s=this.readByte(),t|=(s&127)<<21,s&128&&(s=this.readByte(),t|=(s&127)<<28)))),e?t:t>>>1^-(t&1)}readStringRef(){const e=this.readInt(!0);return e==0?null:this.strings[e-1]}readString(){let e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;let s="";for(let t=0;t<e;){const c=this.readUnsignedByte();switch(c>>4){case 12:case 13:s+=String.fromCharCode((c&31)<<6|this.readByte()&63),t+=2;break;case 14:s+=String.fromCharCode((c&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),t+=3;break;default:s+=String.fromCharCode(c),t++}}return s}readFloat(){const e=this.buffer.getFloat32(this.index);return this.index+=4,e}readBoolean(){return this.readByte()!=0}}var k=(i=>(i[i.setup=0]="setup",i[i.first=1]="first",i[i.replace=2]="replace",i[i.add=3]="add",i))(k||{}),He=(i=>(i[i.mixIn=0]="mixIn",i[i.mixOut=1]="mixOut",i))(He||{}),ot=(i=>(i[i.Fixed=0]="Fixed",i[i.Percent=1]="Percent",i))(ot||{}),sn=(i=>(i[i.Tangent=0]="Tangent",i[i.Chain=1]="Chain",i[i.ChainScale=2]="ChainScale",i))(sn||{}),tt=(i=>(i[i.Normal=0]="Normal",i[i.OnlyTranslation=1]="OnlyTranslation",i[i.NoRotationOrReflection=2]="NoRotationOrReflection",i[i.NoScale=3]="NoScale",i[i.NoScaleOrReflection=4]="NoScaleOrReflection",i))(tt||{});function ju(i){switch(i.toLowerCase()){case"nearest":return Lt.Nearest;case"linear":return Lt.Linear;case"mipmap":return Lt.MipMap;case"mipmapnearestnearest":return Lt.MipMapNearestNearest;case"mipmaplinearnearest":return Lt.MipMapLinearNearest;case"mipmapnearestlinear":return Lt.MipMapNearestLinear;case"mipmaplinearlinear":return Lt.MipMapLinearLinear;default:throw new Error(`Unknown texture filter ${i}`)}}var Lt=(i=>(i[i.Nearest=9728]="Nearest",i[i.Linear=9729]="Linear",i[i.MipMap=9987]="MipMap",i[i.MipMapNearestNearest=9984]="MipMapNearestNearest",i[i.MipMapLinearNearest=9985]="MipMapLinearNearest",i[i.MipMapNearestLinear=9986]="MipMapNearestLinear",i[i.MipMapLinearLinear=9987]="MipMapLinearLinear",i))(Lt||{}),$r=(i=>(i[i.MirroredRepeat=33648]="MirroredRepeat",i[i.ClampToEdge=33071]="ClampToEdge",i[i.Repeat=10497]="Repeat",i))($r||{});class rl{constructor(){this.size=null,this.names=null,this.values=null,this.renderObject=null}get width(){const e=this.texture;return e.trim?e.trim.width:e.orig.width}get height(){const e=this.texture;return e.trim?e.trim.height:e.orig.height}get u(){return this.texture._uvs.x0}get v(){return this.texture._uvs.y0}get u2(){return this.texture._uvs.x2}get v2(){return this.texture._uvs.y2}get offsetX(){const e=this.texture;return e.trim?e.trim.x:0}get offsetY(){return this.spineOffsetY}get pixiOffsetY(){const e=this.texture;return e.trim?e.trim.y:0}get spineOffsetY(){const e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)}get originalWidth(){return this.texture.orig.width}get originalHeight(){return this.texture.orig.height}get x(){return this.texture.frame.x}get y(){return this.texture.frame.y}get rotate(){return this.texture.rotate!==0}get degrees(){return(360-this.texture.rotate*45)%360}}class ig{constructor(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}}class sl{constructor(e,s,t){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,s,t)}addTexture(e,s){const t=this.pages;let c=null;for(let m=0;m<t.length;m++)if(t[m].baseTexture===s.baseTexture){c=t[m];break}if(c===null){c=new $u,c.name="texturePage";const m=s.baseTexture;c.width=m.realWidth,c.height=m.realHeight,c.baseTexture=m,c.minFilter=c.magFilter=Lt.Nearest,c.uWrap=$r.ClampToEdge,c.vWrap=$r.ClampToEdge,t.push(c)}const l=new zu;return l.name=e,l.page=c,l.texture=s,l.index=-1,this.regions.push(l),l}addTextureHash(e,s){for(const t in e)e.hasOwnProperty(t)&&this.addTexture(s&&t.indexOf(".")!==-1?t.substr(0,t.lastIndexOf(".")):t,e[t])}addSpineAtlas(e,s,t){return this.load(e,s,t)}load(e,s,t){if(s==null)throw new Error("textureLoader cannot be null.");const c=new og(e),l=new Array(4);let m=null;const h={};let n=null;h.size=()=>{m.width=parseInt(l[1]),m.height=parseInt(l[2])},h.format=()=>{},h.filter=()=>{m.minFilter=ju(l[1]),m.magFilter=ju(l[2])},h.repeat=()=>{l[1].indexOf("x")!=-1&&(m.uWrap=$r.Repeat),l[1].indexOf("y")!=-1&&(m.vWrap=$r.Repeat)},h.pma=()=>{m.pma=l[1]=="true"};const a={};a.xy=()=>{n.x=parseInt(l[1]),n.y=parseInt(l[2])},a.size=()=>{n.width=parseInt(l[1]),n.height=parseInt(l[2])},a.bounds=()=>{n.x=parseInt(l[1]),n.y=parseInt(l[2]),n.width=parseInt(l[3]),n.height=parseInt(l[4])},a.offset=()=>{n.offsetX=parseInt(l[1]),n.offsetY=parseInt(l[2])},a.orig=()=>{n.originalWidth=parseInt(l[1]),n.originalHeight=parseInt(l[2])},a.offsets=()=>{n.offsetX=parseInt(l[1]),n.offsetY=parseInt(l[2]),n.originalWidth=parseInt(l[3]),n.originalHeight=parseInt(l[4])},a.rotate=()=>{const d=l[1];let p=0;d.toLocaleLowerCase()=="true"?p=6:d.toLocaleLowerCase()=="false"?p=0:p=(720-parseFloat(d))%360/45,n.rotate=p},a.index=()=>{n.index=parseInt(l[1])};let u=c.readLine();for(;u!=null&&u.trim().length==0;)u=c.readLine();for(;!(u==null||u.trim().length==0||c.readEntry(l,u)==0);)u=c.readLine();const f=()=>{for(;;){if(u==null)return t&&t(this);if(u.trim().length==0)m=null,u=c.readLine();else if(m===null){for(m=new $u,m.name=u.trim();c.readEntry(l,u=c.readLine())!=0;){const d=h[l[0]];d&&d()}this.pages.push(m),s(m.name,d=>{if(d===null)return this.pages.splice(this.pages.indexOf(m),1),t&&t(null);m.baseTexture=d,m.pma&&(d.alphaMode=om.PMA),d.valid||d.setSize(m.width,m.height),m.setFilters(),(!m.width||!m.height)&&(m.width=d.realWidth,m.height=d.realHeight,(!m.width||!m.height)&&console.log(`ERROR spine atlas page ${m.name}: meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)`)),f()});break}else{n=new ig;const d=new zu;d.name=u,d.page=m;let p=null,b=null;for(;;){const _=c.readEntry(l,u=c.readLine());if(_==0)break;const R=a[l[0]];if(R)R();else{p==null&&(p=[],b=[]),p.push(l[0]);const T=[];for(let P=0;P<_;P++)T.push(parseInt(l[P+1]));b.push(T)}}n.originalWidth==0&&n.originalHeight==0&&(n.originalWidth=n.width,n.originalHeight=n.height);const y=m.baseTexture.resolution;n.x/=y,n.y/=y,n.width/=y,n.height/=y,n.originalWidth/=y,n.originalHeight/=y,n.offsetX/=y,n.offsetY/=y;const w=n.rotate%4!==0,E=new no(n.x,n.y,w?n.height:n.width,w?n.width:n.height),S=new no(0,0,n.originalWidth,n.originalHeight),I=new no(n.offsetX,n.originalHeight-n.height-n.offsetY,n.width,n.height);d.texture=new Mt(d.page.baseTexture,E,S,I,n.rotate),d.index=n.index,d.texture.updateUvs(),this.regions.push(d)}}};f()}findRegion(e){for(let s=0;s<this.regions.length;s++)if(this.regions[s].name==e)return this.regions[s];return null}dispose(){for(let e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()}}class og{constructor(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readEntry(e,s){if(s==null||(s=s.trim(),s.length==0))return 0;const t=s.indexOf(":");if(t==-1)return 0;e[0]=s.substr(0,t).trim();for(let c=1,l=t+1;;c++){const m=s.indexOf(",",l);if(m==-1)return e[c]=s.substr(l).trim(),c;if(e[c]=s.substr(l,m-l).trim(),l=m+1,c==4)return 4}}}class $u{constructor(){this.minFilter=Lt.Nearest,this.magFilter=Lt.Nearest,this.uWrap=$r.ClampToEdge,this.vWrap=$r.ClampToEdge}setFilters(){const e=this.baseTexture,s=this.minFilter;s==Lt.Linear?e.scaleMode=Qi.LINEAR:this.minFilter==Lt.Nearest?e.scaleMode=Qi.NEAREST:(e.mipmap=im.POW2,s==Lt.MipMapNearestNearest?e.scaleMode=Qi.NEAREST:e.scaleMode=Qi.LINEAR)}}class zu extends rl{}class ag{constructor(){this.entries={},this.size=0}add(e){const s=this.entries[e];return this.entries[e]=!0,s?!1:(this.size++,!0)}addAll(e){const s=this.size;for(let t=0,c=e.length;t<c;t++)this.add(e[t]);return s!=this.size}contains(e){return this.entries[e]}clear(){this.entries={},this.size=0}}const Hr=class{constructor(i=0,e=0,s=0,t=0){this.r=i,this.g=e,this.b=s,this.a=t}set(i,e,s,t){return this.r=i,this.g=e,this.b=s,this.a=t,this.clamp()}setFromColor(i){return this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this}setFromString(i){return i=i.charAt(0)=="#"?i.substr(1):i,this.r=parseInt(i.substr(0,2),16)/255,this.g=parseInt(i.substr(2,2),16)/255,this.b=parseInt(i.substr(4,2),16)/255,this.a=i.length!=8?1:parseInt(i.substr(6,2),16)/255,this}add(i,e,s,t){return this.r+=i,this.g+=e,this.b+=s,this.a+=t,this.clamp()}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(i,e){i.r=((e&4278190080)>>>24)/255,i.g=((e&16711680)>>>16)/255,i.b=((e&65280)>>>8)/255,i.a=(e&255)/255}static rgb888ToColor(i,e){i.r=((e&16711680)>>>16)/255,i.g=((e&65280)>>>8)/255,i.b=(e&255)/255}static fromString(i){return new Hr().setFromString(i)}};let J=Hr;J.WHITE=new Hr(1,1,1,1);J.RED=new Hr(1,0,0,1);J.GREEN=new Hr(0,1,0,1);J.BLUE=new Hr(0,0,1,1);J.MAGENTA=new Hr(1,0,1,1);const er=class{static clamp(i,e,s){return i<e?e:i>s?s:i}static cosDeg(i){return Math.cos(i*er.degRad)}static sinDeg(i){return Math.sin(i*er.degRad)}static signum(i){return Math.sign(i)}static toInt(i){return i>0?Math.floor(i):Math.ceil(i)}static cbrt(i){const e=Math.pow(Math.abs(i),.3333333333333333);return i<0?-e:e}static randomTriangular(i,e){return er.randomTriangularWith(i,e,(i+e)*.5)}static randomTriangularWith(i,e,s){const t=Math.random(),c=e-i;return t<=(s-i)/c?i+Math.sqrt(t*c*(s-i)):e-Math.sqrt((1-t)*c*(e-s))}static isPowerOfTwo(i){return i&&(i&i-1)===0}};let oe=er;oe.PI=3.1415927;oe.PI2=er.PI*2;oe.radiansToDegrees=180/er.PI;oe.radDeg=er.radiansToDegrees;oe.degreesToRadians=er.PI/180;oe.degRad=er.degreesToRadians;class lg{apply(e,s,t){return e+(s-e)*this.applyInternal(t)}}class cg extends lg{constructor(e){super(),this.power=2,this.power=e}applyInternal(e){return e<=.5?Math.pow(e*2,this.power)/2:Math.pow((e-1)*2,this.power)/(this.power%2==0?-2:2)+1}}class zh extends cg{applyInternal(e){return Math.pow(e-1,this.power)*(this.power%2==0?-1:1)+1}}const fs=class{static arrayCopy(i,e,s,t,c){for(let l=e,m=t;l<e+c;l++,m++)s[m]=i[l]}static arrayFill(i,e,s,t){for(let c=e;c<s;c++)i[c]=t}static setArraySize(i,e,s=0){const t=i.length;if(t==e)return i;if(i.length=e,t<e)for(let c=t;c<e;c++)i[c]=s;return i}static ensureArrayCapacity(i,e,s=0){return i.length>=e?i:fs.setArraySize(i,e,s)}static newArray(i,e){const s=new Array(i);for(let t=0;t<i;t++)s[t]=e;return s}static newFloatArray(i){if(fs.SUPPORTS_TYPED_ARRAYS)return new Float32Array(i);const e=new Array(i);for(let s=0;s<e.length;s++)e[s]=0;return e}static newShortArray(i){if(fs.SUPPORTS_TYPED_ARRAYS)return new Int16Array(i);const e=new Array(i);for(let s=0;s<e.length;s++)e[s]=0;return e}static toFloatArray(i){return fs.SUPPORTS_TYPED_ARRAYS?new Float32Array(i):i}static toSinglePrecision(i){return fs.SUPPORTS_TYPED_ARRAYS?Math.fround(i):i}static webkit602BugfixHelper(i,e){}static contains(i,e,s=!0){for(let t=0;t<i.length;t++)if(i[t]==e)return!0;return!1}static enumValue(i,e){return i[e[0].toUpperCase()+e.slice(1)]}};let D=fs;D.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u";const ug={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},gr=[0,0,0];class hg extends wl{constructor(){super(...arguments),this.region=null,this.attachment=null}}class dg extends Mh{constructor(e,s,t,c,l){super(e,s,t,c,l),this.region=null,this.attachment=null}}const Uh=class extends jr{constructor(i){if(super(),!i)throw new Error("The spineData param is required.");if(typeof i=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');this.spineData=i,this.createSkeleton(i),this.slotContainers=[],this.tempClipContainers=[];for(let e=0,s=this.skeleton.slots.length;e<s;e++){const t=this.skeleton.slots[e],c=t.getAttachment(),l=this.newContainer();if(this.slotContainers.push(l),this.addChild(l),this.tempClipContainers.push(null),!!c)if(c.type===me.Region){const m=c.name,h=this.createSprite(t,c,m);t.currentSprite=h,t.currentSpriteName=m,l.addChild(h)}else if(c.type===me.Mesh){const m=this.createMesh(t,c);t.currentMesh=m,t.currentMeshId=c.id,t.currentMeshName=c.name,l.addChild(m)}else c.type===me.Clipping&&(this.createGraphics(t,c),l.addChild(t.clippingContainer),l.addChild(t.currentGraphics))}this.tintRgb=new Float32Array([1,1,1]),this.autoUpdate=!0,this.visible=!0}get debug(){return this._debug}set debug(i){var e;i!=this._debug&&((e=this._debug)==null||e.unregisterSpine(this),i==null||i.registerSpine(this),this._debug=i)}get autoUpdate(){return this._autoUpdate}set autoUpdate(i){i!==this._autoUpdate&&(this._autoUpdate=i,this.updateTransform=i?Uh.prototype.autoUpdateTransform:jr.prototype.updateTransform)}get tint(){return Oa(this.tintRgb)}set tint(i){this.tintRgb=am(i,this.tintRgb)}get delayLimit(){return(typeof this.localDelayLimit<"u"?this.localDelayLimit:ug.GLOBAL_DELAY_LIMIT)||Number.MAX_VALUE}update(i){var a;const e=this.delayLimit;if(i>e&&(i=e),this.state.update(i),this.state.apply(this.skeleton),!this.skeleton)return;this.skeleton.updateWorldTransform();const s=this.skeleton.slots,t=this.color;let c=null,l=null;t?(c=t.light,l=t.dark):c=this.tintRgb;for(let u=0,f=s.length;u<f;u++){const d=s[u],p=d.getAttachment(),b=this.slotContainers[u];if(!p){b.visible=!1;continue}let y=null;p.sequence&&p.sequence.apply(d,p);let w=p.region;const E=p.color;switch(p!=null&&p.type){case me.Region:if(b.transform.setFromMatrix(d.bone.matrix),w=p.region,d.currentMesh&&(d.currentMesh.visible=!1,d.currentMesh=null,d.currentMeshId=void 0,d.currentMeshName=void 0),!w){d.currentSprite&&(d.currentSprite.renderable=!1);break}if(!d.currentSpriteName||d.currentSpriteName!==p.name){const _=p.name;if(d.currentSprite&&(d.currentSprite.visible=!1),d.sprites=d.sprites||{},d.sprites[_]!==void 0)d.sprites[_].visible=!0;else{const R=this.createSprite(d,p,_);b.addChild(R)}d.currentSprite=d.sprites[_],d.currentSpriteName=_}d.currentSprite.renderable=!0,d.hackRegion||this.setSpriteRegion(p,d.currentSprite,w),d.currentSprite.color?y=d.currentSprite.color:(gr[0]=c[0]*d.color.r*E.r,gr[1]=c[1]*d.color.g*E.g,gr[2]=c[2]*d.color.b*E.b,d.currentSprite.tint=Oa(gr)),d.currentSprite.blendMode=d.blendMode;break;case me.Mesh:if(d.currentSprite){d.currentSprite.visible=!1,d.currentSprite=null,d.currentSpriteName=void 0;const _=new lm;_._parentID=-1,_._worldID=b.transform._worldID,b.transform=_}if(!w){d.currentMesh&&(d.currentMesh.renderable=!1);break}const I=p.id;if(d.currentMeshId===void 0||d.currentMeshId!==I){const _=I;if(d.currentMesh&&(d.currentMesh.visible=!1),d.meshes=d.meshes||{},d.meshes[_]!==void 0)d.meshes[_].visible=!0;else{const R=this.createMesh(d,p);b.addChild(R)}d.currentMesh=d.meshes[_],d.currentMeshName=p.name,d.currentMeshId=_}d.currentMesh.renderable=!0,p.computeWorldVerticesOld(d,d.currentMesh.vertices),d.currentMesh.color?y=d.currentMesh.color:(gr[0]=c[0]*d.color.r*E.r,gr[1]=c[1]*d.color.g*E.g,gr[2]=c[2]*d.color.b*E.b,d.currentMesh.tint=Oa(gr)),d.currentMesh.blendMode=d.blendMode,d.hackRegion||this.setMeshRegion(p,d.currentMesh,w);break;case me.Clipping:d.currentGraphics||(this.createGraphics(d,p),b.addChild(d.clippingContainer),b.addChild(d.currentGraphics)),this.updateGraphics(d,p),b.alpha=1,b.visible=!0;continue;default:b.visible=!1;continue}if(b.visible=!0,y){let S=d.color.r*E.r,I=d.color.g*E.g,_=d.color.b*E.b;y.setLight(c[0]*S+l[0]*(1-S),c[1]*I+l[1]*(1-I),c[2]*_+l[2]*(1-_)),d.darkColor?(S=d.darkColor.r,I=d.darkColor.g,_=d.darkColor.b):(S=0,I=0,_=0),y.setDark(c[0]*S+l[0]*(1-S),c[1]*I+l[1]*(1-I),c[2]*_+l[2]*(1-_))}b.alpha=d.color.a}const m=this.skeleton.drawOrder;let h=null,n=null;for(let u=0,f=m.length;u<f;u++){const d=s[m[u].data.index],p=this.slotContainers[m[u].data.index];if(n||p.parent!==null&&p.parent!==this&&(p.parent.removeChild(p),p.parent=this),d.currentGraphics&&d.getAttachment())n=d.clippingContainer,h=d.getAttachment(),n.children.length=0,this.children[u]=p,h.endSlot===d.data&&(h.endSlot=null);else if(n){let b=this.tempClipContainers[u];b||(b=this.tempClipContainers[u]=this.newContainer(),b.visible=!1),this.children[u]=b,p.parent=null,n.addChild(p),h.endSlot==d.data&&(n.renderable=!0,n=null,h=null)}else this.children[u]=p}(a=this._debug)==null||a.renderDebug(this)}setSpriteRegion(i,e,s){e.attachment===i&&e.region===s||(e.region=s,e.attachment=i,e.texture=s.texture,e.rotation=i.rotation*oe.degRad,e.position.x=i.x,e.position.y=i.y,e.alpha=i.color.a,s.size?(e.scale.x=s.size.width/s.originalWidth,e.scale.y=-s.size.height/s.originalHeight):(e.scale.x=i.scaleX*i.width/s.originalWidth,e.scale.y=-i.scaleY*i.height/s.originalHeight))}setMeshRegion(i,e,s){e.attachment===i&&e.region===s||(e.region=s,e.attachment=i,e.texture=s.texture,s.texture.updateUvs(),e.uvBuffer.update(i.regionUVs))}autoUpdateTransform(){{this.lastTime=this.lastTime||Date.now();const i=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(i)}jr.prototype.updateTransform.call(this)}createSprite(i,e,s){let t=e.region;i.hackAttachment===e&&(t=i.hackRegion);const c=t?t.texture:null,l=this.newSprite(c);return l.anchor.set(.5),t&&this.setSpriteRegion(e,l,e.region),i.sprites=i.sprites||{},i.sprites[s]=l,l}createMesh(i,e){let s=e.region;i.hackAttachment===e&&(s=i.hackRegion,i.hackAttachment=null,i.hackRegion=null);const t=this.newMesh(s?s.texture:null,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles),Ph.TRIANGLES);return typeof t._canvasPadding<"u"&&(t._canvasPadding=1.5),t.alpha=e.color.a,t.region=e.region,s&&this.setMeshRegion(e,t,s),i.meshes=i.meshes||{},i.meshes[e.id]=t,t}createGraphics(i,e){const s=this.newGraphics(),t=new cm([]);return s.clear(),s.beginFill(16777215,1),s.drawPolygon(t),s.renderable=!1,i.currentGraphics=s,i.clippingContainer=this.newContainer(),i.clippingContainer.mask=i.currentGraphics,s}updateGraphics(i,e){const s=i.currentGraphics.geometry,t=s.graphicsData[0].shape.points,c=e.worldVerticesLength;t.length=c,e.computeWorldVertices(i,0,c,t,0,2),s.invalidate()}hackTextureBySlotIndex(i,e=null,s=null){const t=this.skeleton.slots[i];if(!t)return!1;const c=t.getAttachment();let l=c.region;return e?(l=new rl,l.texture=e,l.size=s,t.hackRegion=l,t.hackAttachment=c):(t.hackRegion=null,t.hackAttachment=null),t.currentSprite?this.setSpriteRegion(c,t.currentSprite,l):t.currentMesh&&this.setMeshRegion(c,t.currentMesh,l),!0}hackTextureBySlotName(i,e=null,s=null){const t=this.skeleton.findSlotIndex(i);return t==-1?!1:this.hackTextureBySlotIndex(t,e,s)}hackTextureAttachment(i,e,s,t=null){const c=this.skeleton.findSlotIndex(i),l=this.skeleton.getAttachmentByName(i,e);l.region.texture=s;const m=this.skeleton.slots[c];if(!m)return!1;const h=m.getAttachment();if(e===h.name){let n=l.region;return s?(n=new rl,n.texture=s,n.size=t,m.hackRegion=n,m.hackAttachment=h):(m.hackRegion=null,m.hackAttachment=null),m.currentSprite&&m.currentSprite.region!=n?(this.setSpriteRegion(h,m.currentSprite,n),m.currentSprite.region=n):m.currentMesh&&m.currentMesh.region!=n&&this.setMeshRegion(h,m.currentMesh,n),!0}return!1}newContainer(){return new jr}newSprite(i){return new hg(i)}newGraphics(){return new ro}newMesh(i,e,s,t,c){return new dg(i,e,s,t,c)}transformHack(){return 1}hackAttachmentGroups(i,e,s){if(!i)return;const t=[],c=[];for(let l=0,m=this.skeleton.slots.length;l<m;l++){const h=this.skeleton.slots[l],n=h.currentSpriteName||h.currentMeshName||"",a=h.currentSprite||h.currentMesh;n.endsWith(i)?(a.parentGroup=e,c.push(a)):s&&a&&(a.parentGroup=s,t.push(a))}return[t,c]}destroy(i){this.debug=null;for(let e=0,s=this.skeleton.slots.length;e<s;e++){const t=this.skeleton.slots[e];for(const c in t.meshes)t.meshes[c].destroy(i);t.meshes=null;for(const c in t.sprites)t.sprites[c].destroy(i);t.sprites=null}for(let e=0,s=this.slotContainers.length;e<s;e++)this.slotContainers[e].destroy(i);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,super.destroy(i)}};let Hh=Uh;Hh.clippingPolygon=[];Object.defineProperty(Hh.prototype,"visible",{get(){return this._visible},set(i){i!==this._visible&&(this._visible=i,i&&(this.lastTime=0))}});const fg={extension:xs.Asset,loader:{extension:{type:xs.LoadParser,priority:yl.Normal},test(i){return ps(i,".atlas")},async load(i){return await(await xl.ADAPTER.fetch(i)).text()},testParse(i,e){const s=ps(e.src,".atlas"),t=typeof i=="string";return Promise.resolve(s&&t)},async parse(i,e,s){const t=e.data;let c=_n.dirname(e.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let l=null,m=null;const h=new Promise((u,f)=>{l=u,m=f});let n;const a=u=>{u||m(`Something went terribly wrong loading a spine .atlas file
Most likely your texture failed to load.`),l(n)};if(t.image||t.images){const u=Object.assign(t.image?{default:t.image}:{},t.images);n=new sl(i,(f,d)=>{const p=u[f]||u.default;p&&p.baseTexture?d(p.baseTexture):d(p)},a)}else n=new sl(i,Wh(s,c,t.imageMetadata),a);return await h},unload(i){i.dispose()}}},Wh=(i,e,s)=>async(t,c)=>{const l=_n.normalize([...e.split(_n.sep),t].join(_n.sep)),m=await i.load({src:l,data:s});c(m.baseTexture)};ti.add(fg);function Uu(i){return i.hasOwnProperty("bones")}function mg(i){return i instanceof ArrayBuffer}class gg{constructor(){}installLoader(){const e=this,s={extension:xs.Asset,loader:{extension:{type:xs.LoadParser,priority:yl.Normal},test(t){return ps(t,".skel")},async load(t){return await(await xl.ADAPTER.fetch(t)).arrayBuffer()},testParse(t,c){var n;const l=ps(c.src,".json")&&Uu(t),m=ps(c.src,".skel")&&mg(t),h=((n=c.data)==null?void 0:n.spineAtlas)===!1;return Promise.resolve(l&&!h||m)},async parse(t,c,l){const m=_n.extname(c.src).toLowerCase(),h=_n.basename(c.src,m);let n=_n.dirname(c.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");const a=ps(c.src,".json")&&Uu(t);let u=null,f=t;a?u=e.createJsonParser():(u=e.createBinaryParser(),f=new Uint8Array(t));const d=c.data||{},p=(d==null?void 0:d.spineSkeletonScale)??null;p&&(u.scale=p);const b=d.spineAtlas;if(b&&b.pages)return e.parseData(u,b,f);const y=d.atlasRawData;if(y){let S=null,I=null;const _=new Promise((P,L)=>{S=P,I=L}),R=new sl(y,Wh(l,n,d.imageMetadata),P=>{P||I(`Something went terribly wrong loading a spine .atlas file
Most likely your texture failed to load.`),S(R)}),T=await _;return e.parseData(u,T,f)}let w=d.spineAtlasFile;w||(w=`${n+h}.atlas`);const E=await l.load({src:w,data:d,alias:d.spineAtlasAlias});return e.parseData(u,E,f)}}};return ti.add(s),s}}let Gh=class{constructor(e){if(e==null)throw new Error("name cannot be null.");this.name=e}};const qh=class extends Gh{constructor(e){super(e),this.id=(qh.nextID++&65535)<<11,this.worldVerticesLength=0,this.deformAttachment=this}computeWorldVerticesOld(e,s){this.computeWorldVertices(e,0,this.worldVerticesLength,s,0,2)}computeWorldVertices(e,s,t,c,l,m){t=l+(t>>1)*m;const h=e.bone.skeleton,n=e.deform;let a=this.vertices;const u=this.bones;if(u==null){n.length>0&&(a=n);const b=e.bone.matrix,y=b.tx,w=b.ty,E=b.a,S=b.c,I=b.b,_=b.d;for(let R=s,T=l;T<t;R+=2,T+=m){const P=a[R],L=a[R+1];c[T]=P*E+L*S+y,c[T+1]=P*I+L*_+w}return}let f=0,d=0;for(let b=0;b<s;b+=2){const y=u[f];f+=y+1,d+=y}const p=h.bones;if(n.length==0)for(let b=l,y=d*3;b<t;b+=m){let w=0,E=0,S=u[f++];for(S+=f;f<S;f++,y+=3){const I=p[u[f]].matrix,_=a[y],R=a[y+1],T=a[y+2];w+=(_*I.a+R*I.c+I.tx)*T,E+=(_*I.b+R*I.d+I.ty)*T}c[b]=w,c[b+1]=E}else{const b=n;for(let y=l,w=d*3,E=d<<1;y<t;y+=m){let S=0,I=0,_=u[f++];for(_+=f;f<_;f++,w+=3,E+=2){const R=p[u[f]].matrix,T=a[w]+b[E],P=a[w+1]+b[E+1],L=a[w+2];S+=(T*R.a+P*R.c+R.tx)*L,I+=(T*R.b+P*R.d+R.ty)*L}c[y]=S,c[y+1]=I}}}copyTo(e){this.bones!=null?(e.bones=new Array(this.bones.length),D.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,this.vertices!=null?(e.vertices=D.newFloatArray(this.vertices.length),D.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)):e.vertices=null,e.worldVerticesLength=this.worldVerticesLength,e.deformAttachment=this.deformAttachment}};let Wr=qh;Wr.nextID=0;let pg=class Qh extends Wr{constructor(e){super(e),this.type=me.BoundingBox,this.color=new J(1,1,1,1)}copy(){const e=new Qh(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e}},bg=class Zh extends Wr{constructor(e){super(e),this.type=me.Clipping,this.color=new J(.2275,.2275,.8078,1)}copy(){const e=new Zh(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e}},Jh=class il extends Wr{constructor(e){super(e),this.type=me.Mesh,this.color=new J(1,1,1,1),this.tempColor=new J(0,0,0,0)}getParentMesh(){return this.parentMesh}setParentMesh(e){this.parentMesh=e,e!=null&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)}copy(){if(this.parentMesh!=null)return this.newLinkedMesh();const e=new il(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),D.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.triangles=new Array(this.triangles.length),D.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,this.edges!=null&&(e.edges=new Array(this.edges.length),D.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e}newLinkedMesh(){const e=new il(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),e.deformAttachment=this.deformAttachment,e.setParentMesh(this.parentMesh!=null?this.parentMesh:this),e}},vg=class Kh extends Wr{constructor(e){super(e),this.type=me.Path,this.closed=!1,this.constantSpeed=!1,this.color=new J(1,1,1,1)}copy(){const e=new Kh(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),D.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e}},xg=class ed extends Wr{constructor(e){super(e),this.type=me.Point,this.color=new J(.38,.94,0,1)}computeWorldPosition(e,s){const t=e.matrix;return s.x=this.x*t.a+this.y*t.c+e.worldX,s.y=this.x*t.b+this.y*t.d+e.worldY,s}computeWorldRotation(e){const s=e.matrix,t=oe.cosDeg(this.rotation),c=oe.sinDeg(this.rotation),l=t*s.a+c*s.c,m=t*s.b+c*s.d;return Math.atan2(m,l)*oe.radDeg}copy(){const e=new ed(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e}},yg=class{constructor(e,s){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(s==null)throw new Error("bone cannot be null.");this.data=e,this.bone=s,this.color=new J,this.darkColor=e.darkColor==null?null:new J,this.setToSetupPose(),this.blendMode=this.data.blendMode}getAttachment(){return this.attachment}setAttachment(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)}setAttachmentTime(e){this.attachmentTime=this.bone.skeleton.time-e}getAttachmentTime(){return this.bone.skeleton.time-this.attachmentTime}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}};const ht=class extends Gh{constructor(e){super(e),this.type=me.Region,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new J(1,1,1,1),this.offset=D.newFloatArray(8),this.uvs=D.newFloatArray(8),this.tempColor=new J(1,1,1,1)}updateOffset(){const e=this.width/this.region.originalWidth*this.scaleX,s=this.height/this.region.originalHeight*this.scaleY,t=-this.width/2*this.scaleX+this.region.offsetX*e,c=-this.height/2*this.scaleY+this.region.offsetY*s,l=t+this.region.width*e,m=c+this.region.height*s,h=this.rotation*Math.PI/180,n=Math.cos(h),a=Math.sin(h),u=t*n+this.x,f=t*a,d=c*n+this.y,p=c*a,b=l*n+this.x,y=l*a,w=m*n+this.y,E=m*a,S=this.offset;S[ht.OX1]=u-p,S[ht.OY1]=d+f,S[ht.OX2]=u-E,S[ht.OY2]=w+f,S[ht.OX3]=b-E,S[ht.OY3]=w+y,S[ht.OX4]=b-p,S[ht.OY4]=d+y}setRegion(e){this.region=e;const s=this.uvs;e.rotate?(s[2]=e.u,s[3]=e.v2,s[4]=e.u,s[5]=e.v,s[6]=e.u2,s[7]=e.v,s[0]=e.u2,s[1]=e.v2):(s[0]=e.u,s[1]=e.v2,s[2]=e.u,s[3]=e.v,s[4]=e.u2,s[5]=e.v,s[6]=e.u2,s[7]=e.v2)}computeWorldVertices(e,s,t,c){const l=this.offset,m=e instanceof yg?e.bone.matrix:e.matrix,h=m.tx,n=m.ty,a=m.a,u=m.c,f=m.b,d=m.d;let p=0,b=0;p=l[ht.OX1],b=l[ht.OY1],s[t]=p*a+b*u+h,s[t+1]=p*f+b*d+n,t+=c,p=l[ht.OX2],b=l[ht.OY2],s[t]=p*a+b*u+h,s[t+1]=p*f+b*d+n,t+=c,p=l[ht.OX3],b=l[ht.OY3],s[t]=p*a+b*u+h,s[t+1]=p*f+b*d+n,t+=c,p=l[ht.OX4],b=l[ht.OY4],s[t]=p*a+b*u+h,s[t+1]=p*f+b*d+n}copy(){const e=new ht(this.name);return e.region=this.region,e.rendererObject=this.rendererObject,e.path=this.path,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,D.arrayCopy(this.uvs,0,e.uvs,0,8),D.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e}};let ue=ht;ue.OX1=0;ue.OY1=1;ue.OX2=2;ue.OY2=3;ue.OX3=4;ue.OY3=5;ue.OX4=6;ue.OY4=7;ue.X1=0;ue.Y1=1;ue.C1R=2;ue.C1G=3;ue.C1B=4;ue.C1A=5;ue.U1=6;ue.V1=7;ue.X2=8;ue.Y2=9;ue.C2R=10;ue.C2G=11;ue.C2B=12;ue.C2A=13;ue.U2=14;ue.V2=15;ue.X3=16;ue.Y3=17;ue.C3R=18;ue.C3G=19;ue.C3B=20;ue.C3A=21;ue.U3=22;ue.V3=23;ue.X4=24;ue.Y4=25;ue.C4R=26;ue.C4G=27;ue.C4B=28;ue.C4A=29;ue.U4=30;ue.V4=31;new zh(2);let ft=class{constructor(e,s,t){if(e==null)throw new Error("name cannot be null.");if(s==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=s,this.timelineIds=[];for(let c=0;c<s.length;c++)this.timelineIds[s[c].getPropertyId()]=!0;this.duration=t}hasTimeline(e){return this.timelineIds[e]==!0}apply(e,s,t,c,l,m,h,n){if(e==null)throw new Error("skeleton cannot be null.");c&&this.duration!=0&&(t%=this.duration,s>0&&(s%=this.duration));const a=this.timelines;for(let u=0,f=a.length;u<f;u++)a[u].apply(e,s,t,l,m,h,n)}static binarySearch(e,s,t=1){let c=0,l=e.length/t-2;if(l==0)return t;let m=l>>>1;for(;;){if(e[(m+1)*t]<=s?c=m+1:l=m,c==l)return(c+1)*t;m=c+l>>>1}}static linearSearch(e,s,t){for(let c=0,l=e.length-t;c<=l;c+=t)if(e[c]>s)return c;return-1}};const qe=class{constructor(e){if(e<=0)throw new Error(`frameCount must be > 0: ${e}`);this.curves=D.newFloatArray((e-1)*qe.BEZIER_SIZE)}getFrameCount(){return this.curves.length/qe.BEZIER_SIZE+1}setLinear(e){this.curves[e*qe.BEZIER_SIZE]=qe.LINEAR}setStepped(e){this.curves[e*qe.BEZIER_SIZE]=qe.STEPPED}getCurveType(e){const s=e*qe.BEZIER_SIZE;if(s==this.curves.length)return qe.LINEAR;const t=this.curves[s];return t==qe.LINEAR?qe.LINEAR:t==qe.STEPPED?qe.STEPPED:qe.BEZIER}setCurve(e,s,t,c,l){const m=(-s*2+c)*.03,h=(-t*2+l)*.03,n=((s-c)*3+1)*.006,a=((t-l)*3+1)*.006;let u=m*2+n,f=h*2+a,d=s*.3+m+n*.16666667,p=t*.3+h+a*.16666667,b=e*qe.BEZIER_SIZE;const y=this.curves;y[b++]=qe.BEZIER;let w=d,E=p;for(let S=b+qe.BEZIER_SIZE-1;b<S;b+=2)y[b]=w,y[b+1]=E,d+=u,p+=f,u+=n,f+=a,w+=d,E+=p}getCurvePercent(e,s){s=oe.clamp(s,0,1);const t=this.curves;let c=e*qe.BEZIER_SIZE;const l=t[c];if(l==qe.LINEAR)return s;if(l==qe.STEPPED)return 0;c++;let m=0;for(let n=c,a=c+qe.BEZIER_SIZE-1;c<a;c+=2)if(m=t[c],m>=s){let u,f;return c==n?(u=0,f=0):(u=t[c-2],f=t[c-1]),f+(t[c+1]-f)*(s-u)/(m-u)}const h=t[c-1];return h+(1-h)*(s-m)/(1-m)}};let Wt=qe;Wt.LINEAR=0;Wt.STEPPED=1;Wt.BEZIER=2;Wt.BEZIER_SIZE=10*2-1;const pr=class extends Wt{constructor(e){super(e),this.frames=D.newFloatArray(e<<1)}getPropertyId(){return 0+this.boneIndex}setFrame(e,s,t){e<<=1,this.frames[e]=s,this.frames[e+pr.ROTATION]=t}apply(e,s,t,c,l,m,h){const n=this.frames,a=e.bones[this.boneIndex];if(!a.active)return;if(t<n[0]){switch(m){case k.setup:a.rotation=a.data.rotation;return;case k.first:const y=a.data.rotation-a.rotation;a.rotation+=(y-(16384-(16384.499999999996-y/360|0))*360)*l}return}if(t>=n[n.length-pr.ENTRIES]){let y=n[n.length+pr.PREV_ROTATION];switch(m){case k.setup:a.rotation=a.data.rotation+y*l;break;case k.first:case k.replace:y+=a.data.rotation-a.rotation,y-=(16384-(16384.499999999996-y/360|0))*360;case k.add:a.rotation+=y*l}return}const u=ft.binarySearch(n,t,pr.ENTRIES),f=n[u+pr.PREV_ROTATION],d=n[u],p=this.getCurvePercent((u>>1)-1,1-(t-d)/(n[u+pr.PREV_TIME]-d));let b=n[u+pr.ROTATION]-f;switch(b=f+(b-(16384-(16384.499999999996-b/360|0))*360)*p,m){case k.setup:a.rotation=a.data.rotation+(b-(16384-(16384.499999999996-b/360|0))*360)*l;break;case k.first:case k.replace:b+=a.data.rotation-a.rotation;case k.add:a.rotation+=(b-(16384-(16384.499999999996-b/360|0))*360)*l}}};let _r=pr;_r.ENTRIES=2;_r.PREV_TIME=-2;_r.PREV_ROTATION=-1;_r.ROTATION=1;const Rt=class extends Wt{constructor(e){super(e),this.frames=D.newFloatArray(e*Rt.ENTRIES)}getPropertyId(){return(1<<24)+this.boneIndex}setFrame(e,s,t,c){e*=Rt.ENTRIES,this.frames[e]=s,this.frames[e+Rt.X]=t,this.frames[e+Rt.Y]=c}apply(e,s,t,c,l,m,h){const n=this.frames,a=e.bones[this.boneIndex];if(!a.active)return;if(t<n[0]){switch(m){case k.setup:a.x=a.data.x,a.y=a.data.y;return;case k.first:a.x+=(a.data.x-a.x)*l,a.y+=(a.data.y-a.y)*l}return}let u=0,f=0;if(t>=n[n.length-Rt.ENTRIES])u=n[n.length+Rt.PREV_X],f=n[n.length+Rt.PREV_Y];else{const d=ft.binarySearch(n,t,Rt.ENTRIES);u=n[d+Rt.PREV_X],f=n[d+Rt.PREV_Y];const p=n[d],b=this.getCurvePercent(d/Rt.ENTRIES-1,1-(t-p)/(n[d+Rt.PREV_TIME]-p));u+=(n[d+Rt.X]-u)*b,f+=(n[d+Rt.Y]-f)*b}switch(m){case k.setup:a.x=a.data.x+u*l,a.y=a.data.y+f*l;break;case k.first:case k.replace:a.x+=(a.data.x+u-a.x)*l,a.y+=(a.data.y+f-a.y)*l;break;case k.add:a.x+=u*l,a.y+=f*l}}};let on=Rt;on.ENTRIES=3;on.PREV_TIME=-3;on.PREV_X=-2;on.PREV_Y=-1;on.X=1;on.Y=2;let td=class gn extends on{constructor(e){super(e)}getPropertyId(){return(2<<24)+this.boneIndex}apply(e,s,t,c,l,m,h){const n=this.frames,a=e.bones[this.boneIndex];if(!a.active)return;if(t<n[0]){switch(m){case k.setup:a.scaleX=a.data.scaleX,a.scaleY=a.data.scaleY;return;case k.first:a.scaleX+=(a.data.scaleX-a.scaleX)*l,a.scaleY+=(a.data.scaleY-a.scaleY)*l}return}let u=0,f=0;if(t>=n[n.length-gn.ENTRIES])u=n[n.length+gn.PREV_X]*a.data.scaleX,f=n[n.length+gn.PREV_Y]*a.data.scaleY;else{const d=ft.binarySearch(n,t,gn.ENTRIES);u=n[d+gn.PREV_X],f=n[d+gn.PREV_Y];const p=n[d],b=this.getCurvePercent(d/gn.ENTRIES-1,1-(t-p)/(n[d+gn.PREV_TIME]-p));u=(u+(n[d+gn.X]-u)*b)*a.data.scaleX,f=(f+(n[d+gn.Y]-f)*b)*a.data.scaleY}if(l==1)m==k.add?(a.scaleX+=u-a.data.scaleX,a.scaleY+=f-a.data.scaleY):(a.scaleX=u,a.scaleY=f);else{let d=0,p=0;if(h==He.mixOut)switch(m){case k.setup:d=a.data.scaleX,p=a.data.scaleY,a.scaleX=d+(Math.abs(u)*oe.signum(d)-d)*l,a.scaleY=p+(Math.abs(f)*oe.signum(p)-p)*l;break;case k.first:case k.replace:d=a.scaleX,p=a.scaleY,a.scaleX=d+(Math.abs(u)*oe.signum(d)-d)*l,a.scaleY=p+(Math.abs(f)*oe.signum(p)-p)*l;break;case k.add:d=a.scaleX,p=a.scaleY,a.scaleX=d+(Math.abs(u)*oe.signum(d)-a.data.scaleX)*l,a.scaleY=p+(Math.abs(f)*oe.signum(p)-a.data.scaleY)*l}else switch(m){case k.setup:d=Math.abs(a.data.scaleX)*oe.signum(u),p=Math.abs(a.data.scaleY)*oe.signum(f),a.scaleX=d+(u-d)*l,a.scaleY=p+(f-p)*l;break;case k.first:case k.replace:d=Math.abs(a.scaleX)*oe.signum(u),p=Math.abs(a.scaleY)*oe.signum(f),a.scaleX=d+(u-d)*l,a.scaleY=p+(f-p)*l;break;case k.add:d=oe.signum(u),p=oe.signum(f),a.scaleX=Math.abs(a.scaleX)*d+(u-Math.abs(a.data.scaleX)*d)*l,a.scaleY=Math.abs(a.scaleY)*p+(f-Math.abs(a.data.scaleY)*p)*l}}}},nd=class pn extends on{constructor(e){super(e)}getPropertyId(){return(3<<24)+this.boneIndex}apply(e,s,t,c,l,m,h){const n=this.frames,a=e.bones[this.boneIndex];if(!a.active)return;if(t<n[0]){switch(m){case k.setup:a.shearX=a.data.shearX,a.shearY=a.data.shearY;return;case k.first:a.shearX+=(a.data.shearX-a.shearX)*l,a.shearY+=(a.data.shearY-a.shearY)*l}return}let u=0,f=0;if(t>=n[n.length-pn.ENTRIES])u=n[n.length+pn.PREV_X],f=n[n.length+pn.PREV_Y];else{const d=ft.binarySearch(n,t,pn.ENTRIES);u=n[d+pn.PREV_X],f=n[d+pn.PREV_Y];const p=n[d],b=this.getCurvePercent(d/pn.ENTRIES-1,1-(t-p)/(n[d+pn.PREV_TIME]-p));u=u+(n[d+pn.X]-u)*b,f=f+(n[d+pn.Y]-f)*b}switch(m){case k.setup:a.shearX=a.data.shearX+u*l,a.shearY=a.data.shearY+f*l;break;case k.first:case k.replace:a.shearX+=(a.data.shearX+u-a.shearX)*l,a.shearY+=(a.data.shearY+f-a.shearY)*l;break;case k.add:a.shearX+=u*l,a.shearY+=f*l}}};const Ye=class extends Wt{constructor(e){super(e),this.frames=D.newFloatArray(e*Ye.ENTRIES)}getPropertyId(){return(5<<24)+this.slotIndex}setFrame(e,s,t,c,l,m){e*=Ye.ENTRIES,this.frames[e]=s,this.frames[e+Ye.R]=t,this.frames[e+Ye.G]=c,this.frames[e+Ye.B]=l,this.frames[e+Ye.A]=m}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex];if(!n.bone.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.color.setFromColor(n.data.color);return;case k.first:const b=n.color,y=n.data.color;b.add((y.r-b.r)*l,(y.g-b.g)*l,(y.b-b.b)*l,(y.a-b.a)*l)}return}let u=0,f=0,d=0,p=0;if(t>=a[a.length-Ye.ENTRIES]){const b=a.length;u=a[b+Ye.PREV_R],f=a[b+Ye.PREV_G],d=a[b+Ye.PREV_B],p=a[b+Ye.PREV_A]}else{const b=ft.binarySearch(a,t,Ye.ENTRIES);u=a[b+Ye.PREV_R],f=a[b+Ye.PREV_G],d=a[b+Ye.PREV_B],p=a[b+Ye.PREV_A];const y=a[b],w=this.getCurvePercent(b/Ye.ENTRIES-1,1-(t-y)/(a[b+Ye.PREV_TIME]-y));u+=(a[b+Ye.R]-u)*w,f+=(a[b+Ye.G]-f)*w,d+=(a[b+Ye.B]-d)*w,p+=(a[b+Ye.A]-p)*w}if(l==1)n.color.set(u,f,d,p);else{const b=n.color;m==k.setup&&b.setFromColor(n.data.color),b.add((u-b.r)*l,(f-b.g)*l,(d-b.b)*l,(p-b.a)*l)}}};let Bt=Ye;Bt.ENTRIES=5;Bt.PREV_TIME=-5;Bt.PREV_R=-4;Bt.PREV_G=-3;Bt.PREV_B=-2;Bt.PREV_A=-1;Bt.R=1;Bt.G=2;Bt.B=3;Bt.A=4;const xe=class extends Wt{constructor(e){super(e),this.frames=D.newFloatArray(e*xe.ENTRIES)}getPropertyId(){return(14<<24)+this.slotIndex}setFrame(e,s,t,c,l,m,h,n,a){e*=xe.ENTRIES,this.frames[e]=s,this.frames[e+xe.R]=t,this.frames[e+xe.G]=c,this.frames[e+xe.B]=l,this.frames[e+xe.A]=m,this.frames[e+xe.R2]=h,this.frames[e+xe.G2]=n,this.frames[e+xe.B2]=a}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex];if(!n.bone.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.color.setFromColor(n.data.color),n.darkColor.setFromColor(n.data.darkColor);return;case k.first:const E=n.color,S=n.darkColor,I=n.data.color,_=n.data.darkColor;E.add((I.r-E.r)*l,(I.g-E.g)*l,(I.b-E.b)*l,(I.a-E.a)*l),S.add((_.r-S.r)*l,(_.g-S.g)*l,(_.b-S.b)*l,0)}return}let u=0,f=0,d=0,p=0,b=0,y=0,w=0;if(t>=a[a.length-xe.ENTRIES]){const E=a.length;u=a[E+xe.PREV_R],f=a[E+xe.PREV_G],d=a[E+xe.PREV_B],p=a[E+xe.PREV_A],b=a[E+xe.PREV_R2],y=a[E+xe.PREV_G2],w=a[E+xe.PREV_B2]}else{const E=ft.binarySearch(a,t,xe.ENTRIES);u=a[E+xe.PREV_R],f=a[E+xe.PREV_G],d=a[E+xe.PREV_B],p=a[E+xe.PREV_A],b=a[E+xe.PREV_R2],y=a[E+xe.PREV_G2],w=a[E+xe.PREV_B2];const S=a[E],I=this.getCurvePercent(E/xe.ENTRIES-1,1-(t-S)/(a[E+xe.PREV_TIME]-S));u+=(a[E+xe.R]-u)*I,f+=(a[E+xe.G]-f)*I,d+=(a[E+xe.B]-d)*I,p+=(a[E+xe.A]-p)*I,b+=(a[E+xe.R2]-b)*I,y+=(a[E+xe.G2]-y)*I,w+=(a[E+xe.B2]-w)*I}if(l==1)n.color.set(u,f,d,p),n.darkColor.set(b,y,w,1);else{const E=n.color,S=n.darkColor;m==k.setup&&(E.setFromColor(n.data.color),S.setFromColor(n.data.darkColor)),E.add((u-E.r)*l,(f-E.g)*l,(d-E.b)*l,(p-E.a)*l),S.add((b-S.r)*l,(y-S.g)*l,(w-S.b)*l,0)}}};let nt=xe;nt.ENTRIES=8;nt.PREV_TIME=-8;nt.PREV_R=-7;nt.PREV_G=-6;nt.PREV_B=-5;nt.PREV_A=-4;nt.PREV_R2=-3;nt.PREV_G2=-2;nt.PREV_B2=-1;nt.R=1;nt.G=2;nt.B=3;nt.A=4;nt.R2=5;nt.G2=6;nt.B2=7;let rd=class{constructor(e){this.frames=D.newFloatArray(e),this.attachmentNames=new Array(e)}getPropertyId(){return(4<<24)+this.slotIndex}getFrameCount(){return this.frames.length}setFrame(e,s,t){this.frames[e]=s,this.attachmentNames[e]=t}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex];if(!n.bone.active)return;if(h==He.mixOut){m==k.setup&&this.setAttachment(e,n,n.data.attachmentName);return}const a=this.frames;if(t<a[0]){(m==k.setup||m==k.first)&&this.setAttachment(e,n,n.data.attachmentName);return}let u=0;t>=a[a.length-1]?u=a.length-1:u=ft.binarySearch(a,t,1)-1;const f=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}setAttachment(e,s,t){s.setAttachment(t==null?null:e.getAttachment(this.slotIndex,t))}},Hu=null,sd=class extends Wt{constructor(e){super(e),this.frames=D.newFloatArray(e),this.frameVertices=new Array(e),Hu==null&&(Hu=D.newFloatArray(64))}getPropertyId(){return(6<<27)+Number(this.attachment.id)+this.slotIndex}setFrame(e,s,t){this.frames[e]=s,this.frameVertices[e]=t}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex];if(!n.bone.active)return;const a=n.getAttachment();if(!(a instanceof Wr)||a.deformAttachment!=this.attachment)return;const u=n.deform;u.length==0&&(m=k.setup);const f=this.frameVertices,d=f[0].length,p=this.frames;if(t<p[0]){const _=a;switch(m){case k.setup:u.length=0;return;case k.first:if(l==1){u.length=0;break}const R=D.setArraySize(u,d);if(_.bones==null){const T=_.vertices;for(let P=0;P<d;P++)R[P]+=(T[P]-R[P])*l}else{l=1-l;for(let T=0;T<d;T++)R[T]*=l}}return}const b=D.setArraySize(u,d);if(t>=p[p.length-1]){const _=f[p.length-1];if(l==1)if(m==k.add){const R=a;if(R.bones==null){const T=R.vertices;for(let P=0;P<d;P++)b[P]+=_[P]-T[P]}else for(let T=0;T<d;T++)b[T]+=_[T]}else D.arrayCopy(_,0,b,0,d);else switch(m){case k.setup:{const T=a;if(T.bones==null){const P=T.vertices;for(let L=0;L<d;L++){const j=P[L];b[L]=j+(_[L]-j)*l}}else for(let P=0;P<d;P++)b[P]=_[P]*l;break}case k.first:case k.replace:for(let T=0;T<d;T++)b[T]+=(_[T]-b[T])*l;break;case k.add:const R=a;if(R.bones==null){const T=R.vertices;for(let P=0;P<d;P++)b[P]+=(_[P]-T[P])*l}else for(let T=0;T<d;T++)b[T]+=_[T]*l}return}const y=ft.binarySearch(p,t),w=f[y-1],E=f[y],S=p[y],I=this.getCurvePercent(y-1,1-(t-S)/(p[y-1]-S));if(l==1)if(m==k.add){const _=a;if(_.bones==null){const R=_.vertices;for(let T=0;T<d;T++){const P=w[T];b[T]+=P+(E[T]-P)*I-R[T]}}else for(let R=0;R<d;R++){const T=w[R];b[R]+=T+(E[R]-T)*I}}else for(let _=0;_<d;_++){const R=w[_];b[_]=R+(E[_]-R)*I}else switch(m){case k.setup:{const R=a;if(R.bones==null){const T=R.vertices;for(let P=0;P<d;P++){const L=w[P],j=T[P];b[P]=j+(L+(E[P]-L)*I-j)*l}}else for(let T=0;T<d;T++){const P=w[T];b[T]=(P+(E[T]-P)*I)*l}break}case k.first:case k.replace:for(let R=0;R<d;R++){const T=w[R];b[R]+=(T+(E[R]-T)*I-b[R])*l}break;case k.add:const _=a;if(_.bones==null){const R=_.vertices;for(let T=0;T<d;T++){const P=w[T];b[T]+=(P+(E[T]-P)*I-R[T])*l}}else for(let R=0;R<d;R++){const T=w[R];b[R]+=(T+(E[R]-T)*I)*l}}}},id=class{constructor(e){this.frames=D.newFloatArray(e),this.events=new Array(e)}getPropertyId(){return 7<<24}getFrameCount(){return this.frames.length}setFrame(e,s){this.frames[e]=s.time,this.events[e]=s}apply(e,s,t,c,l,m,h){if(c==null)return;const n=this.frames,a=this.frames.length;if(s>t)this.apply(e,s,Number.MAX_VALUE,c,l,m,h),s=-1;else if(s>=n[a-1])return;if(t<n[0])return;let u=0;if(s<n[0])u=0;else{u=ft.binarySearch(n,s);const f=n[u];for(;u>0&&n[u-1]==f;)u--}for(;u<a&&t>=n[u];u++)c.push(this.events[u])}},od=class{constructor(e){this.frames=D.newFloatArray(e),this.drawOrders=new Array(e)}getPropertyId(){return 8<<24}getFrameCount(){return this.frames.length}setFrame(e,s,t){this.frames[e]=s,this.drawOrders[e]=t}apply(e,s,t,c,l,m,h){const n=e.drawOrder,a=e.slots;if(h==He.mixOut&&m==k.setup){D.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}const u=this.frames;if(t<u[0]){(m==k.setup||m==k.first)&&D.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}let f=0;t>=u[u.length-1]?f=u.length-1:f=ft.binarySearch(u,t)-1;const d=this.drawOrders[f];if(d==null)D.arrayCopy(a,0,n,0,a.length);else for(let p=0,b=d.length;p<b;p++)n[p]=a[d[p]]}};const Ee=class extends Wt{constructor(e){super(e),this.frames=D.newFloatArray(e*Ee.ENTRIES)}getPropertyId(){return(9<<24)+this.ikConstraintIndex}setFrame(e,s,t,c,l,m,h){e*=Ee.ENTRIES,this.frames[e]=s,this.frames[e+Ee.MIX]=t,this.frames[e+Ee.SOFTNESS]=c,this.frames[e+Ee.BEND_DIRECTION]=l,this.frames[e+Ee.COMPRESS]=m?1:0,this.frames[e+Ee.STRETCH]=h?1:0}apply(e,s,t,c,l,m,h){const n=this.frames,a=e.ikConstraints[this.ikConstraintIndex];if(!a.active)return;if(t<n[0]){switch(m){case k.setup:a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch;return;case k.first:a.mix+=(a.data.mix-a.mix)*l,a.softness+=(a.data.softness-a.softness)*l,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}return}if(t>=n[n.length-Ee.ENTRIES]){m==k.setup?(a.mix=a.data.mix+(n[n.length+Ee.PREV_MIX]-a.data.mix)*l,a.softness=a.data.softness+(n[n.length+Ee.PREV_SOFTNESS]-a.data.softness)*l,h==He.mixOut?(a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch):(a.bendDirection=n[n.length+Ee.PREV_BEND_DIRECTION],a.compress=n[n.length+Ee.PREV_COMPRESS]!=0,a.stretch=n[n.length+Ee.PREV_STRETCH]!=0)):(a.mix+=(n[n.length+Ee.PREV_MIX]-a.mix)*l,a.softness+=(n[n.length+Ee.PREV_SOFTNESS]-a.softness)*l,h==He.mixIn&&(a.bendDirection=n[n.length+Ee.PREV_BEND_DIRECTION],a.compress=n[n.length+Ee.PREV_COMPRESS]!=0,a.stretch=n[n.length+Ee.PREV_STRETCH]!=0));return}const u=ft.binarySearch(n,t,Ee.ENTRIES),f=n[u+Ee.PREV_MIX],d=n[u+Ee.PREV_SOFTNESS],p=n[u],b=this.getCurvePercent(u/Ee.ENTRIES-1,1-(t-p)/(n[u+Ee.PREV_TIME]-p));m==k.setup?(a.mix=a.data.mix+(f+(n[u+Ee.MIX]-f)*b-a.data.mix)*l,a.softness=a.data.softness+(d+(n[u+Ee.SOFTNESS]-d)*b-a.data.softness)*l,h==He.mixOut?(a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch):(a.bendDirection=n[u+Ee.PREV_BEND_DIRECTION],a.compress=n[u+Ee.PREV_COMPRESS]!=0,a.stretch=n[u+Ee.PREV_STRETCH]!=0)):(a.mix+=(f+(n[u+Ee.MIX]-f)*b-a.mix)*l,a.softness+=(d+(n[u+Ee.SOFTNESS]-d)*b-a.softness)*l,h==He.mixIn&&(a.bendDirection=n[u+Ee.PREV_BEND_DIRECTION],a.compress=n[u+Ee.PREV_COMPRESS]!=0,a.stretch=n[u+Ee.PREV_STRETCH]!=0))}};let St=Ee;St.ENTRIES=6;St.PREV_TIME=-6;St.PREV_MIX=-5;St.PREV_SOFTNESS=-4;St.PREV_BEND_DIRECTION=-3;St.PREV_COMPRESS=-2;St.PREV_STRETCH=-1;St.MIX=1;St.SOFTNESS=2;St.BEND_DIRECTION=3;St.COMPRESS=4;St.STRETCH=5;const Xe=class extends Wt{constructor(e){super(e),this.frames=D.newFloatArray(e*Xe.ENTRIES)}getPropertyId(){return(10<<24)+this.transformConstraintIndex}setFrame(e,s,t,c,l,m){e*=Xe.ENTRIES,this.frames[e]=s,this.frames[e+Xe.ROTATE]=t,this.frames[e+Xe.TRANSLATE]=c,this.frames[e+Xe.SCALE]=l,this.frames[e+Xe.SHEAR]=m}apply(e,s,t,c,l,m,h){const n=this.frames,a=e.transformConstraints[this.transformConstraintIndex];if(!a.active)return;if(t<n[0]){const b=a.data;switch(m){case k.setup:a.rotateMix=b.rotateMix,a.translateMix=b.translateMix,a.scaleMix=b.scaleMix,a.shearMix=b.shearMix;return;case k.first:a.rotateMix+=(b.rotateMix-a.rotateMix)*l,a.translateMix+=(b.translateMix-a.translateMix)*l,a.scaleMix+=(b.scaleMix-a.scaleMix)*l,a.shearMix+=(b.shearMix-a.shearMix)*l}return}let u=0,f=0,d=0,p=0;if(t>=n[n.length-Xe.ENTRIES]){const b=n.length;u=n[b+Xe.PREV_ROTATE],f=n[b+Xe.PREV_TRANSLATE],d=n[b+Xe.PREV_SCALE],p=n[b+Xe.PREV_SHEAR]}else{const b=ft.binarySearch(n,t,Xe.ENTRIES);u=n[b+Xe.PREV_ROTATE],f=n[b+Xe.PREV_TRANSLATE],d=n[b+Xe.PREV_SCALE],p=n[b+Xe.PREV_SHEAR];const y=n[b],w=this.getCurvePercent(b/Xe.ENTRIES-1,1-(t-y)/(n[b+Xe.PREV_TIME]-y));u+=(n[b+Xe.ROTATE]-u)*w,f+=(n[b+Xe.TRANSLATE]-f)*w,d+=(n[b+Xe.SCALE]-d)*w,p+=(n[b+Xe.SHEAR]-p)*w}if(m==k.setup){const b=a.data;a.rotateMix=b.rotateMix+(u-b.rotateMix)*l,a.translateMix=b.translateMix+(f-b.translateMix)*l,a.scaleMix=b.scaleMix+(d-b.scaleMix)*l,a.shearMix=b.shearMix+(p-b.shearMix)*l}else a.rotateMix+=(u-a.rotateMix)*l,a.translateMix+=(f-a.translateMix)*l,a.scaleMix+=(d-a.scaleMix)*l,a.shearMix+=(p-a.shearMix)*l}};let Yt=Xe;Yt.ENTRIES=5;Yt.PREV_TIME=-5;Yt.PREV_ROTATE=-4;Yt.PREV_TRANSLATE=-3;Yt.PREV_SCALE=-2;Yt.PREV_SHEAR=-1;Yt.ROTATE=1;Yt.TRANSLATE=2;Yt.SCALE=3;Yt.SHEAR=4;const bn=class extends Wt{constructor(e){super(e),this.frames=D.newFloatArray(e*bn.ENTRIES)}getPropertyId(){return(11<<24)+this.pathConstraintIndex}setFrame(e,s,t){e*=bn.ENTRIES,this.frames[e]=s,this.frames[e+bn.VALUE]=t}apply(e,s,t,c,l,m,h){const n=this.frames,a=e.pathConstraints[this.pathConstraintIndex];if(!a.active)return;if(t<n[0]){switch(m){case k.setup:a.position=a.data.position;return;case k.first:a.position+=(a.data.position-a.position)*l}return}let u=0;if(t>=n[n.length-bn.ENTRIES])u=n[n.length+bn.PREV_VALUE];else{const f=ft.binarySearch(n,t,bn.ENTRIES);u=n[f+bn.PREV_VALUE];const d=n[f],p=this.getCurvePercent(f/bn.ENTRIES-1,1-(t-d)/(n[f+bn.PREV_TIME]-d));u+=(n[f+bn.VALUE]-u)*p}m==k.setup?a.position=a.data.position+(u-a.data.position)*l:a.position+=(u-a.position)*l}};let tr=bn;tr.ENTRIES=2;tr.PREV_TIME=-2;tr.PREV_VALUE=-1;tr.VALUE=1;let ad=class br extends tr{constructor(e){super(e)}getPropertyId(){return(12<<24)+this.pathConstraintIndex}apply(e,s,t,c,l,m,h){const n=this.frames,a=e.pathConstraints[this.pathConstraintIndex];if(!a.active)return;if(t<n[0]){switch(m){case k.setup:a.spacing=a.data.spacing;return;case k.first:a.spacing+=(a.data.spacing-a.spacing)*l}return}let u=0;if(t>=n[n.length-br.ENTRIES])u=n[n.length+br.PREV_VALUE];else{const f=ft.binarySearch(n,t,br.ENTRIES);u=n[f+br.PREV_VALUE];const d=n[f],p=this.getCurvePercent(f/br.ENTRIES-1,1-(t-d)/(n[f+br.PREV_TIME]-d));u+=(n[f+br.VALUE]-u)*p}m==k.setup?a.spacing=a.data.spacing+(u-a.data.spacing)*l:a.spacing+=(u-a.spacing)*l}};const Tt=class extends Wt{constructor(e){super(e),this.frames=D.newFloatArray(e*Tt.ENTRIES)}getPropertyId(){return(13<<24)+this.pathConstraintIndex}setFrame(e,s,t,c){e*=Tt.ENTRIES,this.frames[e]=s,this.frames[e+Tt.ROTATE]=t,this.frames[e+Tt.TRANSLATE]=c}apply(e,s,t,c,l,m,h){const n=this.frames,a=e.pathConstraints[this.pathConstraintIndex];if(!a.active)return;if(t<n[0]){switch(m){case k.setup:a.rotateMix=a.data.rotateMix,a.translateMix=a.data.translateMix;return;case k.first:a.rotateMix+=(a.data.rotateMix-a.rotateMix)*l,a.translateMix+=(a.data.translateMix-a.translateMix)*l}return}let u=0,f=0;if(t>=n[n.length-Tt.ENTRIES])u=n[n.length+Tt.PREV_ROTATE],f=n[n.length+Tt.PREV_TRANSLATE];else{const d=ft.binarySearch(n,t,Tt.ENTRIES);u=n[d+Tt.PREV_ROTATE],f=n[d+Tt.PREV_TRANSLATE];const p=n[d],b=this.getCurvePercent(d/Tt.ENTRIES-1,1-(t-p)/(n[d+Tt.PREV_TIME]-p));u+=(n[d+Tt.ROTATE]-u)*b,f+=(n[d+Tt.TRANSLATE]-f)*b}m==k.setup?(a.rotateMix=a.data.rotateMix+(u-a.data.rotateMix)*l,a.translateMix=a.data.translateMix+(f-a.data.translateMix)*l):(a.rotateMix+=(u-a.rotateMix)*l,a.translateMix+=(f-a.translateMix)*l)}};let Xn=Tt;Xn.ENTRIES=3;Xn.PREV_TIME=-3;Xn.PREV_ROTATE=-2;Xn.PREV_TRANSLATE=-1;Xn.ROTATE=1;Xn.TRANSLATE=2;new ft("<empty>",[],0);let ld=class{constructor(e){this.atlas=e}newRegionAttachment(e,s,t){const c=this.atlas.findRegion(t);if(c==null)throw new Error(`Region not found in atlas: ${t} (region attachment: ${s})`);const l=new ue(s);return l.region=c,l}newMeshAttachment(e,s,t){const c=this.atlas.findRegion(t);if(c==null)throw new Error(`Region not found in atlas: ${t} (mesh attachment: ${s})`);const l=new Jh(s);return l.region=c,l}newBoundingBoxAttachment(e,s){return new pg(s)}newPathAttachment(e,s){return new vg(s)}newPointAttachment(e,s){return new xg(s)}newClippingAttachment(e,s){return new bg(s)}},cd=class{constructor(e,s,t){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=tt.Normal,this.skinRequired=!1,this.color=new J,e<0)throw new Error("index must be >= 0.");if(s==null)throw new Error("name cannot be null.");this.index=e,this.name=s,this.parent=t}},Al=class{constructor(e,s,t){this.name=e,this.order=s,this.skinRequired=t}},ud=class{constructor(e,s){if(s==null)throw new Error("data cannot be null.");this.time=e,this.data=s}},hd=class{constructor(e){this.name=e}},dd=class extends Al{constructor(e){super(e,0,!1),this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.softness=0}},fd=class extends Al{constructor(e){super(e,0,!1),this.bones=new Array}};var Pt=(i=>(i[i.Length=0]="Length",i[i.Fixed=1]="Fixed",i[i.Percent=2]="Percent",i))(Pt||{});let md=class{constructor(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}findBone(e){if(e==null)throw new Error("boneName cannot be null.");const s=this.bones;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findBoneIndex(e){if(e==null)throw new Error("boneName cannot be null.");const s=this.bones;for(let t=0,c=s.length;t<c;t++)if(s[t].name==e)return t;return-1}findSlot(e){if(e==null)throw new Error("slotName cannot be null.");const s=this.slots;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findSlotIndex(e){if(e==null)throw new Error("slotName cannot be null.");const s=this.slots;for(let t=0,c=s.length;t<c;t++)if(s[t].name==e)return t;return-1}findSkin(e){if(e==null)throw new Error("skinName cannot be null.");const s=this.skins;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findEvent(e){if(e==null)throw new Error("eventDataName cannot be null.");const s=this.events;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findAnimation(e){if(e==null)throw new Error("animationName cannot be null.");const s=this.animations;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findIkConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");const s=this.ikConstraints;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findTransformConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");const s=this.transformConstraints;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findPathConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");const s=this.pathConstraints;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findPathConstraintIndex(e){if(e==null)throw new Error("pathConstraintName cannot be null.");const s=this.pathConstraints;for(let t=0,c=s.length;t<c;t++)if(s[t].name==e)return t;return-1}},gd=class{constructor(e,s,t){if(this.color=new J(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(s==null)throw new Error("name cannot be null.");if(t==null)throw new Error("boneData cannot be null.");this.index=e,this.name=s,this.boneData=t}},pd=class extends Al{constructor(e){super(e,0,!1),this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1}},Wu=class{constructor(e,s,t){this.slotIndex=e,this.name=s,this.attachment=t}},ol=class{constructor(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}setAttachment(e,s,t){if(t==null)throw new Error("attachment cannot be null.");const c=this.attachments;e>=c.length&&(c.length=e+1),c[e]||(c[e]={}),c[e][s]=t}addSkin(e){for(let t=0;t<e.bones.length;t++){const c=e.bones[t];let l=!1;for(let m=0;m<this.bones.length;m++)if(this.bones[m]==c){l=!0;break}l||this.bones.push(c)}for(let t=0;t<e.constraints.length;t++){const c=e.constraints[t];let l=!1;for(let m=0;m<this.constraints.length;m++)if(this.constraints[m]==c){l=!0;break}l||this.constraints.push(c)}const s=e.getAttachments();for(let t=0;t<s.length;t++){const c=s[t];this.setAttachment(c.slotIndex,c.name,c.attachment)}}copySkin(e){for(let t=0;t<e.bones.length;t++){const c=e.bones[t];let l=!1;for(let m=0;m<this.bones.length;m++)if(this.bones[m]==c){l=!0;break}l||this.bones.push(c)}for(let t=0;t<e.constraints.length;t++){const c=e.constraints[t];let l=!1;for(let m=0;m<this.constraints.length;m++)if(this.constraints[m]==c){l=!0;break}l||this.constraints.push(c)}const s=e.getAttachments();for(let t=0;t<s.length;t++){const c=s[t];c.attachment!=null&&(c.attachment instanceof Jh?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}}getAttachment(e,s){const t=this.attachments[e];return t?t[s]:null}removeAttachment(e,s){const t=this.attachments[e];t&&(t[s]=null)}getAttachments(){const e=new Array;for(let s=0;s<this.attachments.length;s++){const t=this.attachments[s];if(t)for(const c in t){const l=t[c];l&&e.push(new Wu(s,c,l))}}return e}getAttachmentsForSlot(e,s){const t=this.attachments[e];if(t)for(const c in t){const l=t[c];l&&s.push(new Wu(e,c,l))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(e,s){let t=0;for(let c=0;c<e.slots.length;c++){const l=e.slots[c],m=l.getAttachment();if(m&&t<s.attachments.length){const h=s.attachments[t];for(const n in h){const a=h[n];if(m==a){const u=this.getAttachment(t,n);u!=null&&l.setAttachment(u);break}}}t++}}};const ze=class{constructor(i){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=i}readSkeletonData(i){const e=this.scale,s=new md;s.name="";const t=new ho(i);s.hash=t.readString(),s.version=t.readString(),s.version==="3.8.75"&&console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine."),s.x=t.readFloat(),s.y=t.readFloat(),s.width=t.readFloat(),s.height=t.readFloat();const c=t.readBoolean();c&&(s.fps=t.readFloat(),s.imagesPath=t.readString(),s.audioPath=t.readString());let l=0;l=t.readInt(!0);for(let h=0;h<l;h++)t.strings.push(t.readString());l=t.readInt(!0);for(let h=0;h<l;h++){const n=t.readString(),a=h==0?null:s.bones[t.readInt(!0)],u=new cd(h,n,a);u.rotation=t.readFloat(),u.x=t.readFloat()*e,u.y=t.readFloat()*e,u.scaleX=t.readFloat(),u.scaleY=t.readFloat(),u.shearX=t.readFloat(),u.shearY=t.readFloat(),u.length=t.readFloat()*e,u.transformMode=ze.TransformModeValues[t.readInt(!0)],u.skinRequired=t.readBoolean(),c&&J.rgba8888ToColor(u.color,t.readInt32()),s.bones.push(u)}l=t.readInt(!0);for(let h=0;h<l;h++){const n=t.readString(),a=s.bones[t.readInt(!0)],u=new gd(h,n,a);J.rgba8888ToColor(u.color,t.readInt32());const f=t.readInt32();f!=-1&&J.rgb888ToColor(u.darkColor=new J,f),u.attachmentName=t.readStringRef(),u.blendMode=ze.BlendModeValues[t.readInt(!0)],s.slots.push(u)}l=t.readInt(!0);for(let h=0,n;h<l;h++){const a=new dd(t.readString());a.order=t.readInt(!0),a.skinRequired=t.readBoolean(),n=t.readInt(!0);for(let u=0;u<n;u++)a.bones.push(s.bones[t.readInt(!0)]);a.target=s.bones[t.readInt(!0)],a.mix=t.readFloat(),a.softness=t.readFloat()*e,a.bendDirection=t.readByte(),a.compress=t.readBoolean(),a.stretch=t.readBoolean(),a.uniform=t.readBoolean(),s.ikConstraints.push(a)}l=t.readInt(!0);for(let h=0,n;h<l;h++){const a=new pd(t.readString());a.order=t.readInt(!0),a.skinRequired=t.readBoolean(),n=t.readInt(!0);for(let u=0;u<n;u++)a.bones.push(s.bones[t.readInt(!0)]);a.target=s.bones[t.readInt(!0)],a.local=t.readBoolean(),a.relative=t.readBoolean(),a.offsetRotation=t.readFloat(),a.offsetX=t.readFloat()*e,a.offsetY=t.readFloat()*e,a.offsetScaleX=t.readFloat(),a.offsetScaleY=t.readFloat(),a.offsetShearY=t.readFloat(),a.rotateMix=t.readFloat(),a.translateMix=t.readFloat(),a.scaleMix=t.readFloat(),a.shearMix=t.readFloat(),s.transformConstraints.push(a)}l=t.readInt(!0);for(let h=0,n;h<l;h++){const a=new fd(t.readString());a.order=t.readInt(!0),a.skinRequired=t.readBoolean(),n=t.readInt(!0);for(let u=0;u<n;u++)a.bones.push(s.bones[t.readInt(!0)]);a.target=s.slots[t.readInt(!0)],a.positionMode=ze.PositionModeValues[t.readInt(!0)],a.spacingMode=ze.SpacingModeValues[t.readInt(!0)],a.rotateMode=ze.RotateModeValues[t.readInt(!0)],a.offsetRotation=t.readFloat(),a.position=t.readFloat(),a.positionMode==ot.Fixed&&(a.position*=e),a.spacing=t.readFloat(),(a.spacingMode==Pt.Length||a.spacingMode==Pt.Fixed)&&(a.spacing*=e),a.rotateMix=t.readFloat(),a.translateMix=t.readFloat(),s.pathConstraints.push(a)}const m=this.readSkin(t,s,!0,c);m!=null&&(s.defaultSkin=m,s.skins.push(m));{let h=s.skins.length;for(D.setArraySize(s.skins,l=h+t.readInt(!0));h<l;h++)s.skins[h]=this.readSkin(t,s,!1,c)}l=this.linkedMeshes.length;for(let h=0;h<l;h++){const n=this.linkedMeshes[h],a=n.skin==null?s.defaultSkin:s.findSkin(n.skin);if(a==null)throw new Error(`Skin not found: ${n.skin}`);const u=a.getAttachment(n.slotIndex,n.parent);if(u==null)throw new Error(`Parent mesh not found: ${n.parent}`);n.mesh.deformAttachment=n.inheritDeform?u:n.mesh,n.mesh.setParentMesh(u)}this.linkedMeshes.length=0,l=t.readInt(!0);for(let h=0;h<l;h++){const n=new hd(t.readStringRef());n.intValue=t.readInt(!1),n.floatValue=t.readFloat(),n.stringValue=t.readString(),n.audioPath=t.readString(),n.audioPath!=null&&(n.volume=t.readFloat(),n.balance=t.readFloat()),s.events.push(n)}l=t.readInt(!0);for(let h=0;h<l;h++)s.animations.push(this.readAnimation(t,t.readString(),s));return s}readSkin(i,e,s,t){let c=null,l=0;if(s){if(l=i.readInt(!0),l==0)return null;c=new ol("default")}else{c=new ol(i.readStringRef()),c.bones.length=i.readInt(!0);for(let m=0,h=c.bones.length;m<h;m++)c.bones[m]=e.bones[i.readInt(!0)];for(let m=0,h=i.readInt(!0);m<h;m++)c.constraints.push(e.ikConstraints[i.readInt(!0)]);for(let m=0,h=i.readInt(!0);m<h;m++)c.constraints.push(e.transformConstraints[i.readInt(!0)]);for(let m=0,h=i.readInt(!0);m<h;m++)c.constraints.push(e.pathConstraints[i.readInt(!0)]);l=i.readInt(!0)}for(let m=0;m<l;m++){const h=i.readInt(!0);for(let n=0,a=i.readInt(!0);n<a;n++){const u=i.readStringRef(),f=this.readAttachment(i,e,c,h,u,t);f!=null&&c.setAttachment(h,u,f)}}return c}readAttachment(i,e,s,t,c,l){const m=this.scale;let h=i.readStringRef();h==null&&(h=c);const n=i.readByte();switch(ze.AttachmentTypeValues[n]){case me.Region:{let u=i.readStringRef();const f=i.readFloat(),d=i.readFloat(),p=i.readFloat(),b=i.readFloat(),y=i.readFloat(),w=i.readFloat(),E=i.readFloat(),S=i.readInt32();u==null&&(u=h);const I=this.attachmentLoader.newRegionAttachment(s,h,u);return I==null?null:(I.path=u,I.x=d*m,I.y=p*m,I.scaleX=b,I.scaleY=y,I.rotation=f,I.width=w*m,I.height=E*m,J.rgba8888ToColor(I.color,S),I)}case me.BoundingBox:{const u=i.readInt(!0),f=this.readVertices(i,u),d=l?i.readInt32():0,p=this.attachmentLoader.newBoundingBoxAttachment(s,h);return p==null?null:(p.worldVerticesLength=u<<1,p.vertices=f.vertices,p.bones=f.bones,l&&J.rgba8888ToColor(p.color,d),p)}case me.Mesh:{let u=i.readStringRef();const f=i.readInt32(),d=i.readInt(!0),p=this.readFloatArray(i,d<<1,1),b=this.readShortArray(i),y=this.readVertices(i,d),w=i.readInt(!0);let E=null,S=0,I=0;l&&(E=this.readShortArray(i),S=i.readFloat(),I=i.readFloat()),u==null&&(u=h);const _=this.attachmentLoader.newMeshAttachment(s,h,u);return _==null?null:(_.path=u,J.rgba8888ToColor(_.color,f),_.bones=y.bones,_.vertices=y.vertices,_.worldVerticesLength=d<<1,_.triangles=b,_.regionUVs=new Float32Array(p),_.hullLength=w<<1,l&&(_.edges=E,_.width=S*m,_.height=I*m),_)}case me.LinkedMesh:{let u=i.readStringRef();const f=i.readInt32(),d=i.readStringRef(),p=i.readStringRef(),b=i.readBoolean();let y=0,w=0;l&&(y=i.readFloat(),w=i.readFloat()),u==null&&(u=h);const E=this.attachmentLoader.newMeshAttachment(s,h,u);return E==null?null:(E.path=u,J.rgba8888ToColor(E.color,f),l&&(E.width=y*m,E.height=w*m),this.linkedMeshes.push(new wg(E,d,t,p,b)),E)}case me.Path:{const u=i.readBoolean(),f=i.readBoolean(),d=i.readInt(!0),p=this.readVertices(i,d),b=D.newArray(d/3,0);for(let E=0,S=b.length;E<S;E++)b[E]=i.readFloat()*m;const y=l?i.readInt32():0,w=this.attachmentLoader.newPathAttachment(s,h);return w==null?null:(w.closed=u,w.constantSpeed=f,w.worldVerticesLength=d<<1,w.vertices=p.vertices,w.bones=p.bones,w.lengths=b,l&&J.rgba8888ToColor(w.color,y),w)}case me.Point:{const u=i.readFloat(),f=i.readFloat(),d=i.readFloat(),p=l?i.readInt32():0,b=this.attachmentLoader.newPointAttachment(s,h);return b==null?null:(b.x=f*m,b.y=d*m,b.rotation=u,l&&J.rgba8888ToColor(b.color,p),b)}case me.Clipping:{const u=i.readInt(!0),f=i.readInt(!0),d=this.readVertices(i,f),p=l?i.readInt32():0,b=this.attachmentLoader.newClippingAttachment(s,h);return b==null?null:(b.endSlot=e.slots[u],b.worldVerticesLength=f<<1,b.vertices=d.vertices,b.bones=d.bones,l&&J.rgba8888ToColor(b.color,p),b)}}return null}readVertices(i,e){const s=e<<1,t=new Eg,c=this.scale;if(!i.readBoolean())return t.vertices=this.readFloatArray(i,s,c),t;const l=new Array,m=new Array;for(let h=0;h<e;h++){const n=i.readInt(!0);m.push(n);for(let a=0;a<n;a++)m.push(i.readInt(!0)),l.push(i.readFloat()*c),l.push(i.readFloat()*c),l.push(i.readFloat())}return t.vertices=D.toFloatArray(l),t.bones=m,t}readFloatArray(i,e,s){const t=new Array(e);if(s==1)for(let c=0;c<e;c++)t[c]=i.readFloat();else for(let c=0;c<e;c++)t[c]=i.readFloat()*s;return t}readShortArray(i){const e=i.readInt(!0),s=new Array(e);for(let t=0;t<e;t++)s[t]=i.readShort();return s}readAnimation(i,e,s){const t=new Array,c=this.scale;let l=0;const m=new J,h=new J;for(let u=0,f=i.readInt(!0);u<f;u++){const d=i.readInt(!0);for(let p=0,b=i.readInt(!0);p<b;p++){const y=i.readByte(),w=i.readInt(!0);switch(y){case ze.SLOT_ATTACHMENT:{const E=new rd(w);E.slotIndex=d;for(let S=0;S<w;S++)E.setFrame(S,i.readFloat(),i.readStringRef());t.push(E),l=Math.max(l,E.frames[w-1]);break}case ze.SLOT_COLOR:{const E=new Bt(w);E.slotIndex=d;for(let S=0;S<w;S++){const I=i.readFloat();J.rgba8888ToColor(m,i.readInt32()),E.setFrame(S,I,m.r,m.g,m.b,m.a),S<w-1&&this.readCurve(i,S,E)}t.push(E),l=Math.max(l,E.frames[(w-1)*Bt.ENTRIES]);break}case ze.SLOT_TWO_COLOR:{const E=new nt(w);E.slotIndex=d;for(let S=0;S<w;S++){const I=i.readFloat();J.rgba8888ToColor(m,i.readInt32()),J.rgb888ToColor(h,i.readInt32()),E.setFrame(S,I,m.r,m.g,m.b,m.a,h.r,h.g,h.b),S<w-1&&this.readCurve(i,S,E)}t.push(E),l=Math.max(l,E.frames[(w-1)*nt.ENTRIES]);break}}}}for(let u=0,f=i.readInt(!0);u<f;u++){const d=i.readInt(!0);for(let p=0,b=i.readInt(!0);p<b;p++){const y=i.readByte(),w=i.readInt(!0);switch(y){case ze.BONE_ROTATE:{const E=new _r(w);E.boneIndex=d;for(let S=0;S<w;S++)E.setFrame(S,i.readFloat(),i.readFloat()),S<w-1&&this.readCurve(i,S,E);t.push(E),l=Math.max(l,E.frames[(w-1)*_r.ENTRIES]);break}case ze.BONE_TRANSLATE:case ze.BONE_SCALE:case ze.BONE_SHEAR:{let E,S=1;y==ze.BONE_SCALE?E=new td(w):y==ze.BONE_SHEAR?E=new nd(w):(E=new on(w),S=c),E.boneIndex=d;for(let I=0;I<w;I++)E.setFrame(I,i.readFloat(),i.readFloat()*S,i.readFloat()*S),I<w-1&&this.readCurve(i,I,E);t.push(E),l=Math.max(l,E.frames[(w-1)*on.ENTRIES]);break}}}}for(let u=0,f=i.readInt(!0);u<f;u++){const d=i.readInt(!0),p=i.readInt(!0),b=new St(p);b.ikConstraintIndex=d;for(let y=0;y<p;y++)b.setFrame(y,i.readFloat(),i.readFloat(),i.readFloat()*c,i.readByte(),i.readBoolean(),i.readBoolean()),y<p-1&&this.readCurve(i,y,b);t.push(b),l=Math.max(l,b.frames[(p-1)*St.ENTRIES])}for(let u=0,f=i.readInt(!0);u<f;u++){const d=i.readInt(!0),p=i.readInt(!0),b=new Yt(p);b.transformConstraintIndex=d;for(let y=0;y<p;y++)b.setFrame(y,i.readFloat(),i.readFloat(),i.readFloat(),i.readFloat(),i.readFloat()),y<p-1&&this.readCurve(i,y,b);t.push(b),l=Math.max(l,b.frames[(p-1)*Yt.ENTRIES])}for(let u=0,f=i.readInt(!0);u<f;u++){const d=i.readInt(!0),p=s.pathConstraints[d];for(let b=0,y=i.readInt(!0);b<y;b++){const w=i.readByte(),E=i.readInt(!0);switch(w){case ze.PATH_POSITION:case ze.PATH_SPACING:{let S,I=1;w==ze.PATH_SPACING?(S=new ad(E),(p.spacingMode==Pt.Length||p.spacingMode==Pt.Fixed)&&(I=c)):(S=new tr(E),p.positionMode==ot.Fixed&&(I=c)),S.pathConstraintIndex=d;for(let _=0;_<E;_++)S.setFrame(_,i.readFloat(),i.readFloat()*I),_<E-1&&this.readCurve(i,_,S);t.push(S),l=Math.max(l,S.frames[(E-1)*tr.ENTRIES]);break}case ze.PATH_MIX:{const S=new Xn(E);S.pathConstraintIndex=d;for(let I=0;I<E;I++)S.setFrame(I,i.readFloat(),i.readFloat(),i.readFloat()),I<E-1&&this.readCurve(i,I,S);t.push(S),l=Math.max(l,S.frames[(E-1)*Xn.ENTRIES]);break}}}}for(let u=0,f=i.readInt(!0);u<f;u++){const d=s.skins[i.readInt(!0)];for(let p=0,b=i.readInt(!0);p<b;p++){const y=i.readInt(!0);for(let w=0,E=i.readInt(!0);w<E;w++){const S=d.getAttachment(y,i.readStringRef()),I=S.bones!=null,_=S.vertices,R=I?_.length/3*2:_.length,T=i.readInt(!0),P=new sd(T);P.slotIndex=y,P.attachment=S;for(let L=0;L<T;L++){const j=i.readFloat();let q,X=i.readInt(!0);if(X==0)q=I?D.newFloatArray(R):_;else{q=D.newFloatArray(R);const Q=i.readInt(!0);if(X+=Q,c==1)for(let ee=Q;ee<X;ee++)q[ee]=i.readFloat();else for(let ee=Q;ee<X;ee++)q[ee]=i.readFloat()*c;if(!I)for(let ee=0,ie=q.length;ee<ie;ee++)q[ee]+=_[ee]}P.setFrame(L,j,q),L<T-1&&this.readCurve(i,L,P)}t.push(P),l=Math.max(l,P.frames[T-1])}}}const n=i.readInt(!0);if(n>0){const u=new od(n),f=s.slots.length;for(let d=0;d<n;d++){const p=i.readFloat(),b=i.readInt(!0),y=D.newArray(f,0);for(let I=f-1;I>=0;I--)y[I]=-1;const w=D.newArray(f-b,0);let E=0,S=0;for(let I=0;I<b;I++){const _=i.readInt(!0);for(;E!=_;)w[S++]=E++;y[E+i.readInt(!0)]=E++}for(;E<f;)w[S++]=E++;for(let I=f-1;I>=0;I--)y[I]==-1&&(y[I]=w[--S]);u.setFrame(d,p,y)}t.push(u),l=Math.max(l,u.frames[n-1])}const a=i.readInt(!0);if(a>0){const u=new id(a);for(let f=0;f<a;f++){const d=i.readFloat(),p=s.events[i.readInt(!0)],b=new ud(d,p);b.intValue=i.readInt(!1),b.floatValue=i.readFloat(),b.stringValue=i.readBoolean()?i.readString():p.stringValue,b.data.audioPath!=null&&(b.volume=i.readFloat(),b.balance=i.readFloat()),u.setFrame(f,b)}t.push(u),l=Math.max(l,u.frames[a-1])}return new ft(e,t,l)}readCurve(i,e,s){switch(i.readByte()){case ze.CURVE_STEPPED:s.setStepped(e);break;case ze.CURVE_BEZIER:this.setCurve(s,e,i.readFloat(),i.readFloat(),i.readFloat(),i.readFloat());break}}setCurve(i,e,s,t,c,l){i.setCurve(e,s,t,c,l)}};let st=ze;st.AttachmentTypeValues=[0,1,2,3,4,5,6];st.TransformModeValues=[tt.Normal,tt.OnlyTranslation,tt.NoRotationOrReflection,tt.NoScale,tt.NoScaleOrReflection];st.PositionModeValues=[ot.Fixed,ot.Percent];st.SpacingModeValues=[Pt.Length,Pt.Fixed,Pt.Percent];st.RotateModeValues=[sn.Tangent,sn.Chain,sn.ChainScale];st.BlendModeValues=[Ke.NORMAL,Ke.ADD,Ke.MULTIPLY,Ke.SCREEN];st.BONE_ROTATE=0;st.BONE_TRANSLATE=1;st.BONE_SCALE=2;st.BONE_SHEAR=3;st.SLOT_ATTACHMENT=0;st.SLOT_COLOR=1;st.SLOT_TWO_COLOR=2;st.PATH_POSITION=0;st.PATH_SPACING=1;st.PATH_MIX=2;st.CURVE_LINEAR=0;st.CURVE_STEPPED=1;st.CURVE_BEZIER=2;let wg=class{constructor(e,s,t,c,l){this.mesh=e,this.skin=s,this.slotIndex=t,this.parent=c,this.inheritDeform=l}},Eg=class{constructor(e=null,s=null){this.bones=e,this.vertices=s}},Sg=class ms{constructor(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}readSkeletonData(e){const s=this.scale,t=new md,c=typeof e=="string"?JSON.parse(e):e,l=c.skeleton;if(l!=null){if(t.hash=l.hash,t.version=l.spine,t.version.substr(0,3)!=="3.8"){const m=`Spine 3.8 loader cant load version ${l.spine}. Please configure your pixi-spine bundle`;console.error(m)}t.version==="3.8.75"&&console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine."),t.x=l.x,t.y=l.y,t.width=l.width,t.height=l.height,t.fps=l.fps,t.imagesPath=l.images}if(c.bones)for(let m=0;m<c.bones.length;m++){const h=c.bones[m];let n=null;const a=this.getValue(h,"parent",null);if(a!=null&&(n=t.findBone(a),n==null))throw new Error(`Parent bone not found: ${a}`);const u=new cd(t.bones.length,h.name,n);u.length=this.getValue(h,"length",0)*s,u.x=this.getValue(h,"x",0)*s,u.y=this.getValue(h,"y",0)*s,u.rotation=this.getValue(h,"rotation",0),u.scaleX=this.getValue(h,"scaleX",1),u.scaleY=this.getValue(h,"scaleY",1),u.shearX=this.getValue(h,"shearX",0),u.shearY=this.getValue(h,"shearY",0),u.transformMode=ms.transformModeFromString(this.getValue(h,"transform","normal")),u.skinRequired=this.getValue(h,"skin",!1),t.bones.push(u)}if(c.slots)for(let m=0;m<c.slots.length;m++){const h=c.slots[m],n=h.name,a=h.bone,u=t.findBone(a);if(u==null)throw new Error(`Slot bone not found: ${a}`);const f=new gd(t.slots.length,n,u),d=this.getValue(h,"color",null);d!=null&&f.color.setFromString(d);const p=this.getValue(h,"dark",null);p!=null&&(f.darkColor=new J(1,1,1,1),f.darkColor.setFromString(p)),f.attachmentName=this.getValue(h,"attachment",null),f.blendMode=ms.blendModeFromString(this.getValue(h,"blend","normal")),t.slots.push(f)}if(c.ik)for(let m=0;m<c.ik.length;m++){const h=c.ik[m],n=new dd(h.name);n.order=this.getValue(h,"order",0),n.skinRequired=this.getValue(h,"skin",!1);for(let u=0;u<h.bones.length;u++){const f=h.bones[u],d=t.findBone(f);if(d==null)throw new Error(`IK bone not found: ${f}`);n.bones.push(d)}const a=h.target;if(n.target=t.findBone(a),n.target==null)throw new Error(`IK target bone not found: ${a}`);n.mix=this.getValue(h,"mix",1),n.softness=this.getValue(h,"softness",0)*s,n.bendDirection=this.getValue(h,"bendPositive",!0)?1:-1,n.compress=this.getValue(h,"compress",!1),n.stretch=this.getValue(h,"stretch",!1),n.uniform=this.getValue(h,"uniform",!1),t.ikConstraints.push(n)}if(c.transform)for(let m=0;m<c.transform.length;m++){const h=c.transform[m],n=new pd(h.name);n.order=this.getValue(h,"order",0),n.skinRequired=this.getValue(h,"skin",!1);for(let u=0;u<h.bones.length;u++){const f=h.bones[u],d=t.findBone(f);if(d==null)throw new Error(`Transform constraint bone not found: ${f}`);n.bones.push(d)}const a=h.target;if(n.target=t.findBone(a),n.target==null)throw new Error(`Transform constraint target bone not found: ${a}`);n.local=this.getValue(h,"local",!1),n.relative=this.getValue(h,"relative",!1),n.offsetRotation=this.getValue(h,"rotation",0),n.offsetX=this.getValue(h,"x",0)*s,n.offsetY=this.getValue(h,"y",0)*s,n.offsetScaleX=this.getValue(h,"scaleX",0),n.offsetScaleY=this.getValue(h,"scaleY",0),n.offsetShearY=this.getValue(h,"shearY",0),n.rotateMix=this.getValue(h,"rotateMix",1),n.translateMix=this.getValue(h,"translateMix",1),n.scaleMix=this.getValue(h,"scaleMix",1),n.shearMix=this.getValue(h,"shearMix",1),t.transformConstraints.push(n)}if(c.path)for(let m=0;m<c.path.length;m++){const h=c.path[m],n=new fd(h.name);n.order=this.getValue(h,"order",0),n.skinRequired=this.getValue(h,"skin",!1);for(let u=0;u<h.bones.length;u++){const f=h.bones[u],d=t.findBone(f);if(d==null)throw new Error(`Transform constraint bone not found: ${f}`);n.bones.push(d)}const a=h.target;if(n.target=t.findSlot(a),n.target==null)throw new Error(`Path target slot not found: ${a}`);n.positionMode=ms.positionModeFromString(this.getValue(h,"positionMode","percent")),n.spacingMode=ms.spacingModeFromString(this.getValue(h,"spacingMode","length")),n.rotateMode=ms.rotateModeFromString(this.getValue(h,"rotateMode","tangent")),n.offsetRotation=this.getValue(h,"rotation",0),n.position=this.getValue(h,"position",0),n.positionMode==ot.Fixed&&(n.position*=s),n.spacing=this.getValue(h,"spacing",0),(n.spacingMode==Pt.Length||n.spacingMode==Pt.Fixed)&&(n.spacing*=s),n.rotateMix=this.getValue(h,"rotateMix",1),n.translateMix=this.getValue(h,"translateMix",1),t.pathConstraints.push(n)}if(c.skins)for(let m=0;m<c.skins.length;m++){const h=c.skins[m],n=new ol(h.name);if(h.bones)for(let a=0;a<h.bones.length;a++){const u=t.findBone(h.bones[a]);if(u==null)throw new Error(`Skin bone not found: ${h.bones[m]}`);n.bones.push(u)}if(h.ik)for(let a=0;a<h.ik.length;a++){const u=t.findIkConstraint(h.ik[a]);if(u==null)throw new Error(`Skin IK constraint not found: ${h.ik[m]}`);n.constraints.push(u)}if(h.transform)for(let a=0;a<h.transform.length;a++){const u=t.findTransformConstraint(h.transform[a]);if(u==null)throw new Error(`Skin transform constraint not found: ${h.transform[m]}`);n.constraints.push(u)}if(h.path)for(let a=0;a<h.path.length;a++){const u=t.findPathConstraint(h.path[a]);if(u==null)throw new Error(`Skin path constraint not found: ${h.path[m]}`);n.constraints.push(u)}for(const a in h.attachments){const u=t.findSlot(a);if(u==null)throw new Error(`Slot not found: ${a}`);const f=h.attachments[a];for(const d in f){const p=this.readAttachment(f[d],n,u.index,d,t);p!=null&&n.setAttachment(u.index,d,p)}}t.skins.push(n),n.name=="default"&&(t.defaultSkin=n)}for(let m=0,h=this.linkedMeshes.length;m<h;m++){const n=this.linkedMeshes[m],a=n.skin==null?t.defaultSkin:t.findSkin(n.skin);if(a==null)throw new Error(`Skin not found: ${n.skin}`);const u=a.getAttachment(n.slotIndex,n.parent);if(u==null)throw new Error(`Parent mesh not found: ${n.parent}`);n.mesh.deformAttachment=n.inheritDeform?u:n.mesh,n.mesh.setParentMesh(u)}if(this.linkedMeshes.length=0,c.events)for(const m in c.events){const h=c.events[m],n=new hd(m);n.intValue=this.getValue(h,"int",0),n.floatValue=this.getValue(h,"float",0),n.stringValue=this.getValue(h,"string",""),n.audioPath=this.getValue(h,"audio",null),n.audioPath!=null&&(n.volume=this.getValue(h,"volume",1),n.balance=this.getValue(h,"balance",0)),t.events.push(n)}if(c.animations)for(const m in c.animations){const h=c.animations[m];this.readAnimation(h,m,t)}return t}readAttachment(e,s,t,c,l){const m=this.scale;switch(c=this.getValue(e,"name",c),this.getValue(e,"type","region")){case"region":{const n=this.getValue(e,"path",c),a=this.attachmentLoader.newRegionAttachment(s,c,n);if(a==null)return null;a.path=n,a.x=this.getValue(e,"x",0)*m,a.y=this.getValue(e,"y",0)*m,a.scaleX=this.getValue(e,"scaleX",1),a.scaleY=this.getValue(e,"scaleY",1),a.rotation=this.getValue(e,"rotation",0),a.width=e.width*m,a.height=e.height*m;const u=this.getValue(e,"color",null);return u!=null&&a.color.setFromString(u),a}case"boundingbox":{const n=this.attachmentLoader.newBoundingBoxAttachment(s,c);if(n==null)return null;this.readVertices(e,n,e.vertexCount<<1);const a=this.getValue(e,"color",null);return a!=null&&n.color.setFromString(a),n}case"mesh":case"linkedmesh":{const n=this.getValue(e,"path",c),a=this.attachmentLoader.newMeshAttachment(s,c,n);if(a==null)return null;a.path=n;const u=this.getValue(e,"color",null);u!=null&&a.color.setFromString(u),a.width=this.getValue(e,"width",0)*m,a.height=this.getValue(e,"height",0)*m;const f=this.getValue(e,"parent",null);if(f!=null)return this.linkedMeshes.push(new Cg(a,this.getValue(e,"skin",null),t,f,this.getValue(e,"deform",!0))),a;const d=e.uvs;return this.readVertices(e,a,d.length),a.triangles=e.triangles,a.regionUVs=new Float32Array(d),a.edges=this.getValue(e,"edges",null),a.hullLength=this.getValue(e,"hull",0)*2,a}case"path":{const n=this.attachmentLoader.newPathAttachment(s,c);if(n==null)return null;n.closed=this.getValue(e,"closed",!1),n.constantSpeed=this.getValue(e,"constantSpeed",!0);const a=e.vertexCount;this.readVertices(e,n,a<<1);const u=D.newArray(a/3,0);for(let d=0;d<e.lengths.length;d++)u[d]=e.lengths[d]*m;n.lengths=u;const f=this.getValue(e,"color",null);return f!=null&&n.color.setFromString(f),n}case"point":{const n=this.attachmentLoader.newPointAttachment(s,c);if(n==null)return null;n.x=this.getValue(e,"x",0)*m,n.y=this.getValue(e,"y",0)*m,n.rotation=this.getValue(e,"rotation",0);const a=this.getValue(e,"color",null);return a!=null&&n.color.setFromString(a),n}case"clipping":{const n=this.attachmentLoader.newClippingAttachment(s,c);if(n==null)return null;const a=this.getValue(e,"end",null);if(a!=null){const d=l.findSlot(a);if(d==null)throw new Error(`Clipping end slot not found: ${a}`);n.endSlot=d}const u=e.vertexCount;this.readVertices(e,n,u<<1);const f=this.getValue(e,"color",null);return f!=null&&n.color.setFromString(f),n}}return null}readVertices(e,s,t){const c=this.scale;s.worldVerticesLength=t;const l=e.vertices;if(t==l.length){const n=D.toFloatArray(l);if(c!=1)for(let a=0,u=l.length;a<u;a++)n[a]*=c;s.vertices=n;return}const m=new Array,h=new Array;for(let n=0,a=l.length;n<a;){const u=l[n++];h.push(u);for(let f=n+u*4;n<f;n+=4)h.push(l[n]),m.push(l[n+1]*c),m.push(l[n+2]*c),m.push(l[n+3])}s.bones=h,s.vertices=D.toFloatArray(m)}readAnimation(e,s,t){const c=this.scale,l=new Array;let m=0;if(e.slots)for(const n in e.slots){const a=e.slots[n],u=t.findSlotIndex(n);if(u==-1)throw new Error(`Slot not found: ${n}`);for(const f in a){const d=a[f];if(f=="attachment"){const p=new rd(d.length);p.slotIndex=u;let b=0;for(let y=0;y<d.length;y++){const w=d[y];p.setFrame(b++,this.getValue(w,"time",0),w.name)}l.push(p),m=Math.max(m,p.frames[p.getFrameCount()-1])}else if(f=="color"){const p=new Bt(d.length);p.slotIndex=u;let b=0;for(let y=0;y<d.length;y++){const w=d[y],E=new J;E.setFromString(w.color||"ffffffff"),p.setFrame(b,this.getValue(w,"time",0),E.r,E.g,E.b,E.a),this.readCurve(w,p,b),b++}l.push(p),m=Math.max(m,p.frames[(p.getFrameCount()-1)*Bt.ENTRIES])}else if(f=="twoColor"){const p=new nt(d.length);p.slotIndex=u;let b=0;for(let y=0;y<d.length;y++){const w=d[y],E=new J,S=new J;E.setFromString(w.light),S.setFromString(w.dark),p.setFrame(b,this.getValue(w,"time",0),E.r,E.g,E.b,E.a,S.r,S.g,S.b),this.readCurve(w,p,b),b++}l.push(p),m=Math.max(m,p.frames[(p.getFrameCount()-1)*nt.ENTRIES])}else throw new Error(`Invalid timeline type for a slot: ${f} (${n})`)}}if(e.bones)for(const n in e.bones){const a=e.bones[n],u=t.findBoneIndex(n);if(u==-1)throw new Error(`Bone not found: ${n}`);for(const f in a){const d=a[f];if(f==="rotate"){const p=new _r(d.length);p.boneIndex=u;let b=0;for(let y=0;y<d.length;y++){const w=d[y];p.setFrame(b,this.getValue(w,"time",0),this.getValue(w,"angle",0)),this.readCurve(w,p,b),b++}l.push(p),m=Math.max(m,p.frames[(p.getFrameCount()-1)*_r.ENTRIES])}else if(f==="translate"||f==="scale"||f==="shear"){let p=null,b=1,y=0;f==="scale"?(p=new td(d.length),y=1):f==="shear"?p=new nd(d.length):(p=new on(d.length),b=c),p.boneIndex=u;let w=0;for(let E=0;E<d.length;E++){const S=d[E],I=this.getValue(S,"x",y),_=this.getValue(S,"y",y);p.setFrame(w,this.getValue(S,"time",0),I*b,_*b),this.readCurve(S,p,w),w++}l.push(p),m=Math.max(m,p.frames[(p.getFrameCount()-1)*on.ENTRIES])}else throw new Error(`Invalid timeline type for a bone: ${f} (${n})`)}}if(e.ik)for(const n in e.ik){const a=e.ik[n],u=t.findIkConstraint(n),f=new St(a.length);f.ikConstraintIndex=t.ikConstraints.indexOf(u);let d=0;for(let p=0;p<a.length;p++){const b=a[p];f.setFrame(d,this.getValue(b,"time",0),this.getValue(b,"mix",1),this.getValue(b,"softness",0)*c,this.getValue(b,"bendPositive",!0)?1:-1,this.getValue(b,"compress",!1),this.getValue(b,"stretch",!1)),this.readCurve(b,f,d),d++}l.push(f),m=Math.max(m,f.frames[(f.getFrameCount()-1)*St.ENTRIES])}if(e.transform)for(const n in e.transform){const a=e.transform[n],u=t.findTransformConstraint(n),f=new Yt(a.length);f.transformConstraintIndex=t.transformConstraints.indexOf(u);let d=0;for(let p=0;p<a.length;p++){const b=a[p];f.setFrame(d,this.getValue(b,"time",0),this.getValue(b,"rotateMix",1),this.getValue(b,"translateMix",1),this.getValue(b,"scaleMix",1),this.getValue(b,"shearMix",1)),this.readCurve(b,f,d),d++}l.push(f),m=Math.max(m,f.frames[(f.getFrameCount()-1)*Yt.ENTRIES])}if(e.path)for(const n in e.path){const a=e.path[n],u=t.findPathConstraintIndex(n);if(u==-1)throw new Error(`Path constraint not found: ${n}`);const f=t.pathConstraints[u];for(const d in a){const p=a[d];if(d==="position"||d==="spacing"){let b=null,y=1;d==="spacing"?(b=new ad(p.length),(f.spacingMode==Pt.Length||f.spacingMode==Pt.Fixed)&&(y=c)):(b=new tr(p.length),f.positionMode==ot.Fixed&&(y=c)),b.pathConstraintIndex=u;let w=0;for(let E=0;E<p.length;E++){const S=p[E];b.setFrame(w,this.getValue(S,"time",0),this.getValue(S,d,0)*y),this.readCurve(S,b,w),w++}l.push(b),m=Math.max(m,b.frames[(b.getFrameCount()-1)*tr.ENTRIES])}else if(d==="mix"){const b=new Xn(p.length);b.pathConstraintIndex=u;let y=0;for(let w=0;w<p.length;w++){const E=p[w];b.setFrame(y,this.getValue(E,"time",0),this.getValue(E,"rotateMix",1),this.getValue(E,"translateMix",1)),this.readCurve(E,b,y),y++}l.push(b),m=Math.max(m,b.frames[(b.getFrameCount()-1)*Xn.ENTRIES])}}}if(e.deform)for(const n in e.deform){const a=e.deform[n],u=t.findSkin(n);if(u!=null)for(const f in a){const d=a[f],p=t.findSlotIndex(f);if(p==-1)throw new Error(`Slot not found: ${d.name}`);for(const b in d){const y=d[b],w=u.getAttachment(p,b);if(w==null)throw new Error(`Deform attachment not found: ${y.name}`);const E=w.bones!=null,S=w.vertices,I=E?S.length/3*2:S.length,_=new sd(y.length);_.slotIndex=p,_.attachment=w;let R=0;for(let T=0;T<y.length;T++){const P=y[T];let L;const j=this.getValue(P,"vertices",null);if(j==null)L=E?D.newFloatArray(I):S;else{L=D.newFloatArray(I);const q=this.getValue(P,"offset",0);if(D.arrayCopy(j,0,L,q,j.length),c!=1)for(let X=q,Q=X+j.length;X<Q;X++)L[X]*=c;if(!E)for(let X=0;X<I;X++)L[X]+=S[X]}_.setFrame(R,this.getValue(P,"time",0),L),this.readCurve(P,_,R),R++}l.push(_),m=Math.max(m,_.frames[_.getFrameCount()-1])}}}let h=e.drawOrder;if(h==null&&(h=e.draworder),h!=null){const n=new od(h.length),a=t.slots.length;let u=0;for(let f=0;f<h.length;f++){const d=h[f];let p=null;const b=this.getValue(d,"offsets",null);if(b!=null){p=D.newArray(a,-1);const y=D.newArray(a-b.length,0);let w=0,E=0;for(let S=0;S<b.length;S++){const I=b[S],_=t.findSlotIndex(I.slot);if(_==-1)throw new Error(`Slot not found: ${I.slot}`);for(;w!=_;)y[E++]=w++;p[w+I.offset]=w++}for(;w<a;)y[E++]=w++;for(let S=a-1;S>=0;S--)p[S]==-1&&(p[S]=y[--E])}n.setFrame(u++,this.getValue(d,"time",0),p)}l.push(n),m=Math.max(m,n.frames[n.getFrameCount()-1])}if(e.events){const n=new id(e.events.length);let a=0;for(let u=0;u<e.events.length;u++){const f=e.events[u],d=t.findEvent(f.name);if(d==null)throw new Error(`Event not found: ${f.name}`);const p=new ud(D.toSinglePrecision(this.getValue(f,"time",0)),d);p.intValue=this.getValue(f,"int",d.intValue),p.floatValue=this.getValue(f,"float",d.floatValue),p.stringValue=this.getValue(f,"string",d.stringValue),p.data.audioPath!=null&&(p.volume=this.getValue(f,"volume",1),p.balance=this.getValue(f,"balance",0)),n.setFrame(a++,p)}l.push(n),m=Math.max(m,n.frames[n.getFrameCount()-1])}if(isNaN(m))throw new Error("Error while parsing animation, duration is NaN");t.animations.push(new ft(s,l,m))}readCurve(e,s,t){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")s.setStepped(t);else{const c=e.curve;s.setCurve(t,c,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}}getValue(e,s,t){return e[s]!==void 0?e[s]:t}static blendModeFromString(e){if(e=e.toLowerCase(),e=="normal")return Ke.NORMAL;if(e=="additive")return Ke.ADD;if(e=="multiply")return Ke.MULTIPLY;if(e=="screen")return Ke.SCREEN;throw new Error(`Unknown blend mode: ${e}`)}static positionModeFromString(e){if(e=e.toLowerCase(),e=="fixed")return ot.Fixed;if(e=="percent")return ot.Percent;throw new Error(`Unknown position mode: ${e}`)}static spacingModeFromString(e){if(e=e.toLowerCase(),e=="length")return Pt.Length;if(e=="fixed")return Pt.Fixed;if(e=="percent")return Pt.Percent;throw new Error(`Unknown position mode: ${e}`)}static rotateModeFromString(e){if(e=e.toLowerCase(),e=="tangent")return sn.Tangent;if(e=="chain")return sn.Chain;if(e=="chainscale")return sn.ChainScale;throw new Error(`Unknown rotate mode: ${e}`)}static transformModeFromString(e){if(e=e.toLowerCase(),e=="normal")return tt.Normal;if(e=="onlytranslation")return tt.OnlyTranslation;if(e=="norotationorreflection")return tt.NoRotationOrReflection;if(e=="noscale")return tt.NoScale;if(e=="noscaleorreflection")return tt.NoScaleOrReflection;throw new Error(`Unknown transform mode: ${e}`)}},Cg=class{constructor(e,s,t,c,l){this.mesh=e,this.skin=s,this.slotIndex=t,this.parent=c,this.inheritDeform=l}},bd=class{constructor(e){if(e==null)throw new Error("name cannot be null.");this.name=e}};const vd=class extends bd{constructor(e){super(e),this.id=(vd.nextID++&65535)<<11,this.worldVerticesLength=0}computeWorldVerticesOld(e,s){this.computeWorldVertices(e,0,this.worldVerticesLength,s,0,2)}computeWorldVertices(e,s,t,c,l,m){t=l+(t>>1)*m;const h=e.bone.skeleton,n=e.attachmentVertices;let a=this.vertices;const u=this.bones;if(u==null){n.length>0&&(a=n);const b=e.bone.matrix,y=b.tx,w=b.ty,E=b.a,S=b.c,I=b.b,_=b.d;for(let R=s,T=l;T<t;R+=2,T+=m){const P=a[R],L=a[R+1];c[T]=P*E+L*S+y,c[T+1]=P*I+L*_+w}return}let f=0,d=0;for(let b=0;b<s;b+=2){const y=u[f];f+=y+1,d+=y}const p=h.bones;if(n.length==0)for(let b=l,y=d*3;b<t;b+=m){let w=0,E=0,S=u[f++];for(S+=f;f<S;f++,y+=3){const I=p[u[f]].matrix,_=a[y],R=a[y+1],T=a[y+2];w+=(_*I.a+R*I.c+I.tx)*T,E+=(_*I.b+R*I.d+I.ty)*T}c[b]=w,c[b+1]=E}else{const b=n;for(let y=l,w=d*3,E=d<<1;y<t;y+=m){let S=0,I=0,_=u[f++];for(_+=f;f<_;f++,w+=3,E+=2){const R=p[u[f]].matrix,T=a[w]+b[E],P=a[w+1]+b[E+1],L=a[w+2];S+=(T*R.a+P*R.c+R.tx)*L,I+=(T*R.b+P*R.d+R.ty)*L}c[y]=S,c[y+1]=I}}}applyDeform(e){return this==e}};let Gr=vd;Gr.nextID=0;let _g=class extends Gr{constructor(e){super(e),this.type=me.BoundingBox,this.color=new J(1,1,1,1)}},Ig=class extends Gr{constructor(e){super(e),this.type=me.Clipping,this.color=new J(.2275,.2275,.8078,1)}},Rg=class extends Gr{constructor(e){super(e),this.type=me.Mesh,this.color=new J(1,1,1,1),this.inheritDeform=!1,this.tempColor=new J(0,0,0,0)}applyDeform(e){return this==e||this.inheritDeform&&this.parentMesh==e}getParentMesh(){return this.parentMesh}setParentMesh(e){this.parentMesh=e,e!=null&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)}},Tg=class extends Gr{constructor(e){super(e),this.type=me.Path,this.closed=!1,this.constantSpeed=!1,this.color=new J(1,1,1,1)}},Ag=class extends Gr{constructor(e){super(e),this.type=me.Point,this.color=new J(.38,.94,0,1)}computeWorldPosition(e,s){const t=e.matrix;return s.x=this.x*t.a+this.y*t.c+e.worldX,s.y=this.x*t.b+this.y*t.d+e.worldY,s}computeWorldRotation(e){const s=e.matrix,t=oe.cosDeg(this.rotation),c=oe.sinDeg(this.rotation),l=t*s.a+c*s.c,m=t*s.b+c*s.d;return Math.atan2(m,l)*oe.radDeg}};class kg{constructor(e,s){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(s==null)throw new Error("bone cannot be null.");this.data=e,this.bone=s,this.color=new J,this.darkColor=e.darkColor==null?null:new J,this.setToSetupPose(),this.blendMode=this.data.blendMode}getAttachment(){return this.attachment}setAttachment(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)}setAttachmentTime(e){this.attachmentTime=this.bone.skeleton.time-e}getAttachmentTime(){return this.bone.skeleton.time-this.attachmentTime}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}const pt=class extends bd{constructor(e){super(e),this.type=me.Region,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new J(1,1,1,1),this.offset=D.newFloatArray(8),this.uvs=D.newFloatArray(8),this.tempColor=new J(1,1,1,1)}updateOffset(){const e=this.width/this.region.originalWidth*this.scaleX,s=this.height/this.region.originalHeight*this.scaleY,t=-this.width/2*this.scaleX+this.region.offsetX*e,c=-this.height/2*this.scaleY+this.region.offsetY*s,l=t+this.region.width*e,m=c+this.region.height*s,h=this.rotation*Math.PI/180,n=Math.cos(h),a=Math.sin(h),u=t*n+this.x,f=t*a,d=c*n+this.y,p=c*a,b=l*n+this.x,y=l*a,w=m*n+this.y,E=m*a,S=this.offset;S[pt.OX1]=u-p,S[pt.OY1]=d+f,S[pt.OX2]=u-E,S[pt.OY2]=w+f,S[pt.OX3]=b-E,S[pt.OY3]=w+y,S[pt.OX4]=b-p,S[pt.OY4]=d+y}setRegion(e){this.region=e;const s=this.uvs;e.rotate?(s[2]=e.u,s[3]=e.v2,s[4]=e.u,s[5]=e.v,s[6]=e.u2,s[7]=e.v,s[0]=e.u2,s[1]=e.v2):(s[0]=e.u,s[1]=e.v2,s[2]=e.u,s[3]=e.v,s[4]=e.u2,s[5]=e.v,s[6]=e.u2,s[7]=e.v2)}computeWorldVertices(e,s,t,c){const l=this.offset,m=e instanceof kg?e.bone.matrix:e.matrix,h=m.tx,n=m.ty,a=m.a,u=m.c,f=m.b,d=m.d;let p=0,b=0;p=l[pt.OX1],b=l[pt.OY1],s[t]=p*a+b*u+h,s[t+1]=p*f+b*d+n,t+=c,p=l[pt.OX2],b=l[pt.OY2],s[t]=p*a+b*u+h,s[t+1]=p*f+b*d+n,t+=c,p=l[pt.OX3],b=l[pt.OY3],s[t]=p*a+b*u+h,s[t+1]=p*f+b*d+n,t+=c,p=l[pt.OX4],b=l[pt.OY4],s[t]=p*a+b*u+h,s[t+1]=p*f+b*d+n}};let he=pt;he.OX1=0;he.OY1=1;he.OX2=2;he.OY2=3;he.OX3=4;he.OY3=5;he.OX4=6;he.OY4=7;he.X1=0;he.Y1=1;he.C1R=2;he.C1G=3;he.C1B=4;he.C1A=5;he.U1=6;he.V1=7;he.X2=8;he.Y2=9;he.C2R=10;he.C2G=11;he.C2B=12;he.C2A=13;he.U2=14;he.V2=15;he.X3=16;he.Y3=17;he.C3R=18;he.C3G=19;he.C3B=20;he.C3A=21;he.U3=22;he.V3=23;he.X4=24;he.Y4=25;he.C4R=26;he.C4G=27;he.C4B=28;he.C4A=29;he.U4=30;he.V4=31;new zh(2);let vt=class{constructor(e,s,t){if(e==null)throw new Error("name cannot be null.");if(s==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=s,this.duration=t}apply(e,s,t,c,l,m,h,n){if(e==null)throw new Error("skeleton cannot be null.");c&&this.duration!=0&&(t%=this.duration,s>0&&(s%=this.duration));const a=this.timelines;for(let u=0,f=a.length;u<f;u++)a[u].apply(e,s,t,l,m,h,n)}static binarySearch(e,s,t=1){let c=0,l=e.length/t-2;if(l==0)return t;let m=l>>>1;for(;;){if(e[(m+1)*t]<=s?c=m+1:l=m,c==l)return(c+1)*t;m=c+l>>>1}}static linearSearch(e,s,t){for(let c=0,l=e.length-t;c<=l;c+=t)if(e[c]>s)return c;return-1}};const Qe=class{constructor(i){if(i<=0)throw new Error(`frameCount must be > 0: ${i}`);this.curves=D.newFloatArray((i-1)*Qe.BEZIER_SIZE)}getFrameCount(){return this.curves.length/Qe.BEZIER_SIZE+1}setLinear(i){this.curves[i*Qe.BEZIER_SIZE]=Qe.LINEAR}setStepped(i){this.curves[i*Qe.BEZIER_SIZE]=Qe.STEPPED}getCurveType(i){const e=i*Qe.BEZIER_SIZE;if(e==this.curves.length)return Qe.LINEAR;const s=this.curves[e];return s==Qe.LINEAR?Qe.LINEAR:s==Qe.STEPPED?Qe.STEPPED:Qe.BEZIER}setCurve(i,e,s,t,c){const l=(-e*2+t)*.03,m=(-s*2+c)*.03,h=((e-t)*3+1)*.006,n=((s-c)*3+1)*.006;let a=l*2+h,u=m*2+n,f=e*.3+l+h*.16666667,d=s*.3+m+n*.16666667,p=i*Qe.BEZIER_SIZE;const b=this.curves;b[p++]=Qe.BEZIER;let y=f,w=d;for(let E=p+Qe.BEZIER_SIZE-1;p<E;p+=2)b[p]=y,b[p+1]=w,f+=a,d+=u,a+=h,u+=n,y+=f,w+=d}getCurvePercent(i,e){e=oe.clamp(e,0,1);const s=this.curves;let t=i*Qe.BEZIER_SIZE;const c=s[t];if(c==Qe.LINEAR)return e;if(c==Qe.STEPPED)return 0;t++;let l=0;for(let h=t,n=t+Qe.BEZIER_SIZE-1;t<n;t+=2)if(l=s[t],l>=e){let a,u;return t==h?(a=0,u=0):(a=s[t-2],u=s[t-1]),u+(s[t+1]-u)*(e-a)/(l-a)}const m=s[t-1];return m+(1-m)*(e-l)/(1-l)}};let Gt=Qe;Gt.LINEAR=0;Gt.STEPPED=1;Gt.BEZIER=2;Gt.BEZIER_SIZE=10*2-1;const vr=class extends Gt{constructor(i){super(i),this.frames=D.newFloatArray(i<<1)}getPropertyId(){return 0+this.boneIndex}setFrame(i,e,s){i<<=1,this.frames[i]=e,this.frames[i+vr.ROTATION]=s}apply(i,e,s,t,c,l,m){const h=this.frames,n=i.bones[this.boneIndex];if(s<h[0]){switch(l){case k.setup:n.rotation=n.data.rotation;return;case k.first:const b=n.data.rotation-n.rotation;n.rotation+=(b-(16384-(16384.499999999996-b/360|0))*360)*c}return}if(s>=h[h.length-vr.ENTRIES]){let b=h[h.length+vr.PREV_ROTATION];switch(l){case k.setup:n.rotation=n.data.rotation+b*c;break;case k.first:case k.replace:b+=n.data.rotation-n.rotation,b-=(16384-(16384.499999999996-b/360|0))*360;case k.add:n.rotation+=b*c}return}const a=vt.binarySearch(h,s,vr.ENTRIES),u=h[a+vr.PREV_ROTATION],f=h[a],d=this.getCurvePercent((a>>1)-1,1-(s-f)/(h[a+vr.PREV_TIME]-f));let p=h[a+vr.ROTATION]-u;switch(p=u+(p-(16384-(16384.499999999996-p/360|0))*360)*d,l){case k.setup:n.rotation=n.data.rotation+(p-(16384-(16384.499999999996-p/360|0))*360)*c;break;case k.first:case k.replace:p+=n.data.rotation-n.rotation;case k.add:n.rotation+=(p-(16384-(16384.499999999996-p/360|0))*360)*c}}};let Es=vr;Es.ENTRIES=2;Es.PREV_TIME=-2;Es.PREV_ROTATION=-1;Es.ROTATION=1;const At=class extends Gt{constructor(i){super(i),this.frames=D.newFloatArray(i*At.ENTRIES)}getPropertyId(){return(1<<24)+this.boneIndex}setFrame(i,e,s,t){i*=At.ENTRIES,this.frames[i]=e,this.frames[i+At.X]=s,this.frames[i+At.Y]=t}apply(i,e,s,t,c,l,m){const h=this.frames,n=i.bones[this.boneIndex];if(s<h[0]){switch(l){case k.setup:n.x=n.data.x,n.y=n.data.y;return;case k.first:n.x+=(n.data.x-n.x)*c,n.y+=(n.data.y-n.y)*c}return}let a=0,u=0;if(s>=h[h.length-At.ENTRIES])a=h[h.length+At.PREV_X],u=h[h.length+At.PREV_Y];else{const f=vt.binarySearch(h,s,At.ENTRIES);a=h[f+At.PREV_X],u=h[f+At.PREV_Y];const d=h[f],p=this.getCurvePercent(f/At.ENTRIES-1,1-(s-d)/(h[f+At.PREV_TIME]-d));a+=(h[f+At.X]-a)*p,u+=(h[f+At.Y]-u)*p}switch(l){case k.setup:n.x=n.data.x+a*c,n.y=n.data.y+u*c;break;case k.first:case k.replace:n.x+=(n.data.x+a-n.x)*c,n.y+=(n.data.y+u-n.y)*c;break;case k.add:n.x+=a*c,n.y+=u*c}}};let Dn=At;Dn.ENTRIES=3;Dn.PREV_TIME=-3;Dn.PREV_X=-2;Dn.PREV_Y=-1;Dn.X=1;Dn.Y=2;let Pg=class vn extends Dn{constructor(e){super(e)}getPropertyId(){return(2<<24)+this.boneIndex}apply(e,s,t,c,l,m,h){const n=this.frames,a=e.bones[this.boneIndex];if(t<n[0]){switch(m){case k.setup:a.scaleX=a.data.scaleX,a.scaleY=a.data.scaleY;return;case k.first:a.scaleX+=(a.data.scaleX-a.scaleX)*l,a.scaleY+=(a.data.scaleY-a.scaleY)*l}return}let u=0,f=0;if(t>=n[n.length-vn.ENTRIES])u=n[n.length+vn.PREV_X]*a.data.scaleX,f=n[n.length+vn.PREV_Y]*a.data.scaleY;else{const d=vt.binarySearch(n,t,vn.ENTRIES);u=n[d+vn.PREV_X],f=n[d+vn.PREV_Y];const p=n[d],b=this.getCurvePercent(d/vn.ENTRIES-1,1-(t-p)/(n[d+vn.PREV_TIME]-p));u=(u+(n[d+vn.X]-u)*b)*a.data.scaleX,f=(f+(n[d+vn.Y]-f)*b)*a.data.scaleY}if(l==1)m==k.add?(a.scaleX+=u-a.data.scaleX,a.scaleY+=f-a.data.scaleY):(a.scaleX=u,a.scaleY=f);else{let d=0,p=0;if(h==He.mixOut)switch(m){case k.setup:d=a.data.scaleX,p=a.data.scaleY,a.scaleX=d+(Math.abs(u)*oe.signum(d)-d)*l,a.scaleY=p+(Math.abs(f)*oe.signum(p)-p)*l;break;case k.first:case k.replace:d=a.scaleX,p=a.scaleY,a.scaleX=d+(Math.abs(u)*oe.signum(d)-d)*l,a.scaleY=p+(Math.abs(f)*oe.signum(p)-p)*l;break;case k.add:d=a.scaleX,p=a.scaleY,a.scaleX=d+(Math.abs(u)*oe.signum(d)-a.data.scaleX)*l,a.scaleY=p+(Math.abs(f)*oe.signum(p)-a.data.scaleY)*l}else switch(m){case k.setup:d=Math.abs(a.data.scaleX)*oe.signum(u),p=Math.abs(a.data.scaleY)*oe.signum(f),a.scaleX=d+(u-d)*l,a.scaleY=p+(f-p)*l;break;case k.first:case k.replace:d=Math.abs(a.scaleX)*oe.signum(u),p=Math.abs(a.scaleY)*oe.signum(f),a.scaleX=d+(u-d)*l,a.scaleY=p+(f-p)*l;break;case k.add:d=oe.signum(u),p=oe.signum(f),a.scaleX=Math.abs(a.scaleX)*d+(u-Math.abs(a.data.scaleX)*d)*l,a.scaleY=Math.abs(a.scaleY)*p+(f-Math.abs(a.data.scaleY)*p)*l}}}},Mg=class xn extends Dn{constructor(e){super(e)}getPropertyId(){return(3<<24)+this.boneIndex}apply(e,s,t,c,l,m,h){const n=this.frames,a=e.bones[this.boneIndex];if(t<n[0]){switch(m){case k.setup:a.shearX=a.data.shearX,a.shearY=a.data.shearY;return;case k.first:a.shearX+=(a.data.shearX-a.shearX)*l,a.shearY+=(a.data.shearY-a.shearY)*l}return}let u=0,f=0;if(t>=n[n.length-xn.ENTRIES])u=n[n.length+xn.PREV_X],f=n[n.length+xn.PREV_Y];else{const d=vt.binarySearch(n,t,xn.ENTRIES);u=n[d+xn.PREV_X],f=n[d+xn.PREV_Y];const p=n[d],b=this.getCurvePercent(d/xn.ENTRIES-1,1-(t-p)/(n[d+xn.PREV_TIME]-p));u=u+(n[d+xn.X]-u)*b,f=f+(n[d+xn.Y]-f)*b}switch(m){case k.setup:a.shearX=a.data.shearX+u*l,a.shearY=a.data.shearY+f*l;break;case k.first:case k.replace:a.shearX+=(a.data.shearX+u-a.shearX)*l,a.shearY+=(a.data.shearY+f-a.shearY)*l;break;case k.add:a.shearX+=u*l,a.shearY+=f*l}}};const De=class extends Gt{constructor(i){super(i),this.frames=D.newFloatArray(i*De.ENTRIES)}getPropertyId(){return(5<<24)+this.slotIndex}setFrame(i,e,s,t,c,l){i*=De.ENTRIES,this.frames[i]=e,this.frames[i+De.R]=s,this.frames[i+De.G]=t,this.frames[i+De.B]=c,this.frames[i+De.A]=l}apply(i,e,s,t,c,l,m){const h=i.slots[this.slotIndex],n=this.frames;if(s<n[0]){switch(l){case k.setup:h.color.setFromColor(h.data.color);return;case k.first:const p=h.color,b=h.data.color;p.add((b.r-p.r)*c,(b.g-p.g)*c,(b.b-p.b)*c,(b.a-p.a)*c)}return}let a=0,u=0,f=0,d=0;if(s>=n[n.length-De.ENTRIES]){const p=n.length;a=n[p+De.PREV_R],u=n[p+De.PREV_G],f=n[p+De.PREV_B],d=n[p+De.PREV_A]}else{const p=vt.binarySearch(n,s,De.ENTRIES);a=n[p+De.PREV_R],u=n[p+De.PREV_G],f=n[p+De.PREV_B],d=n[p+De.PREV_A];const b=n[p],y=this.getCurvePercent(p/De.ENTRIES-1,1-(s-b)/(n[p+De.PREV_TIME]-b));a+=(n[p+De.R]-a)*y,u+=(n[p+De.G]-u)*y,f+=(n[p+De.B]-f)*y,d+=(n[p+De.A]-d)*y}if(c==1)h.color.set(a,u,f,d);else{const p=h.color;l==k.setup&&p.setFromColor(h.data.color),p.add((a-p.r)*c,(u-p.g)*c,(f-p.b)*c,(d-p.a)*c)}}};let an=De;an.ENTRIES=5;an.PREV_TIME=-5;an.PREV_R=-4;an.PREV_G=-3;an.PREV_B=-2;an.PREV_A=-1;an.R=1;an.G=2;an.B=3;an.A=4;const ye=class extends Gt{constructor(i){super(i),this.frames=D.newFloatArray(i*ye.ENTRIES)}getPropertyId(){return(14<<24)+this.slotIndex}setFrame(i,e,s,t,c,l,m,h,n){i*=ye.ENTRIES,this.frames[i]=e,this.frames[i+ye.R]=s,this.frames[i+ye.G]=t,this.frames[i+ye.B]=c,this.frames[i+ye.A]=l,this.frames[i+ye.R2]=m,this.frames[i+ye.G2]=h,this.frames[i+ye.B2]=n}apply(i,e,s,t,c,l,m){const h=i.slots[this.slotIndex],n=this.frames;if(s<n[0]){switch(l){case k.setup:h.color.setFromColor(h.data.color),h.darkColor.setFromColor(h.data.darkColor);return;case k.first:const w=h.color,E=h.darkColor,S=h.data.color,I=h.data.darkColor;w.add((S.r-w.r)*c,(S.g-w.g)*c,(S.b-w.b)*c,(S.a-w.a)*c),E.add((I.r-E.r)*c,(I.g-E.g)*c,(I.b-E.b)*c,0)}return}let a=0,u=0,f=0,d=0,p=0,b=0,y=0;if(s>=n[n.length-ye.ENTRIES]){const w=n.length;a=n[w+ye.PREV_R],u=n[w+ye.PREV_G],f=n[w+ye.PREV_B],d=n[w+ye.PREV_A],p=n[w+ye.PREV_R2],b=n[w+ye.PREV_G2],y=n[w+ye.PREV_B2]}else{const w=vt.binarySearch(n,s,ye.ENTRIES);a=n[w+ye.PREV_R],u=n[w+ye.PREV_G],f=n[w+ye.PREV_B],d=n[w+ye.PREV_A],p=n[w+ye.PREV_R2],b=n[w+ye.PREV_G2],y=n[w+ye.PREV_B2];const E=n[w],S=this.getCurvePercent(w/ye.ENTRIES-1,1-(s-E)/(n[w+ye.PREV_TIME]-E));a+=(n[w+ye.R]-a)*S,u+=(n[w+ye.G]-u)*S,f+=(n[w+ye.B]-f)*S,d+=(n[w+ye.A]-d)*S,p+=(n[w+ye.R2]-p)*S,b+=(n[w+ye.G2]-b)*S,y+=(n[w+ye.B2]-y)*S}if(c==1)h.color.set(a,u,f,d),h.darkColor.set(p,b,y,1);else{const w=h.color,E=h.darkColor;l==k.setup&&(w.setFromColor(h.data.color),E.setFromColor(h.data.darkColor)),w.add((a-w.r)*c,(u-w.g)*c,(f-w.b)*c,(d-w.a)*c),E.add((p-E.r)*c,(b-E.g)*c,(y-E.b)*c,0)}}};let dt=ye;dt.ENTRIES=8;dt.PREV_TIME=-8;dt.PREV_R=-7;dt.PREV_G=-6;dt.PREV_B=-5;dt.PREV_A=-4;dt.PREV_R2=-3;dt.PREV_G2=-2;dt.PREV_B2=-1;dt.R=1;dt.G=2;dt.B=3;dt.A=4;dt.R2=5;dt.G2=6;dt.B2=7;let Ng=class{constructor(e){this.frames=D.newFloatArray(e),this.attachmentNames=new Array(e)}getPropertyId(){return(4<<24)+this.slotIndex}getFrameCount(){return this.frames.length}setFrame(e,s,t){this.frames[e]=s,this.attachmentNames[e]=t}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex];if(h==He.mixOut&&m==k.setup){const d=n.data.attachmentName;n.setAttachment(d==null?null:e.getAttachment(this.slotIndex,d));return}const a=this.frames;if(t<a[0]){if(m==k.setup||m==k.first){const d=n.data.attachmentName;n.setAttachment(d==null?null:e.getAttachment(this.slotIndex,d))}return}let u=0;t>=a[a.length-1]?u=a.length-1:u=vt.binarySearch(a,t,1)-1;const f=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}},Gu=null,Vg=class extends Gt{constructor(e){super(e),this.frames=D.newFloatArray(e),this.frameVertices=new Array(e),Gu==null&&(Gu=D.newFloatArray(64))}getPropertyId(){return(6<<27)+Number(this.attachment.id)+this.slotIndex}setFrame(e,s,t){this.frames[e]=s,this.frameVertices[e]=t}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex],a=n.getAttachment();if(!(a instanceof Gr)||!a.applyDeform(this.attachment))return;const u=n.attachmentVertices;u.length==0&&(m=k.setup);const f=this.frameVertices,d=f[0].length,p=this.frames;if(t<p[0]){const _=a;switch(m){case k.setup:u.length=0;return;case k.first:if(l==1){u.length=0;break}const R=D.setArraySize(u,d);if(_.bones==null){const T=_.vertices;for(let P=0;P<d;P++)R[P]+=(T[P]-R[P])*l}else{l=1-l;for(let T=0;T<d;T++)R[T]*=l}}return}const b=D.setArraySize(u,d);if(t>=p[p.length-1]){const _=f[p.length-1];if(l==1)if(m==k.add){const R=a;if(R.bones==null){const T=R.vertices;for(let P=0;P<d;P++)b[P]+=_[P]-T[P]}else for(let T=0;T<d;T++)b[T]+=_[T]}else D.arrayCopy(_,0,b,0,d);else switch(m){case k.setup:{const T=a;if(T.bones==null){const P=T.vertices;for(let L=0;L<d;L++){const j=P[L];b[L]=j+(_[L]-j)*l}}else for(let P=0;P<d;P++)b[P]=_[P]*l;break}case k.first:case k.replace:for(let T=0;T<d;T++)b[T]+=(_[T]-b[T])*l;case k.add:const R=a;if(R.bones==null){const T=R.vertices;for(let P=0;P<d;P++)b[P]+=(_[P]-T[P])*l}else for(let T=0;T<d;T++)b[T]+=_[T]*l}return}const y=vt.binarySearch(p,t),w=f[y-1],E=f[y],S=p[y],I=this.getCurvePercent(y-1,1-(t-S)/(p[y-1]-S));if(l==1)if(m==k.add){const _=a;if(_.bones==null){const R=_.vertices;for(let T=0;T<d;T++){const P=w[T];b[T]+=P+(E[T]-P)*I-R[T]}}else for(let R=0;R<d;R++){const T=w[R];b[R]+=T+(E[R]-T)*I}}else for(let _=0;_<d;_++){const R=w[_];b[_]=R+(E[_]-R)*I}else switch(m){case k.setup:{const R=a;if(R.bones==null){const T=R.vertices;for(let P=0;P<d;P++){const L=w[P],j=T[P];b[P]=j+(L+(E[P]-L)*I-j)*l}}else for(let T=0;T<d;T++){const P=w[T];b[T]=(P+(E[T]-P)*I)*l}break}case k.first:case k.replace:for(let R=0;R<d;R++){const T=w[R];b[R]+=(T+(E[R]-T)*I-b[R])*l}break;case k.add:const _=a;if(_.bones==null){const R=_.vertices;for(let T=0;T<d;T++){const P=w[T];b[T]+=(P+(E[T]-P)*I-R[T])*l}}else for(let R=0;R<d;R++){const T=w[R];b[R]+=(T+(E[R]-T)*I)*l}}}},Fg=class{constructor(e){this.frames=D.newFloatArray(e),this.events=new Array(e)}getPropertyId(){return 7<<24}getFrameCount(){return this.frames.length}setFrame(e,s){this.frames[e]=s.time,this.events[e]=s}apply(e,s,t,c,l,m,h){if(c==null)return;const n=this.frames,a=this.frames.length;if(s>t)this.apply(e,s,Number.MAX_VALUE,c,l,m,h),s=-1;else if(s>=n[a-1])return;if(t<n[0])return;let u=0;if(s<n[0])u=0;else{u=vt.binarySearch(n,s);const f=n[u];for(;u>0&&n[u-1]==f;)u--}for(;u<a&&t>=n[u];u++)c.push(this.events[u])}},Og=class{constructor(e){this.frames=D.newFloatArray(e),this.drawOrders=new Array(e)}getPropertyId(){return 8<<24}getFrameCount(){return this.frames.length}setFrame(e,s,t){this.frames[e]=s,this.drawOrders[e]=t}apply(e,s,t,c,l,m,h){const n=e.drawOrder,a=e.slots;if(h==He.mixOut&&m==k.setup){D.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}const u=this.frames;if(t<u[0]){(m==k.setup||m==k.first)&&D.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}let f=0;t>=u[u.length-1]?f=u.length-1:f=vt.binarySearch(u,t)-1;const d=this.drawOrders[f];if(d==null)D.arrayCopy(a,0,n,0,a.length);else for(let p=0,b=d.length;p<b;p++)n[p]=a[d[p]]}};const Pe=class extends Gt{constructor(i){super(i),this.frames=D.newFloatArray(i*Pe.ENTRIES)}getPropertyId(){return(9<<24)+this.ikConstraintIndex}setFrame(i,e,s,t,c,l){i*=Pe.ENTRIES,this.frames[i]=e,this.frames[i+Pe.MIX]=s,this.frames[i+Pe.BEND_DIRECTION]=t,this.frames[i+Pe.COMPRESS]=c?1:0,this.frames[i+Pe.STRETCH]=l?1:0}apply(i,e,s,t,c,l,m){const h=this.frames,n=i.ikConstraints[this.ikConstraintIndex];if(s<h[0]){switch(l){case k.setup:n.mix=n.data.mix,n.bendDirection=n.data.bendDirection,n.compress=n.data.compress,n.stretch=n.data.stretch;return;case k.first:n.mix+=(n.data.mix-n.mix)*c,n.bendDirection=n.data.bendDirection,n.compress=n.data.compress,n.stretch=n.data.stretch}return}if(s>=h[h.length-Pe.ENTRIES]){l==k.setup?(n.mix=n.data.mix+(h[h.length+Pe.PREV_MIX]-n.data.mix)*c,m==He.mixOut?(n.bendDirection=n.data.bendDirection,n.compress=n.data.compress,n.stretch=n.data.stretch):(n.bendDirection=h[h.length+Pe.PREV_BEND_DIRECTION],n.compress=h[h.length+Pe.PREV_COMPRESS]!=0,n.stretch=h[h.length+Pe.PREV_STRETCH]!=0)):(n.mix+=(h[h.length+Pe.PREV_MIX]-n.mix)*c,m==He.mixIn&&(n.bendDirection=h[h.length+Pe.PREV_BEND_DIRECTION],n.compress=h[h.length+Pe.PREV_COMPRESS]!=0,n.stretch=h[h.length+Pe.PREV_STRETCH]!=0));return}const a=vt.binarySearch(h,s,Pe.ENTRIES),u=h[a+Pe.PREV_MIX],f=h[a],d=this.getCurvePercent(a/Pe.ENTRIES-1,1-(s-f)/(h[a+Pe.PREV_TIME]-f));l==k.setup?(n.mix=n.data.mix+(u+(h[a+Pe.MIX]-u)*d-n.data.mix)*c,m==He.mixOut?(n.bendDirection=n.data.bendDirection,n.compress=n.data.compress,n.stretch=n.data.stretch):(n.bendDirection=h[a+Pe.PREV_BEND_DIRECTION],n.compress=h[a+Pe.PREV_COMPRESS]!=0,n.stretch=h[a+Pe.PREV_STRETCH]!=0)):(n.mix+=(u+(h[a+Pe.MIX]-u)*d-n.mix)*c,m==He.mixIn&&(n.bendDirection=h[a+Pe.PREV_BEND_DIRECTION],n.compress=h[a+Pe.PREV_COMPRESS]!=0,n.stretch=h[a+Pe.PREV_STRETCH]!=0))}};let ln=Pe;ln.ENTRIES=5;ln.PREV_TIME=-5;ln.PREV_MIX=-4;ln.PREV_BEND_DIRECTION=-3;ln.PREV_COMPRESS=-2;ln.PREV_STRETCH=-1;ln.MIX=1;ln.BEND_DIRECTION=2;ln.COMPRESS=3;ln.STRETCH=4;const je=class extends Gt{constructor(i){super(i),this.frames=D.newFloatArray(i*je.ENTRIES)}getPropertyId(){return(10<<24)+this.transformConstraintIndex}setFrame(i,e,s,t,c,l){i*=je.ENTRIES,this.frames[i]=e,this.frames[i+je.ROTATE]=s,this.frames[i+je.TRANSLATE]=t,this.frames[i+je.SCALE]=c,this.frames[i+je.SHEAR]=l}apply(i,e,s,t,c,l,m){const h=this.frames,n=i.transformConstraints[this.transformConstraintIndex];if(s<h[0]){const p=n.data;switch(l){case k.setup:n.rotateMix=p.rotateMix,n.translateMix=p.translateMix,n.scaleMix=p.scaleMix,n.shearMix=p.shearMix;return;case k.first:n.rotateMix+=(p.rotateMix-n.rotateMix)*c,n.translateMix+=(p.translateMix-n.translateMix)*c,n.scaleMix+=(p.scaleMix-n.scaleMix)*c,n.shearMix+=(p.shearMix-n.shearMix)*c}return}let a=0,u=0,f=0,d=0;if(s>=h[h.length-je.ENTRIES]){const p=h.length;a=h[p+je.PREV_ROTATE],u=h[p+je.PREV_TRANSLATE],f=h[p+je.PREV_SCALE],d=h[p+je.PREV_SHEAR]}else{const p=vt.binarySearch(h,s,je.ENTRIES);a=h[p+je.PREV_ROTATE],u=h[p+je.PREV_TRANSLATE],f=h[p+je.PREV_SCALE],d=h[p+je.PREV_SHEAR];const b=h[p],y=this.getCurvePercent(p/je.ENTRIES-1,1-(s-b)/(h[p+je.PREV_TIME]-b));a+=(h[p+je.ROTATE]-a)*y,u+=(h[p+je.TRANSLATE]-u)*y,f+=(h[p+je.SCALE]-f)*y,d+=(h[p+je.SHEAR]-d)*y}if(l==k.setup){const p=n.data;n.rotateMix=p.rotateMix+(a-p.rotateMix)*c,n.translateMix=p.translateMix+(u-p.translateMix)*c,n.scaleMix=p.scaleMix+(f-p.scaleMix)*c,n.shearMix=p.shearMix+(d-p.shearMix)*c}else n.rotateMix+=(a-n.rotateMix)*c,n.translateMix+=(u-n.translateMix)*c,n.scaleMix+=(f-n.scaleMix)*c,n.shearMix+=(d-n.shearMix)*c}};let cn=je;cn.ENTRIES=5;cn.PREV_TIME=-5;cn.PREV_ROTATE=-4;cn.PREV_TRANSLATE=-3;cn.PREV_SCALE=-2;cn.PREV_SHEAR=-1;cn.ROTATE=1;cn.TRANSLATE=2;cn.SCALE=3;cn.SHEAR=4;const yn=class extends Gt{constructor(i){super(i),this.frames=D.newFloatArray(i*yn.ENTRIES)}getPropertyId(){return(11<<24)+this.pathConstraintIndex}setFrame(i,e,s){i*=yn.ENTRIES,this.frames[i]=e,this.frames[i+yn.VALUE]=s}apply(i,e,s,t,c,l,m){const h=this.frames,n=i.pathConstraints[this.pathConstraintIndex];if(s<h[0]){switch(l){case k.setup:n.position=n.data.position;return;case k.first:n.position+=(n.data.position-n.position)*c}return}let a=0;if(s>=h[h.length-yn.ENTRIES])a=h[h.length+yn.PREV_VALUE];else{const u=vt.binarySearch(h,s,yn.ENTRIES);a=h[u+yn.PREV_VALUE];const f=h[u],d=this.getCurvePercent(u/yn.ENTRIES-1,1-(s-f)/(h[u+yn.PREV_TIME]-f));a+=(h[u+yn.VALUE]-a)*d}l==k.setup?n.position=n.data.position+(a-n.data.position)*c:n.position+=(a-n.position)*c}};let Ur=yn;Ur.ENTRIES=2;Ur.PREV_TIME=-2;Ur.PREV_VALUE=-1;Ur.VALUE=1;let Lg=class xr extends Ur{constructor(e){super(e)}getPropertyId(){return(12<<24)+this.pathConstraintIndex}apply(e,s,t,c,l,m,h){const n=this.frames,a=e.pathConstraints[this.pathConstraintIndex];if(t<n[0]){switch(m){case k.setup:a.spacing=a.data.spacing;return;case k.first:a.spacing+=(a.data.spacing-a.spacing)*l}return}let u=0;if(t>=n[n.length-xr.ENTRIES])u=n[n.length+xr.PREV_VALUE];else{const f=vt.binarySearch(n,t,xr.ENTRIES);u=n[f+xr.PREV_VALUE];const d=n[f],p=this.getCurvePercent(f/xr.ENTRIES-1,1-(t-d)/(n[f+xr.PREV_TIME]-d));u+=(n[f+xr.VALUE]-u)*p}m==k.setup?a.spacing=a.data.spacing+(u-a.data.spacing)*l:a.spacing+=(u-a.spacing)*l}};const kt=class extends Gt{constructor(i){super(i),this.frames=D.newFloatArray(i*kt.ENTRIES)}getPropertyId(){return(13<<24)+this.pathConstraintIndex}setFrame(i,e,s,t){i*=kt.ENTRIES,this.frames[i]=e,this.frames[i+kt.ROTATE]=s,this.frames[i+kt.TRANSLATE]=t}apply(i,e,s,t,c,l,m){const h=this.frames,n=i.pathConstraints[this.pathConstraintIndex];if(s<h[0]){switch(l){case k.setup:n.rotateMix=n.data.rotateMix,n.translateMix=n.data.translateMix;return;case k.first:n.rotateMix+=(n.data.rotateMix-n.rotateMix)*c,n.translateMix+=(n.data.translateMix-n.translateMix)*c}return}let a=0,u=0;if(s>=h[h.length-kt.ENTRIES])a=h[h.length+kt.PREV_ROTATE],u=h[h.length+kt.PREV_TRANSLATE];else{const f=vt.binarySearch(h,s,kt.ENTRIES);a=h[f+kt.PREV_ROTATE],u=h[f+kt.PREV_TRANSLATE];const d=h[f],p=this.getCurvePercent(f/kt.ENTRIES-1,1-(s-d)/(h[f+kt.PREV_TIME]-d));a+=(h[f+kt.ROTATE]-a)*p,u+=(h[f+kt.TRANSLATE]-u)*p}l==k.setup?(n.rotateMix=n.data.rotateMix+(a-n.data.rotateMix)*c,n.translateMix=n.data.translateMix+(u-n.data.translateMix)*c):(n.rotateMix+=(a-n.rotateMix)*c,n.translateMix+=(u-n.translateMix)*c)}};let Ir=kt;Ir.ENTRIES=3;Ir.PREV_TIME=-3;Ir.PREV_ROTATE=-2;Ir.PREV_TRANSLATE=-1;Ir.ROTATE=1;Ir.TRANSLATE=2;new vt("<empty>",[],0);let Bg=class{constructor(e){this.atlas=e}newRegionAttachment(e,s,t){const c=this.atlas.findRegion(t);if(c==null)throw new Error(`Region not found in atlas: ${t} (region attachment: ${s})`);const l=new he(s);return l.region=c,l}newMeshAttachment(e,s,t){const c=this.atlas.findRegion(t);if(c==null)throw new Error(`Region not found in atlas: ${t} (mesh attachment: ${s})`);const l=new Rg(s);return l.region=c,l}newBoundingBoxAttachment(e,s){return new _g(s)}newPathAttachment(e,s){return new Tg(s)}newPointAttachment(e,s){return new Ag(s)}newClippingAttachment(e,s){return new Ig(s)}},Yg=class{constructor(e,s,t){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=tt.Normal,e<0)throw new Error("index must be >= 0.");if(s==null)throw new Error("name cannot be null.");this.index=e,this.name=s,this.parent=t}},Xg=class{constructor(e,s){if(s==null)throw new Error("data cannot be null.");this.time=e,this.data=s}},Dg=class{constructor(e){this.name=e}},jg=class{constructor(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}},$g=class{constructor(e){this.order=0,this.bones=new Array,this.name=e}};var yr=(i=>(i[i.Length=0]="Length",i[i.Fixed=1]="Fixed",i[i.Percent=2]="Percent",i))(yr||{});let zg=class{constructor(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}findBone(e){if(e==null)throw new Error("boneName cannot be null.");const s=this.bones;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findBoneIndex(e){if(e==null)throw new Error("boneName cannot be null.");const s=this.bones;for(let t=0,c=s.length;t<c;t++)if(s[t].name==e)return t;return-1}findSlot(e){if(e==null)throw new Error("slotName cannot be null.");const s=this.slots;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findSlotIndex(e){if(e==null)throw new Error("slotName cannot be null.");const s=this.slots;for(let t=0,c=s.length;t<c;t++)if(s[t].name==e)return t;return-1}findSkin(e){if(e==null)throw new Error("skinName cannot be null.");const s=this.skins;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findEvent(e){if(e==null)throw new Error("eventDataName cannot be null.");const s=this.events;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findAnimation(e){if(e==null)throw new Error("animationName cannot be null.");const s=this.animations;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findIkConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");const s=this.ikConstraints;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findTransformConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");const s=this.transformConstraints;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findPathConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");const s=this.pathConstraints;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findPathConstraintIndex(e){if(e==null)throw new Error("pathConstraintName cannot be null.");const s=this.pathConstraints;for(let t=0,c=s.length;t<c;t++)if(s[t].name==e)return t;return-1}},Ug=class{constructor(e,s,t){if(this.color=new J(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(s==null)throw new Error("name cannot be null.");if(t==null)throw new Error("boneData cannot be null.");this.index=e,this.name=s,this.boneData=t}},Hg=class{constructor(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}},Wg=class{constructor(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}addAttachment(e,s,t){if(t==null)throw new Error("attachment cannot be null.");const c=this.attachments;e>=c.length&&(c.length=e+1),c[e]||(c[e]={}),c[e][s]=t}getAttachment(e,s){const t=this.attachments[e];return t?t[s]:null}attachAll(e,s){let t=0;for(let c=0;c<e.slots.length;c++){const l=e.slots[c],m=l.getAttachment();if(m&&t<s.attachments.length){const h=s.attachments[t];for(const n in h){const a=h[n];if(m==a){const u=this.getAttachment(t,n);u!=null&&l.setAttachment(u);break}}}t++}}},Gg=class gs{constructor(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}readSkeletonData(e){const s=this.scale,t=new zg,c=typeof e=="string"?JSON.parse(e):e,l=c.skeleton;if(l!=null&&(t.hash=l.hash,t.version=l.spine,t.width=l.width,t.height=l.height,t.fps=l.fps,t.imagesPath=l.images),c.bones)for(let m=0;m<c.bones.length;m++){const h=c.bones[m];let n=null;const a=this.getValue(h,"parent",null);if(a!=null&&(n=t.findBone(a),n==null))throw new Error(`Parent bone not found: ${a}`);const u=new Yg(t.bones.length,h.name,n);u.length=this.getValue(h,"length",0)*s,u.x=this.getValue(h,"x",0)*s,u.y=this.getValue(h,"y",0)*s,u.rotation=this.getValue(h,"rotation",0),u.scaleX=this.getValue(h,"scaleX",1),u.scaleY=this.getValue(h,"scaleY",1),u.shearX=this.getValue(h,"shearX",0),u.shearY=this.getValue(h,"shearY",0),u.transformMode=gs.transformModeFromString(this.getValue(h,"transform","normal")),t.bones.push(u)}if(c.slots)for(let m=0;m<c.slots.length;m++){const h=c.slots[m],n=h.name,a=h.bone,u=t.findBone(a);if(u==null)throw new Error(`Slot bone not found: ${a}`);const f=new Ug(t.slots.length,n,u),d=this.getValue(h,"color",null);d!=null&&f.color.setFromString(d);const p=this.getValue(h,"dark",null);p!=null&&(f.darkColor=new J(1,1,1,1),f.darkColor.setFromString(p)),f.attachmentName=this.getValue(h,"attachment",null),f.blendMode=gs.blendModeFromString(this.getValue(h,"blend","normal")),t.slots.push(f)}if(c.ik)for(let m=0;m<c.ik.length;m++){const h=c.ik[m],n=new jg(h.name);n.order=this.getValue(h,"order",0);for(let u=0;u<h.bones.length;u++){const f=h.bones[u],d=t.findBone(f);if(d==null)throw new Error(`IK bone not found: ${f}`);n.bones.push(d)}const a=h.target;if(n.target=t.findBone(a),n.target==null)throw new Error(`IK target bone not found: ${a}`);n.bendDirection=this.getValue(h,"bendPositive",!0)?1:-1,n.mix=this.getValue(h,"mix",1),t.ikConstraints.push(n)}if(c.transform)for(let m=0;m<c.transform.length;m++){const h=c.transform[m],n=new Hg(h.name);n.order=this.getValue(h,"order",0);for(let u=0;u<h.bones.length;u++){const f=h.bones[u],d=t.findBone(f);if(d==null)throw new Error(`Transform constraint bone not found: ${f}`);n.bones.push(d)}const a=h.target;if(n.target=t.findBone(a),n.target==null)throw new Error(`Transform constraint target bone not found: ${a}`);n.local=this.getValue(h,"local",!1),n.relative=this.getValue(h,"relative",!1),n.offsetRotation=this.getValue(h,"rotation",0),n.offsetX=this.getValue(h,"x",0)*s,n.offsetY=this.getValue(h,"y",0)*s,n.offsetScaleX=this.getValue(h,"scaleX",0),n.offsetScaleY=this.getValue(h,"scaleY",0),n.offsetShearY=this.getValue(h,"shearY",0),n.rotateMix=this.getValue(h,"rotateMix",1),n.translateMix=this.getValue(h,"translateMix",1),n.scaleMix=this.getValue(h,"scaleMix",1),n.shearMix=this.getValue(h,"shearMix",1),t.transformConstraints.push(n)}if(c.path)for(let m=0;m<c.path.length;m++){const h=c.path[m],n=new $g(h.name);n.order=this.getValue(h,"order",0);for(let u=0;u<h.bones.length;u++){const f=h.bones[u],d=t.findBone(f);if(d==null)throw new Error(`Transform constraint bone not found: ${f}`);n.bones.push(d)}const a=h.target;if(n.target=t.findSlot(a),n.target==null)throw new Error(`Path target slot not found: ${a}`);n.positionMode=gs.positionModeFromString(this.getValue(h,"positionMode","percent")),n.spacingMode=gs.spacingModeFromString(this.getValue(h,"spacingMode","length")),n.rotateMode=gs.rotateModeFromString(this.getValue(h,"rotateMode","tangent")),n.offsetRotation=this.getValue(h,"rotation",0),n.position=this.getValue(h,"position",0),n.positionMode==ot.Fixed&&(n.position*=s),n.spacing=this.getValue(h,"spacing",0),(n.spacingMode==yr.Length||n.spacingMode==yr.Fixed)&&(n.spacing*=s),n.rotateMix=this.getValue(h,"rotateMix",1),n.translateMix=this.getValue(h,"translateMix",1),t.pathConstraints.push(n)}if(c.skins)for(const m in c.skins){const h=c.skins[m],n=new Wg(m);for(const a in h){const u=t.findSlotIndex(a);if(u==-1)throw new Error(`Slot not found: ${a}`);const f=h[a];for(const d in f){const p=this.readAttachment(f[d],n,u,d,t);p!=null&&n.addAttachment(u,d,p)}}t.skins.push(n),n.name=="default"&&(t.defaultSkin=n)}for(let m=0,h=this.linkedMeshes.length;m<h;m++){const n=this.linkedMeshes[m],a=n.skin==null?t.defaultSkin:t.findSkin(n.skin);if(a==null)throw new Error(`Skin not found: ${n.skin}`);const u=a.getAttachment(n.slotIndex,n.parent);if(u==null)throw new Error(`Parent mesh not found: ${n.parent}`);n.mesh.setParentMesh(u)}if(this.linkedMeshes.length=0,c.events)for(const m in c.events){const h=c.events[m],n=new Dg(m);n.intValue=this.getValue(h,"int",0),n.floatValue=this.getValue(h,"float",0),n.stringValue=this.getValue(h,"string",""),n.audioPath=this.getValue(h,"audio",null),n.audioPath!=null&&(n.volume=this.getValue(h,"volume",1),n.balance=this.getValue(h,"balance",0)),t.events.push(n)}if(c.animations)for(const m in c.animations){const h=c.animations[m];this.readAnimation(h,m,t)}return t}readAttachment(e,s,t,c,l){const m=this.scale;switch(c=this.getValue(e,"name",c),this.getValue(e,"type","region")){case"region":{const n=this.getValue(e,"path",c),a=this.attachmentLoader.newRegionAttachment(s,c,n);if(a==null)return null;a.path=n,a.x=this.getValue(e,"x",0)*m,a.y=this.getValue(e,"y",0)*m,a.scaleX=this.getValue(e,"scaleX",1),a.scaleY=this.getValue(e,"scaleY",1),a.rotation=this.getValue(e,"rotation",0),a.width=e.width*m,a.height=e.height*m;const u=this.getValue(e,"color",null);return u!=null&&a.color.setFromString(u),a}case"boundingbox":{const n=this.attachmentLoader.newBoundingBoxAttachment(s,c);if(n==null)return null;this.readVertices(e,n,e.vertexCount<<1);const a=this.getValue(e,"color",null);return a!=null&&n.color.setFromString(a),n}case"mesh":case"linkedmesh":{const n=this.getValue(e,"path",c),a=this.attachmentLoader.newMeshAttachment(s,c,n);if(a==null)return null;a.path=n;const u=this.getValue(e,"color",null);u!=null&&a.color.setFromString(u);const f=this.getValue(e,"parent",null);if(f!=null)return a.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new qg(a,this.getValue(e,"skin",null),t,f)),a;const d=e.uvs;return this.readVertices(e,a,d.length),a.triangles=e.triangles,a.regionUVs=new Float32Array(d),a.hullLength=this.getValue(e,"hull",0)*2,a}case"path":{const n=this.attachmentLoader.newPathAttachment(s,c);if(n==null)return null;n.closed=this.getValue(e,"closed",!1),n.constantSpeed=this.getValue(e,"constantSpeed",!0);const a=e.vertexCount;this.readVertices(e,n,a<<1);const u=D.newArray(a/3,0);for(let d=0;d<e.lengths.length;d++)u[d]=e.lengths[d]*m;n.lengths=u;const f=this.getValue(e,"color",null);return f!=null&&n.color.setFromString(f),n}case"point":{const n=this.attachmentLoader.newPointAttachment(s,c);if(n==null)return null;n.x=this.getValue(e,"x",0)*m,n.y=this.getValue(e,"y",0)*m,n.rotation=this.getValue(e,"rotation",0);const a=this.getValue(e,"color",null);return a!=null&&n.color.setFromString(a),n}case"clipping":{const n=this.attachmentLoader.newClippingAttachment(s,c);if(n==null)return null;const a=this.getValue(e,"end",null);if(a!=null){const d=l.findSlot(a);if(d==null)throw new Error(`Clipping end slot not found: ${a}`);n.endSlot=d}const u=e.vertexCount;this.readVertices(e,n,u<<1);const f=this.getValue(e,"color",null);return f!=null&&n.color.setFromString(f),n}}return null}readVertices(e,s,t){const c=this.scale;s.worldVerticesLength=t;const l=e.vertices;if(t==l.length){const n=D.toFloatArray(l);if(c!=1)for(let a=0,u=l.length;a<u;a++)n[a]*=c;s.vertices=n;return}const m=new Array,h=new Array;for(let n=0,a=l.length;n<a;){const u=l[n++];h.push(u);for(let f=n+u*4;n<f;n+=4)h.push(l[n]),m.push(l[n+1]*c),m.push(l[n+2]*c),m.push(l[n+3])}s.bones=h,s.vertices=D.toFloatArray(m)}readAnimation(e,s,t){const c=this.scale,l=new Array;let m=0;if(e.slots)for(const n in e.slots){const a=e.slots[n],u=t.findSlotIndex(n);if(u==-1)throw new Error(`Slot not found: ${n}`);for(const f in a){const d=a[f];if(f=="attachment"){const p=new Ng(d.length);p.slotIndex=u;let b=0;for(let y=0;y<d.length;y++){const w=d[y];p.setFrame(b++,w.time,w.name)}l.push(p),m=Math.max(m,p.frames[p.getFrameCount()-1])}else if(f=="color"){const p=new an(d.length);p.slotIndex=u;let b=0;for(let y=0;y<d.length;y++){const w=d[y],E=new J;E.setFromString(w.color||"ffffffff"),p.setFrame(b,w.time,E.r,E.g,E.b,E.a),this.readCurve(w,p,b),b++}l.push(p),m=Math.max(m,p.frames[(p.getFrameCount()-1)*an.ENTRIES])}else if(f=="twoColor"){const p=new dt(d.length);p.slotIndex=u;let b=0;for(let y=0;y<d.length;y++){const w=d[y],E=new J,S=new J;E.setFromString(w.light),S.setFromString(w.dark),p.setFrame(b,w.time,E.r,E.g,E.b,E.a,S.r,S.g,S.b),this.readCurve(w,p,b),b++}l.push(p),m=Math.max(m,p.frames[(p.getFrameCount()-1)*dt.ENTRIES])}else throw new Error(`Invalid timeline type for a slot: ${f} (${n})`)}}if(e.bones)for(const n in e.bones){const a=e.bones[n],u=t.findBoneIndex(n);if(u==-1)throw new Error(`Bone not found: ${n}`);for(const f in a){const d=a[f];if(f==="rotate"){const p=new Es(d.length);p.boneIndex=u;let b=0;for(let y=0;y<d.length;y++){const w=d[y];p.setFrame(b,w.time,w.angle),this.readCurve(w,p,b),b++}l.push(p),m=Math.max(m,p.frames[(p.getFrameCount()-1)*Es.ENTRIES])}else if(f==="translate"||f==="scale"||f==="shear"){let p=null,b=1;f==="scale"?p=new Pg(d.length):f==="shear"?p=new Mg(d.length):(p=new Dn(d.length),b=c),p.boneIndex=u;let y=0;for(let w=0;w<d.length;w++){const E=d[w],S=this.getValue(E,"x",0),I=this.getValue(E,"y",0);p.setFrame(y,E.time,S*b,I*b),this.readCurve(E,p,y),y++}l.push(p),m=Math.max(m,p.frames[(p.getFrameCount()-1)*Dn.ENTRIES])}else throw new Error(`Invalid timeline type for a bone: ${f} (${n})`)}}if(e.ik)for(const n in e.ik){const a=e.ik[n],u=t.findIkConstraint(n),f=new ln(a.length);f.ikConstraintIndex=t.ikConstraints.indexOf(u);let d=0;for(let p=0;p<a.length;p++){const b=a[p];f.setFrame(d,b.time,this.getValue(b,"mix",1),this.getValue(b,"bendPositive",!0)?1:-1,this.getValue(b,"compress",!1),this.getValue(b,"stretch",!1)),this.readCurve(b,f,d),d++}l.push(f),m=Math.max(m,f.frames[(f.getFrameCount()-1)*ln.ENTRIES])}if(e.transform)for(const n in e.transform){const a=e.transform[n],u=t.findTransformConstraint(n),f=new cn(a.length);f.transformConstraintIndex=t.transformConstraints.indexOf(u);let d=0;for(let p=0;p<a.length;p++){const b=a[p];f.setFrame(d,b.time,this.getValue(b,"rotateMix",1),this.getValue(b,"translateMix",1),this.getValue(b,"scaleMix",1),this.getValue(b,"shearMix",1)),this.readCurve(b,f,d),d++}l.push(f),m=Math.max(m,f.frames[(f.getFrameCount()-1)*cn.ENTRIES])}if(e.paths)for(const n in e.paths){const a=e.paths[n],u=t.findPathConstraintIndex(n);if(u==-1)throw new Error(`Path constraint not found: ${n}`);const f=t.pathConstraints[u];for(const d in a){const p=a[d];if(d==="position"||d==="spacing"){let b=null,y=1;d==="spacing"?(b=new Lg(p.length),(f.spacingMode==yr.Length||f.spacingMode==yr.Fixed)&&(y=c)):(b=new Ur(p.length),f.positionMode==ot.Fixed&&(y=c)),b.pathConstraintIndex=u;let w=0;for(let E=0;E<p.length;E++){const S=p[E];b.setFrame(w,S.time,this.getValue(S,d,0)*y),this.readCurve(S,b,w),w++}l.push(b),m=Math.max(m,b.frames[(b.getFrameCount()-1)*Ur.ENTRIES])}else if(d==="mix"){const b=new Ir(p.length);b.pathConstraintIndex=u;let y=0;for(let w=0;w<p.length;w++){const E=p[w];b.setFrame(y,E.time,this.getValue(E,"rotateMix",1),this.getValue(E,"translateMix",1)),this.readCurve(E,b,y),y++}l.push(b),m=Math.max(m,b.frames[(b.getFrameCount()-1)*Ir.ENTRIES])}}}if(e.deform)for(const n in e.deform){const a=e.deform[n],u=t.findSkin(n);if(u!=null)for(const f in a){const d=a[f],p=t.findSlotIndex(f);if(p==-1)throw new Error(`Slot not found: ${d.name}`);for(const b in d){const y=d[b],w=u.getAttachment(p,b);if(w==null)throw new Error(`Deform attachment not found: ${y.name}`);const E=w.bones!=null,S=w.vertices,I=E?S.length/3*2:S.length,_=new Vg(y.length);_.slotIndex=p,_.attachment=w;let R=0;for(let T=0;T<y.length;T++){const P=y[T];let L;const j=this.getValue(P,"vertices",null);if(j==null)L=E?D.newFloatArray(I):S;else{L=D.newFloatArray(I);const q=this.getValue(P,"offset",0);if(D.arrayCopy(j,0,L,q,j.length),c!=1)for(let X=q,Q=X+j.length;X<Q;X++)L[X]*=c;if(!E)for(let X=0;X<I;X++)L[X]+=S[X]}_.setFrame(R,P.time,L),this.readCurve(P,_,R),R++}l.push(_),m=Math.max(m,_.frames[_.getFrameCount()-1])}}}let h=e.drawOrder;if(h==null&&(h=e.draworder),h!=null){const n=new Og(h.length),a=t.slots.length;let u=0;for(let f=0;f<h.length;f++){const d=h[f];let p=null;const b=this.getValue(d,"offsets",null);if(b!=null){p=D.newArray(a,-1);const y=D.newArray(a-b.length,0);let w=0,E=0;for(let S=0;S<b.length;S++){const I=b[S],_=t.findSlotIndex(I.slot);if(_==-1)throw new Error(`Slot not found: ${I.slot}`);for(;w!=_;)y[E++]=w++;p[w+I.offset]=w++}for(;w<a;)y[E++]=w++;for(let S=a-1;S>=0;S--)p[S]==-1&&(p[S]=y[--E])}n.setFrame(u++,d.time,p)}l.push(n),m=Math.max(m,n.frames[n.getFrameCount()-1])}if(e.events){const n=new Fg(e.events.length);let a=0;for(let u=0;u<e.events.length;u++){const f=e.events[u],d=t.findEvent(f.name);if(d==null)throw new Error(`Event not found: ${f.name}`);const p=new Xg(D.toSinglePrecision(f.time),d);p.intValue=this.getValue(f,"int",d.intValue),p.floatValue=this.getValue(f,"float",d.floatValue),p.stringValue=this.getValue(f,"string",d.stringValue),p.data.audioPath!=null&&(p.volume=this.getValue(f,"volume",1),p.balance=this.getValue(f,"balance",0)),n.setFrame(a++,p)}l.push(n),m=Math.max(m,n.frames[n.getFrameCount()-1])}if(isNaN(m))throw new Error("Error while parsing animation, duration is NaN");t.animations.push(new vt(s,l,m))}readCurve(e,s,t){if(e.curve){if(e.curve==="stepped")s.setStepped(t);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){const c=e.curve;s.setCurve(t,c[0],c[1],c[2],c[3])}}}getValue(e,s,t){return e[s]!==void 0?e[s]:t}static blendModeFromString(e){if(e=e.toLowerCase(),e=="normal")return Ke.NORMAL;if(e=="additive")return Ke.ADD;if(e=="multiply")return Ke.MULTIPLY;if(e=="screen")return Ke.SCREEN;throw new Error(`Unknown blend mode: ${e}`)}static positionModeFromString(e){if(e=e.toLowerCase(),e=="fixed")return ot.Fixed;if(e=="percent")return ot.Percent;throw new Error(`Unknown position mode: ${e}`)}static spacingModeFromString(e){if(e=e.toLowerCase(),e=="length")return yr.Length;if(e=="fixed")return yr.Fixed;if(e=="percent")return yr.Percent;throw new Error(`Unknown position mode: ${e}`)}static rotateModeFromString(e){if(e=e.toLowerCase(),e=="tangent")return sn.Tangent;if(e=="chain")return sn.Chain;if(e=="chainscale")return sn.ChainScale;throw new Error(`Unknown rotate mode: ${e}`)}static transformModeFromString(e){if(e=e.toLowerCase(),e=="normal")return tt.Normal;if(e=="onlytranslation")return tt.OnlyTranslation;if(e=="norotationorreflection")return tt.NoRotationOrReflection;if(e=="noscale")return tt.NoScale;if(e=="noscaleorreflection")return tt.NoScaleOrReflection;throw new Error(`Unknown transform mode: ${e}`)}},qg=class{constructor(e,s,t,c){this.mesh=e,this.skin=s,this.slotIndex=t,this.parent=c}};class xd{constructor(e){if(!e)throw new Error("name cannot be null.");this.name=e}}const yd=class extends xd{constructor(i){super(i),this.id=yd.nextID++,this.bones=null,this.vertices=[],this.worldVerticesLength=0,this.timelineAttachment=this}computeWorldVerticesOld(i,e){this.computeWorldVertices(i,0,this.worldVerticesLength,e,0,2)}computeWorldVertices(i,e,s,t,c,l){s=c+(s>>1)*l;const m=i.bone.skeleton,h=i.deform;let n=this.vertices;const a=this.bones;if(!a){h.length>0&&(n=h);const p=i.bone.matrix,b=p.tx,y=p.ty,w=p.a,E=p.c,S=p.b,I=p.d;for(let _=e,R=c;R<s;_+=2,R+=l){const T=n[_],P=n[_+1];t[R]=T*w+P*E+b,t[R+1]=T*S+P*I+y}return}let u=0,f=0;for(let p=0;p<e;p+=2){const b=a[u];u+=b+1,f+=b}const d=m.bones;if(h.length==0)for(let p=c,b=f*3;p<s;p+=l){let y=0,w=0,E=a[u++];for(E+=u;u<E;u++,b+=3){const S=d[a[u]].matrix,I=n[b],_=n[b+1],R=n[b+2];y+=(I*S.a+_*S.c+S.tx)*R,w+=(I*S.b+_*S.d+S.ty)*R}t[p]=y,t[p+1]=w}else{const p=h;for(let b=c,y=f*3,w=f<<1;b<s;b+=l){let E=0,S=0,I=a[u++];for(I+=u;u<I;u++,y+=3,w+=2){const _=d[a[u]].matrix,R=n[y]+p[w],T=n[y+1]+p[w+1],P=n[y+2];E+=(R*_.a+T*_.c+_.tx)*P,S+=(R*_.b+T*_.d+_.ty)*P}t[b]=E,t[b+1]=S}}}copyTo(i){this.bones?(i.bones=new Array(this.bones.length),D.arrayCopy(this.bones,0,i.bones,0,this.bones.length)):i.bones=null,this.vertices&&(i.vertices=D.newFloatArray(this.vertices.length),D.arrayCopy(this.vertices,0,i.vertices,0,this.vertices.length)),i.worldVerticesLength=this.worldVerticesLength,i.timelineAttachment=this.timelineAttachment}};let Rr=yd;Rr.nextID=0;class kl extends Rr{constructor(e){super(e),this.type=me.BoundingBox,this.color=new J(1,1,1,1)}copy(){const e=new kl(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e}}class Pl extends Rr{constructor(e){super(e),this.type=me.Clipping,this.endSlot=null,this.color=new J(.2275,.2275,.8078,1)}copy(){const e=new Pl(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e}}class Js extends Rr{constructor(e,s){super(e),this.type=me.Mesh,this.region=null,this.triangles=[],this.color=new J(1,1,1,1),this.width=0,this.height=0,this.hullLength=0,this.edges=[],this.parentMesh=null,this.sequence=null,this.tempColor=new J(0,0,0,0),this.path=s}getParentMesh(){return this.parentMesh}setParentMesh(e){this.parentMesh=e,e&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)}copy(){if(this.parentMesh)return this.newLinkedMesh();const e=new Js(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),D.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.triangles=new Array(this.triangles.length),D.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,e.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(e.edges=new Array(this.edges.length),D.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e}computeWorldVertices(e,s,t,c,l,m){this.sequence!=null&&this.sequence.apply(e,this),super.computeWorldVertices(e,s,t,c,l,m)}newLinkedMesh(){const e=new Js(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),e.timelineAttachment=this.timelineAttachment,e.setParentMesh(this.parentMesh?this.parentMesh:this),e}}class Ml extends Rr{constructor(e){super(e),this.type=me.Path,this.lengths=[],this.closed=!1,this.constantSpeed=!1,this.color=new J(1,1,1,1)}copy(){const e=new Ml(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),D.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e}}class Nl extends Rr{constructor(e){super(e),this.type=me.Point,this.x=0,this.y=0,this.rotation=0,this.color=new J(.38,.94,0,1)}computeWorldPosition(e,s){const t=e.matrix;return s.x=this.x*t.a+this.y*t.c+e.worldX,s.y=this.x*t.b+this.y*t.d+e.worldY,s}computeWorldRotation(e){const s=e.matrix,t=oe.cosDeg(this.rotation),c=oe.sinDeg(this.rotation),l=t*s.a+c*s.c,m=t*s.b+c*s.d;return Math.atan2(m,l)*oe.radDeg}copy(){const e=new Nl(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e}}const wd=class extends xd{constructor(i,e){super(i),this.type=me.Region,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new J(1,1,1,1),this.rendererObject=null,this.region=null,this.sequence=null,this.offset=D.newFloatArray(8),this.uvs=D.newFloatArray(8),this.tempColor=new J(1,1,1,1),this.path=e}updateRegion(){if(!this.region)throw new Error("Region not set.");const i=this.region,e=this.width/this.region.originalWidth*this.scaleX,s=this.height/this.region.originalHeight*this.scaleY,t=-this.width/2*this.scaleX+this.region.offsetX*e,c=-this.height/2*this.scaleY+this.region.offsetY*s,l=t+this.region.width*e,m=c+this.region.height*s,h=this.rotation*Math.PI/180,n=Math.cos(h),a=Math.sin(h),u=this.x,f=this.y,d=t*n+u,p=t*a,b=c*n+f,y=c*a,w=l*n+u,E=l*a,S=m*n+f,I=m*a,_=this.offset;_[0]=d-y,_[1]=b+p,_[2]=d-I,_[3]=S+p,_[4]=w-I,_[5]=S+E,_[6]=w-y,_[7]=b+E;const R=this.uvs;i.degrees==90?(R[2]=i.u,R[3]=i.v2,R[4]=i.u,R[5]=i.v,R[6]=i.u2,R[7]=i.v,R[0]=i.u2,R[1]=i.v2):(R[0]=i.u,R[1]=i.v2,R[2]=i.u,R[3]=i.v,R[4]=i.u2,R[5]=i.v,R[6]=i.u2,R[7]=i.v2)}computeWorldVertices(i,e,s,t){this.sequence!=null&&this.sequence.apply(i,this);const c=i.bone,l=this.offset,m=c.matrix,h=m.tx,n=m.ty,a=m.a,u=m.c,f=m.b,d=m.d;let p=0,b=0;p=l[0],b=l[1],e[s]=p*a+b*u+h,e[s+1]=p*f+b*d+n,s+=t,p=l[2],b=l[3],e[s]=p*a+b*u+h,e[s+1]=p*f+b*d+n,s+=t,p=l[4],b=l[5],e[s]=p*a+b*u+h,e[s+1]=p*f+b*d+n,s+=t,p=l[6],b=l[7],e[s]=p*a+b*u+h,e[s+1]=p*f+b*d+n}copy(){const i=new wd(this.name,this.path);return i.region=this.region,i.rendererObject=this.rendererObject,i.x=this.x,i.y=this.y,i.scaleX=this.scaleX,i.scaleY=this.scaleY,i.rotation=this.rotation,i.width=this.width,i.height=this.height,D.arrayCopy(this.uvs,0,i.uvs,0,8),D.arrayCopy(this.offset,0,i.offset,0,8),i.color.setFromColor(this.color),i.sequence=this.sequence!=null?this.sequence.copy():null,i}};let Ce=wd;Ce.X1=0;Ce.Y1=1;Ce.C1R=2;Ce.C1G=3;Ce.C1B=4;Ce.C1A=5;Ce.U1=6;Ce.V1=7;Ce.X2=8;Ce.Y2=9;Ce.C2R=10;Ce.C2G=11;Ce.C2B=12;Ce.C2A=13;Ce.U2=14;Ce.V2=15;Ce.X3=16;Ce.Y3=17;Ce.C3R=18;Ce.C3G=19;Ce.C3B=20;Ce.C3A=21;Ce.U3=22;Ce.V3=23;Ce.X4=24;Ce.Y4=25;Ce.C4R=26;Ce.C4G=27;Ce.C4B=28;Ce.C4A=29;Ce.U4=30;Ce.V4=31;const so=class{constructor(i){this.id=so.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(i)}copy(){const i=new so(this.regions.length);return D.arrayCopy(this.regions,0,i.regions,0,this.regions.length),i.start=this.start,i.digits=this.digits,i.setupIndex=this.setupIndex,i}apply(i,e){let s=i.sequenceIndex;s==-1&&(s=this.setupIndex),s>=this.regions.length&&(s=this.regions.length-1);const t=this.regions[s];e.region!=t&&(e.region=t)}getPath(i,e){let s=i;const t=(this.start+e).toString();for(let c=this.digits-t.length;c>0;c--)s+="0";return s+=t,s}static nextID(){return so._nextID++}};let Vl=so;Vl._nextID=0;var Jn=(i=>(i[i.hold=0]="hold",i[i.once=1]="once",i[i.loop=2]="loop",i[i.pingpong=3]="pingpong",i[i.onceReverse=4]="onceReverse",i[i.loopReverse=5]="loopReverse",i[i.pingpongReverse=6]="pingpongReverse",i))(Jn||{});const Ed=[0,1,2,3,4,5,6];class Fl{constructor(e,s,t){if(this.timelines=[],this.timelineIds=new ag,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(s),this.duration=t}setTimelines(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(let s=0;s<e.length;s++)this.timelineIds.addAll(e[s].getPropertyIds())}hasTimeline(e){for(let s=0;s<e.length;s++)if(this.timelineIds.contains(e[s]))return!0;return!1}apply(e,s,t,c,l,m,h,n){if(!e)throw new Error("skeleton cannot be null.");c&&this.duration!=0&&(t%=this.duration,s>0&&(s%=this.duration));const a=this.timelines;for(let u=0,f=a.length;u<f;u++)a[u].apply(e,s,t,l,m,h,n)}}const Re={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19};class rt{constructor(e,s){this.propertyIds=s,this.frames=D.newFloatArray(e*this.getFrameEntries())}getPropertyIds(){return this.propertyIds}getFrameEntries(){return 1}getFrameCount(){return this.frames.length/this.getFrameEntries()}getDuration(){return this.frames[this.frames.length-this.getFrameEntries()]}static search1(e,s){const t=e.length;for(let c=1;c<t;c++)if(e[c]>s)return c-1;return t-1}static search(e,s,t){const c=e.length;for(let l=t;l<c;l+=t)if(e[l]>s)return l-t;return c-t}}class zn extends rt{constructor(e,s,t){super(e,t),this.curves=D.newFloatArray(e+s*18),this.curves[e-1]=1}setLinear(e){this.curves[e]=0}setStepped(e){this.curves[e]=1}shrink(e){const s=this.getFrameCount()+e*18;if(this.curves.length>s){const t=D.newFloatArray(s);D.arrayCopy(this.curves,0,t,0,s),this.curves=t}}setBezier(e,s,t,c,l,m,h,n,a,u,f){const d=this.curves;let p=this.getFrameCount()+e*18;t==0&&(d[s]=2+p);const b=(c-m*2+n)*.03,y=(l-h*2+a)*.03,w=((m-n)*3-c+u)*.006,E=((h-a)*3-l+f)*.006;let S=b*2+w,I=y*2+E,_=(m-c)*.3+b+w*.16666667,R=(h-l)*.3+y+E*.16666667,T=c+_,P=l+R;for(let L=p+18;p<L;p+=2)d[p]=T,d[p+1]=P,_+=S,R+=I,S+=w,I+=E,T+=_,P+=R}getBezierValue(e,s,t,c){const l=this.curves;if(l[c]>e){const a=this.frames[s],u=this.frames[s+t];return u+(e-a)/(l[c]-a)*(l[c+1]-u)}const m=c+18;for(c+=2;c<m;c+=2)if(l[c]>=e){const a=l[c-2],u=l[c-1];return u+(e-a)/(l[c]-a)*(l[c+1]-u)}s+=this.getFrameEntries();const h=l[m-2],n=l[m-1];return n+(e-h)/(this.frames[s]-h)*(this.frames[s+t]-n)}}class Un extends zn{constructor(e,s,t){super(e,s,[t])}getFrameEntries(){return 2}setFrame(e,s,t){e<<=1,this.frames[e]=s,this.frames[e+1]=t}getCurveValue(e){const s=this.frames;let t=s.length-2;for(let l=2;l<=t;l+=2)if(s[l]>e){t=l-2;break}const c=this.curves[t>>1];switch(c){case 0:const l=s[t],m=s[t+1];return m+(e-l)/(s[t+2]-l)*(s[t+2+1]-m);case 1:return s[t+1]}return this.getBezierValue(e,t,1,c-2)}}class Ol extends zn{constructor(e,s,t,c){super(e,s,[t,c])}getFrameEntries(){return 3}setFrame(e,s,t,c){e*=3,this.frames[e]=s,this.frames[e+1]=t,this.frames[e+2]=c}}class Sd extends Un{constructor(e,s,t){super(e,s,`${Re.rotate}|${t}`),this.boneIndex=0,this.boneIndex=t}apply(e,s,t,c,l,m,h){const n=e.bones[this.boneIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.rotation=n.data.rotation;return;case k.first:n.rotation+=(n.data.rotation-n.rotation)*l}return}let u=this.getCurveValue(t);switch(m){case k.setup:n.rotation=n.data.rotation+u*l;break;case k.first:case k.replace:u+=n.data.rotation-n.rotation;case k.add:n.rotation+=u*l}}}class Cd extends Ol{constructor(e,s,t){super(e,s,`${Re.x}|${t}`,`${Re.y}|${t}`),this.boneIndex=0,this.boneIndex=t}apply(e,s,t,c,l,m,h){const n=e.bones[this.boneIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.x=n.data.x,n.y=n.data.y;return;case k.first:n.x+=(n.data.x-n.x)*l,n.y+=(n.data.y-n.y)*l}return}let u=0,f=0;const d=rt.search(a,t,3),p=this.curves[d/3];switch(p){case 0:const b=a[d];u=a[d+1],f=a[d+2];const y=(t-b)/(a[d+3]-b);u+=(a[d+3+1]-u)*y,f+=(a[d+3+2]-f)*y;break;case 1:u=a[d+1],f=a[d+2];break;default:u=this.getBezierValue(t,d,1,p-2),f=this.getBezierValue(t,d,2,p+18-2)}switch(m){case k.setup:n.x=n.data.x+u*l,n.y=n.data.y+f*l;break;case k.first:case k.replace:n.x+=(n.data.x+u-n.x)*l,n.y+=(n.data.y+f-n.y)*l;break;case k.add:n.x+=u*l,n.y+=f*l}}}class _d extends Un{constructor(e,s,t){super(e,s,`${Re.x}|${t}`),this.boneIndex=0,this.boneIndex=t}apply(e,s,t,c,l,m,h){const n=e.bones[this.boneIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.x=n.data.x;return;case k.first:n.x+=(n.data.x-n.x)*l}return}const u=this.getCurveValue(t);switch(m){case k.setup:n.x=n.data.x+u*l;break;case k.first:case k.replace:n.x+=(n.data.x+u-n.x)*l;break;case k.add:n.x+=u*l}}}class Id extends Un{constructor(e,s,t){super(e,s,`${Re.y}|${t}`),this.boneIndex=0,this.boneIndex=t}apply(e,s,t,c,l,m,h){const n=e.bones[this.boneIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.y=n.data.y;return;case k.first:n.y+=(n.data.y-n.y)*l}return}const u=this.getCurveValue(t);switch(m){case k.setup:n.y=n.data.y+u*l;break;case k.first:case k.replace:n.y+=(n.data.y+u-n.y)*l;break;case k.add:n.y+=u*l}}}class Rd extends Ol{constructor(e,s,t){super(e,s,`${Re.scaleX}|${t}`,`${Re.scaleY}|${t}`),this.boneIndex=0,this.boneIndex=t}apply(e,s,t,c,l,m,h){const n=e.bones[this.boneIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.scaleX=n.data.scaleX,n.scaleY=n.data.scaleY;return;case k.first:n.scaleX+=(n.data.scaleX-n.scaleX)*l,n.scaleY+=(n.data.scaleY-n.scaleY)*l}return}let u,f;const d=rt.search(a,t,3),p=this.curves[d/3];switch(p){case 0:const b=a[d];u=a[d+1],f=a[d+2];const y=(t-b)/(a[d+3]-b);u+=(a[d+3+1]-u)*y,f+=(a[d+3+2]-f)*y;break;case 1:u=a[d+1],f=a[d+2];break;default:u=this.getBezierValue(t,d,1,p-2),f=this.getBezierValue(t,d,2,p+18-2)}if(u*=n.data.scaleX,f*=n.data.scaleY,l==1)m==k.add?(n.scaleX+=u-n.data.scaleX,n.scaleY+=f-n.data.scaleY):(n.scaleX=u,n.scaleY=f);else{let b=0,y=0;if(h==He.mixOut)switch(m){case k.setup:b=n.data.scaleX,y=n.data.scaleY,n.scaleX=b+(Math.abs(u)*oe.signum(b)-b)*l,n.scaleY=y+(Math.abs(f)*oe.signum(y)-y)*l;break;case k.first:case k.replace:b=n.scaleX,y=n.scaleY,n.scaleX=b+(Math.abs(u)*oe.signum(b)-b)*l,n.scaleY=y+(Math.abs(f)*oe.signum(y)-y)*l;break;case k.add:n.scaleX+=(u-n.data.scaleX)*l,n.scaleY+=(f-n.data.scaleY)*l}else switch(m){case k.setup:b=Math.abs(n.data.scaleX)*oe.signum(u),y=Math.abs(n.data.scaleY)*oe.signum(f),n.scaleX=b+(u-b)*l,n.scaleY=y+(f-y)*l;break;case k.first:case k.replace:b=Math.abs(n.scaleX)*oe.signum(u),y=Math.abs(n.scaleY)*oe.signum(f),n.scaleX=b+(u-b)*l,n.scaleY=y+(f-y)*l;break;case k.add:n.scaleX+=(u-n.data.scaleX)*l,n.scaleY+=(f-n.data.scaleY)*l}}}}class Td extends Un{constructor(e,s,t){super(e,s,`${Re.scaleX}|${t}`),this.boneIndex=0,this.boneIndex=t}apply(e,s,t,c,l,m,h){const n=e.bones[this.boneIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.scaleX=n.data.scaleX;return;case k.first:n.scaleX+=(n.data.scaleX-n.scaleX)*l}return}const u=this.getCurveValue(t)*n.data.scaleX;if(l==1)m==k.add?n.scaleX+=u-n.data.scaleX:n.scaleX=u;else{let f=0;if(h==He.mixOut)switch(m){case k.setup:f=n.data.scaleX,n.scaleX=f+(Math.abs(u)*oe.signum(f)-f)*l;break;case k.first:case k.replace:f=n.scaleX,n.scaleX=f+(Math.abs(u)*oe.signum(f)-f)*l;break;case k.add:n.scaleX+=(u-n.data.scaleX)*l}else switch(m){case k.setup:f=Math.abs(n.data.scaleX)*oe.signum(u),n.scaleX=f+(u-f)*l;break;case k.first:case k.replace:f=Math.abs(n.scaleX)*oe.signum(u),n.scaleX=f+(u-f)*l;break;case k.add:n.scaleX+=(u-n.data.scaleX)*l}}}}class Ad extends Un{constructor(e,s,t){super(e,s,`${Re.scaleY}|${t}`),this.boneIndex=0,this.boneIndex=t}apply(e,s,t,c,l,m,h){const n=e.bones[this.boneIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.scaleY=n.data.scaleY;return;case k.first:n.scaleY+=(n.data.scaleY-n.scaleY)*l}return}const u=this.getCurveValue(t)*n.data.scaleY;if(l==1)m==k.add?n.scaleY+=u-n.data.scaleY:n.scaleY=u;else{let f=0;if(h==He.mixOut)switch(m){case k.setup:f=n.data.scaleY,n.scaleY=f+(Math.abs(u)*oe.signum(f)-f)*l;break;case k.first:case k.replace:f=n.scaleY,n.scaleY=f+(Math.abs(u)*oe.signum(f)-f)*l;break;case k.add:n.scaleY+=(u-n.data.scaleY)*l}else switch(m){case k.setup:f=Math.abs(n.data.scaleY)*oe.signum(u),n.scaleY=f+(u-f)*l;break;case k.first:case k.replace:f=Math.abs(n.scaleY)*oe.signum(u),n.scaleY=f+(u-f)*l;break;case k.add:n.scaleY+=(u-n.data.scaleY)*l}}}}class kd extends Ol{constructor(e,s,t){super(e,s,`${Re.shearX}|${t}`,`${Re.shearY}|${t}`),this.boneIndex=0,this.boneIndex=t}apply(e,s,t,c,l,m,h){const n=e.bones[this.boneIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.shearX=n.data.shearX,n.shearY=n.data.shearY;return;case k.first:n.shearX+=(n.data.shearX-n.shearX)*l,n.shearY+=(n.data.shearY-n.shearY)*l}return}let u=0,f=0;const d=rt.search(a,t,3),p=this.curves[d/3];switch(p){case 0:const b=a[d];u=a[d+1],f=a[d+2];const y=(t-b)/(a[d+3]-b);u+=(a[d+3+1]-u)*y,f+=(a[d+3+2]-f)*y;break;case 1:u=a[d+1],f=a[d+2];break;default:u=this.getBezierValue(t,d,1,p-2),f=this.getBezierValue(t,d,2,p+18-2)}switch(m){case k.setup:n.shearX=n.data.shearX+u*l,n.shearY=n.data.shearY+f*l;break;case k.first:case k.replace:n.shearX+=(n.data.shearX+u-n.shearX)*l,n.shearY+=(n.data.shearY+f-n.shearY)*l;break;case k.add:n.shearX+=u*l,n.shearY+=f*l}}}class Pd extends Un{constructor(e,s,t){super(e,s,`${Re.shearX}|${t}`),this.boneIndex=0,this.boneIndex=t}apply(e,s,t,c,l,m,h){const n=e.bones[this.boneIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.shearX=n.data.shearX;return;case k.first:n.shearX+=(n.data.shearX-n.shearX)*l}return}const u=this.getCurveValue(t);switch(m){case k.setup:n.shearX=n.data.shearX+u*l;break;case k.first:case k.replace:n.shearX+=(n.data.shearX+u-n.shearX)*l;break;case k.add:n.shearX+=u*l}}}class Md extends Un{constructor(e,s,t){super(e,s,`${Re.shearY}|${t}`),this.boneIndex=0,this.boneIndex=t}apply(e,s,t,c,l,m,h){const n=e.bones[this.boneIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.shearY=n.data.shearY;return;case k.first:n.shearY+=(n.data.shearY-n.shearY)*l}return}const u=this.getCurveValue(t);switch(m){case k.setup:n.shearY=n.data.shearY+u*l;break;case k.first:case k.replace:n.shearY+=(n.data.shearY+u-n.shearY)*l;break;case k.add:n.shearY+=u*l}}}class Nd extends zn{constructor(e,s,t){super(e,s,[`${Re.rgb}|${t}`,`${Re.alpha}|${t}`]),this.slotIndex=0,this.slotIndex=t}getFrameEntries(){return 5}setFrame(e,s,t,c,l,m){e*=5,this.frames[e]=s,this.frames[e+1]=t,this.frames[e+2]=c,this.frames[e+3]=l,this.frames[e+4]=m}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex];if(!n.bone.active)return;const a=this.frames,u=n.color;if(t<a[0]){const E=n.data.color;switch(m){case k.setup:u.setFromColor(E);return;case k.first:u.add((E.r-u.r)*l,(E.g-u.g)*l,(E.b-u.b)*l,(E.a-u.a)*l)}return}let f=0,d=0,p=0,b=0;const y=rt.search(a,t,5),w=this.curves[y/5];switch(w){case 0:const E=a[y];f=a[y+1],d=a[y+2],p=a[y+3],b=a[y+4];const S=(t-E)/(a[y+5]-E);f+=(a[y+5+1]-f)*S,d+=(a[y+5+2]-d)*S,p+=(a[y+5+3]-p)*S,b+=(a[y+5+4]-b)*S;break;case 1:f=a[y+1],d=a[y+2],p=a[y+3],b=a[y+4];break;default:f=this.getBezierValue(t,y,1,w-2),d=this.getBezierValue(t,y,2,w+18-2),p=this.getBezierValue(t,y,3,w+18*2-2),b=this.getBezierValue(t,y,4,w+18*3-2)}l==1?u.set(f,d,p,b):(m==k.setup&&u.setFromColor(n.data.color),u.add((f-u.r)*l,(d-u.g)*l,(p-u.b)*l,(b-u.a)*l))}}class Vd extends zn{constructor(e,s,t){super(e,s,[`${Re.rgb}|${t}`]),this.slotIndex=0,this.slotIndex=t}getFrameEntries(){return 4}setFrame(e,s,t,c,l){e<<=2,this.frames[e]=s,this.frames[e+1]=t,this.frames[e+2]=c,this.frames[e+3]=l}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex];if(!n.bone.active)return;const a=this.frames,u=n.color;if(t<a[0]){const w=n.data.color;switch(m){case k.setup:u.r=w.r,u.g=w.g,u.b=w.b;return;case k.first:u.r+=(w.r-u.r)*l,u.g+=(w.g-u.g)*l,u.b+=(w.b-u.b)*l}return}let f=0,d=0,p=0;const b=rt.search(a,t,4),y=this.curves[b>>2];switch(y){case 0:const w=a[b];f=a[b+1],d=a[b+2],p=a[b+3];const E=(t-w)/(a[b+4]-w);f+=(a[b+4+1]-f)*E,d+=(a[b+4+2]-d)*E,p+=(a[b+4+3]-p)*E;break;case 1:f=a[b+1],d=a[b+2],p=a[b+3];break;default:f=this.getBezierValue(t,b,1,y-2),d=this.getBezierValue(t,b,2,y+18-2),p=this.getBezierValue(t,b,3,y+18*2-2)}if(l==1)u.r=f,u.g=d,u.b=p;else{if(m==k.setup){const w=n.data.color;u.r=w.r,u.g=w.g,u.b=w.b}u.r+=(f-u.r)*l,u.g+=(d-u.g)*l,u.b+=(p-u.b)*l}}}class Fd extends Un{constructor(e,s,t){super(e,s,`${Re.alpha}|${t}`),this.slotIndex=0,this.slotIndex=t}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex];if(!n.bone.active)return;const a=n.color;if(t<this.frames[0]){const f=n.data.color;switch(m){case k.setup:a.a=f.a;return;case k.first:a.a+=(f.a-a.a)*l}return}const u=this.getCurveValue(t);l==1?a.a=u:(m==k.setup&&(a.a=n.data.color.a),a.a+=(u-a.a)*l)}}class Od extends zn{constructor(e,s,t){super(e,s,[`${Re.rgb}|${t}`,`${Re.alpha}|${t}`,`${Re.rgb2}|${t}`]),this.slotIndex=0,this.slotIndex=t}getFrameEntries(){return 8}setFrame(e,s,t,c,l,m,h,n,a){e<<=3,this.frames[e]=s,this.frames[e+1]=t,this.frames[e+2]=c,this.frames[e+3]=l,this.frames[e+4]=m,this.frames[e+5]=h,this.frames[e+6]=n,this.frames[e+7]=a}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex];if(!n.bone.active)return;const a=this.frames,u=n.color,f=n.darkColor;if(t<a[0]){const R=n.data.color,T=n.data.darkColor;switch(m){case k.setup:u.setFromColor(R),f.r=T.r,f.g=T.g,f.b=T.b;return;case k.first:u.add((R.r-u.r)*l,(R.g-u.g)*l,(R.b-u.b)*l,(R.a-u.a)*l),f.r+=(T.r-f.r)*l,f.g+=(T.g-f.g)*l,f.b+=(T.b-f.b)*l}return}let d=0,p=0,b=0,y=0,w=0,E=0,S=0;const I=rt.search(a,t,8),_=this.curves[I>>3];switch(_){case 0:const R=a[I];d=a[I+1],p=a[I+2],b=a[I+3],y=a[I+4],w=a[I+5],E=a[I+6],S=a[I+7];const T=(t-R)/(a[I+8]-R);d+=(a[I+8+1]-d)*T,p+=(a[I+8+2]-p)*T,b+=(a[I+8+3]-b)*T,y+=(a[I+8+4]-y)*T,w+=(a[I+8+5]-w)*T,E+=(a[I+8+6]-E)*T,S+=(a[I+8+7]-S)*T;break;case 1:d=a[I+1],p=a[I+2],b=a[I+3],y=a[I+4],w=a[I+5],E=a[I+6],S=a[I+7];break;default:d=this.getBezierValue(t,I,1,_-2),p=this.getBezierValue(t,I,2,_+18-2),b=this.getBezierValue(t,I,3,_+18*2-2),y=this.getBezierValue(t,I,4,_+18*3-2),w=this.getBezierValue(t,I,5,_+18*4-2),E=this.getBezierValue(t,I,6,_+18*5-2),S=this.getBezierValue(t,I,7,_+18*6-2)}if(l==1)u.set(d,p,b,y),f.r=w,f.g=E,f.b=S;else{if(m==k.setup){u.setFromColor(n.data.color);const R=n.data.darkColor;f.r=R.r,f.g=R.g,f.b=R.b}u.add((d-u.r)*l,(p-u.g)*l,(b-u.b)*l,(y-u.a)*l),f.r+=(w-f.r)*l,f.g+=(E-f.g)*l,f.b+=(S-f.b)*l}}}class Ld extends zn{constructor(e,s,t){super(e,s,[`${Re.rgb}|${t}`,`${Re.rgb2}|${t}`]),this.slotIndex=0,this.slotIndex=t}getFrameEntries(){return 7}setFrame(e,s,t,c,l,m,h,n){e*=7,this.frames[e]=s,this.frames[e+1]=t,this.frames[e+2]=c,this.frames[e+3]=l,this.frames[e+4]=m,this.frames[e+5]=h,this.frames[e+6]=n}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex];if(!n.bone.active)return;const a=this.frames,u=n.color,f=n.darkColor;if(t<a[0]){const _=n.data.color,R=n.data.darkColor;switch(m){case k.setup:u.r=_.r,u.g=_.g,u.b=_.b,f.r=R.r,f.g=R.g,f.b=R.b;return;case k.first:u.r+=(_.r-u.r)*l,u.g+=(_.g-u.g)*l,u.b+=(_.b-u.b)*l,f.r+=(R.r-f.r)*l,f.g+=(R.g-f.g)*l,f.b+=(R.b-f.b)*l}return}let d=0,p=0,b=0,y=0,w=0,E=0;const S=rt.search(a,t,7),I=this.curves[S/7];switch(I){case 0:const _=a[S];d=a[S+1],p=a[S+2],b=a[S+3],y=a[S+4],w=a[S+5],E=a[S+6];const R=(t-_)/(a[S+7]-_);d+=(a[S+7+1]-d)*R,p+=(a[S+7+2]-p)*R,b+=(a[S+7+3]-b)*R,y+=(a[S+7+4]-y)*R,w+=(a[S+7+5]-w)*R,E+=(a[S+7+6]-E)*R;break;case 1:d=a[S+1],p=a[S+2],b=a[S+3],y=a[S+4],w=a[S+5],E=a[S+6];break;default:d=this.getBezierValue(t,S,1,I-2),p=this.getBezierValue(t,S,2,I+18-2),b=this.getBezierValue(t,S,3,I+18*2-2),y=this.getBezierValue(t,S,4,I+18*3-2),w=this.getBezierValue(t,S,5,I+18*4-2),E=this.getBezierValue(t,S,6,I+18*5-2)}if(l==1)u.r=d,u.g=p,u.b=b,f.r=y,f.g=w,f.b=E;else{if(m==k.setup){const _=n.data.color,R=n.data.darkColor;u.r=_.r,u.g=_.g,u.b=_.b,f.r=R.r,f.g=R.g,f.b=R.b}u.r+=(d-u.r)*l,u.g+=(p-u.g)*l,u.b+=(b-u.b)*l,f.r+=(y-f.r)*l,f.g+=(w-f.g)*l,f.b+=(E-f.b)*l}}}class Bd extends rt{constructor(e,s){super(e,[`${Re.attachment}|${s}`]),this.slotIndex=0,this.slotIndex=s,this.attachmentNames=new Array(e)}getFrameCount(){return this.frames.length}setFrame(e,s,t){this.frames[e]=s,this.attachmentNames[e]=t}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex];if(n.bone.active){if(h==He.mixOut){m==k.setup&&this.setAttachment(e,n,n.data.attachmentName);return}if(t<this.frames[0]){(m==k.setup||m==k.first)&&this.setAttachment(e,n,n.data.attachmentName);return}this.setAttachment(e,n,this.attachmentNames[rt.search1(this.frames,t)])}}setAttachment(e,s,t){s.setAttachment(t?e.getAttachment(this.slotIndex,t):null)}}class Yd extends zn{constructor(e,s,t,c){super(e,s,[`${Re.deform}|${t}|${c.id}`]),this.slotIndex=0,this.slotIndex=t,this.attachment=c,this.vertices=new Array(e)}getFrameCount(){return this.frames.length}setFrame(e,s,t){this.frames[e]=s,this.vertices[e]=t}setBezier(e,s,t,c,l,m,h,n,a,u,f){const d=this.curves;let p=this.getFrameCount()+e*18;t==0&&(d[s]=2+p);const b=(c-m*2+n)*.03,y=a*.03-h*.06,w=((m-n)*3-c+u)*.006,E=(h-a+.33333333)*.018;let S=b*2+w,I=y*2+E,_=(m-c)*.3+b+w*.16666667,R=h*.3+y+E*.16666667,T=c+_,P=R;for(let L=p+18;p<L;p+=2)d[p]=T,d[p+1]=P,_+=S,R+=I,S+=w,I+=E,T+=_,P+=R}getCurvePercent(e,s){const t=this.curves;let c=t[s];switch(c){case 0:const n=this.frames[s];return(e-n)/(this.frames[s+this.getFrameEntries()]-n);case 1:return 0}if(c-=2,t[c]>e){const n=this.frames[s];return t[c+1]*(e-n)/(t[c]-n)}const l=c+18;for(c+=2;c<l;c+=2)if(t[c]>=e){const n=t[c-2],a=t[c-1];return a+(e-n)/(t[c]-n)*(t[c+1]-a)}const m=t[l-2],h=t[l-1];return h+(1-h)*(e-m)/(this.frames[s+this.getFrameEntries()]-m)}apply(e,s,t,c,l,m,h){const n=e.slots[this.slotIndex];if(!n.bone.active)return;const a=n.getAttachment();if(!a||!(a instanceof Rr)||a.timelineAttachment!=this.attachment)return;const u=n.deform;u.length==0&&(m=k.setup);const f=this.vertices,d=f[0].length,p=this.frames;if(t<p[0]){switch(m){case k.setup:u.length=0;return;case k.first:if(l==1){u.length=0;return}u.length=d;const S=a;if(S.bones){l=1-l;for(let I=0;I<d;I++)u[I]*=l}else{const I=S.vertices;for(let _=0;_<d;_++)u[_]+=(I[_]-u[_])*l}}return}if(u.length=d,t>=p[p.length-1]){const S=f[p.length-1];if(l==1)if(m==k.add){const I=a;if(I.bones)for(let _=0;_<d;_++)u[_]+=S[_];else{const _=I.vertices;for(let R=0;R<d;R++)u[R]+=S[R]-_[R]}}else D.arrayCopy(S,0,u,0,d);else switch(m){case k.setup:{const _=a;if(_.bones)for(let R=0;R<d;R++)u[R]=S[R]*l;else{const R=_.vertices;for(let T=0;T<d;T++){const P=R[T];u[T]=P+(S[T]-P)*l}}break}case k.first:case k.replace:for(let _=0;_<d;_++)u[_]+=(S[_]-u[_])*l;break;case k.add:const I=a;if(I.bones)for(let _=0;_<d;_++)u[_]+=S[_]*l;else{const _=I.vertices;for(let R=0;R<d;R++)u[R]+=(S[R]-_[R])*l}}return}const b=rt.search1(p,t),y=this.getCurvePercent(t,b),w=f[b],E=f[b+1];if(l==1)if(m==k.add){const S=a;if(S.bones)for(let I=0;I<d;I++){const _=w[I];u[I]+=_+(E[I]-_)*y}else{const I=S.vertices;for(let _=0;_<d;_++){const R=w[_];u[_]+=R+(E[_]-R)*y-I[_]}}}else for(let S=0;S<d;S++){const I=w[S];u[S]=I+(E[S]-I)*y}else switch(m){case k.setup:{const I=a;if(I.bones)for(let _=0;_<d;_++){const R=w[_];u[_]=(R+(E[_]-R)*y)*l}else{const _=I.vertices;for(let R=0;R<d;R++){const T=w[R],P=_[R];u[R]=P+(T+(E[R]-T)*y-P)*l}}break}case k.first:case k.replace:for(let I=0;I<d;I++){const _=w[I];u[I]+=(_+(E[I]-_)*y-u[I])*l}break;case k.add:const S=a;if(S.bones)for(let I=0;I<d;I++){const _=w[I];u[I]+=(_+(E[I]-_)*y)*l}else{const I=S.vertices;for(let _=0;_<d;_++){const R=w[_];u[_]+=(R+(E[_]-R)*y-I[_])*l}}}}}const Xd=class extends rt{constructor(i){super(i,Xd.propertyIds),this.events=new Array(i)}getFrameCount(){return this.frames.length}setFrame(i,e){this.frames[i]=e.time,this.events[i]=e}apply(i,e,s,t,c,l,m){if(!t)return;const h=this.frames,n=this.frames.length;if(e>s)this.apply(i,e,Number.MAX_VALUE,t,c,l,m),e=-1;else if(e>=h[n-1])return;if(s<h[0])return;let a=0;if(e<h[0])a=0;else{a=rt.search1(h,e)+1;const u=h[a];for(;a>0&&h[a-1]==u;)a--}for(;a<n&&s>=h[a];a++)t.push(this.events[a])}};let Ll=Xd;Ll.propertyIds=[`${Re.event}`];const Dd=class extends rt{constructor(i){super(i,Dd.propertyIds),this.drawOrders=new Array(i)}getFrameCount(){return this.frames.length}setFrame(i,e,s){this.frames[i]=e,this.drawOrders[i]=s}apply(i,e,s,t,c,l,m){if(m==He.mixOut){l==k.setup&&D.arrayCopy(i.slots,0,i.drawOrder,0,i.slots.length);return}if(s<this.frames[0]){(l==k.setup||l==k.first)&&D.arrayCopy(i.slots,0,i.drawOrder,0,i.slots.length);return}const h=rt.search1(this.frames,s),n=this.drawOrders[h];if(!n)D.arrayCopy(i.slots,0,i.drawOrder,0,i.slots.length);else{const a=i.drawOrder,u=i.slots;for(let f=0,d=n.length;f<d;f++)a[f]=u[n[f]]}}};let Bl=Dd;Bl.propertyIds=[`${Re.drawOrder}`];class jd extends zn{constructor(e,s,t){super(e,s,[`${Re.ikConstraint}|${t}`]),this.ikConstraintIndex=0,this.ikConstraintIndex=t}getFrameEntries(){return 6}setFrame(e,s,t,c,l,m,h){e*=6,this.frames[e]=s,this.frames[e+1]=t,this.frames[e+2]=c,this.frames[e+3]=l,this.frames[e+4]=m?1:0,this.frames[e+5]=h?1:0}apply(e,s,t,c,l,m,h){const n=e.ikConstraints[this.ikConstraintIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.mix=n.data.mix,n.softness=n.data.softness,n.bendDirection=n.data.bendDirection,n.compress=n.data.compress,n.stretch=n.data.stretch;return;case k.first:n.mix+=(n.data.mix-n.mix)*l,n.softness+=(n.data.softness-n.softness)*l,n.bendDirection=n.data.bendDirection,n.compress=n.data.compress,n.stretch=n.data.stretch}return}let u=0,f=0;const d=rt.search(a,t,6),p=this.curves[d/6];switch(p){case 0:const b=a[d];u=a[d+1],f=a[d+2];const y=(t-b)/(a[d+6]-b);u+=(a[d+6+1]-u)*y,f+=(a[d+6+2]-f)*y;break;case 1:u=a[d+1],f=a[d+2];break;default:u=this.getBezierValue(t,d,1,p-2),f=this.getBezierValue(t,d,2,p+18-2)}m==k.setup?(n.mix=n.data.mix+(u-n.data.mix)*l,n.softness=n.data.softness+(f-n.data.softness)*l,h==He.mixOut?(n.bendDirection=n.data.bendDirection,n.compress=n.data.compress,n.stretch=n.data.stretch):(n.bendDirection=a[d+3],n.compress=a[d+4]!=0,n.stretch=a[d+5]!=0)):(n.mix+=(u-n.mix)*l,n.softness+=(f-n.softness)*l,h==He.mixIn&&(n.bendDirection=a[d+3],n.compress=a[d+4]!=0,n.stretch=a[d+5]!=0))}}class $d extends zn{constructor(e,s,t){super(e,s,[`${Re.transformConstraint}|${t}`]),this.transformConstraintIndex=0,this.transformConstraintIndex=t}getFrameEntries(){return 7}setFrame(e,s,t,c,l,m,h,n){const a=this.frames;e*=7,a[e]=s,a[e+1]=t,a[e+2]=c,a[e+3]=l,a[e+4]=m,a[e+5]=h,a[e+6]=n}apply(e,s,t,c,l,m,h){const n=e.transformConstraints[this.transformConstraintIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){const S=n.data;switch(m){case k.setup:n.mixRotate=S.mixRotate,n.mixX=S.mixX,n.mixY=S.mixY,n.mixScaleX=S.mixScaleX,n.mixScaleY=S.mixScaleY,n.mixShearY=S.mixShearY;return;case k.first:n.mixRotate+=(S.mixRotate-n.mixRotate)*l,n.mixX+=(S.mixX-n.mixX)*l,n.mixY+=(S.mixY-n.mixY)*l,n.mixScaleX+=(S.mixScaleX-n.mixScaleX)*l,n.mixScaleY+=(S.mixScaleY-n.mixScaleY)*l,n.mixShearY+=(S.mixShearY-n.mixShearY)*l}return}let u,f,d,p,b,y;const w=rt.search(a,t,7),E=this.curves[w/7];switch(E){case 0:const S=a[w];u=a[w+1],f=a[w+2],d=a[w+3],p=a[w+4],b=a[w+5],y=a[w+6];const I=(t-S)/(a[w+7]-S);u+=(a[w+7+1]-u)*I,f+=(a[w+7+2]-f)*I,d+=(a[w+7+3]-d)*I,p+=(a[w+7+4]-p)*I,b+=(a[w+7+5]-b)*I,y+=(a[w+7+6]-y)*I;break;case 1:u=a[w+1],f=a[w+2],d=a[w+3],p=a[w+4],b=a[w+5],y=a[w+6];break;default:u=this.getBezierValue(t,w,1,E-2),f=this.getBezierValue(t,w,2,E+18-2),d=this.getBezierValue(t,w,3,E+18*2-2),p=this.getBezierValue(t,w,4,E+18*3-2),b=this.getBezierValue(t,w,5,E+18*4-2),y=this.getBezierValue(t,w,6,E+18*5-2)}if(m==k.setup){const S=n.data;n.mixRotate=S.mixRotate+(u-S.mixRotate)*l,n.mixX=S.mixX+(f-S.mixX)*l,n.mixY=S.mixY+(d-S.mixY)*l,n.mixScaleX=S.mixScaleX+(p-S.mixScaleX)*l,n.mixScaleY=S.mixScaleY+(b-S.mixScaleY)*l,n.mixShearY=S.mixShearY+(y-S.mixShearY)*l}else n.mixRotate+=(u-n.mixRotate)*l,n.mixX+=(f-n.mixX)*l,n.mixY+=(d-n.mixY)*l,n.mixScaleX+=(p-n.mixScaleX)*l,n.mixScaleY+=(b-n.mixScaleY)*l,n.mixShearY+=(y-n.mixShearY)*l}}class zd extends Un{constructor(e,s,t){super(e,s,`${Re.pathConstraintPosition}|${t}`),this.pathConstraintIndex=0,this.pathConstraintIndex=t}apply(e,s,t,c,l,m,h){const n=e.pathConstraints[this.pathConstraintIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.position=n.data.position;return;case k.first:n.position+=(n.data.position-n.position)*l}return}const u=this.getCurveValue(t);m==k.setup?n.position=n.data.position+(u-n.data.position)*l:n.position+=(u-n.position)*l}}class Ud extends Un{constructor(e,s,t){super(e,s,`${Re.pathConstraintSpacing}|${t}`),this.pathConstraintIndex=0,this.pathConstraintIndex=t}apply(e,s,t,c,l,m,h){const n=e.pathConstraints[this.pathConstraintIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.spacing=n.data.spacing;return;case k.first:n.spacing+=(n.data.spacing-n.spacing)*l}return}const u=this.getCurveValue(t);m==k.setup?n.spacing=n.data.spacing+(u-n.data.spacing)*l:n.spacing+=(u-n.spacing)*l}}class Hd extends zn{constructor(e,s,t){super(e,s,[`${Re.pathConstraintMix}|${t}`]),this.pathConstraintIndex=0,this.pathConstraintIndex=t}getFrameEntries(){return 4}setFrame(e,s,t,c,l){const m=this.frames;e<<=2,m[e]=s,m[e+1]=t,m[e+2]=c,m[e+3]=l}apply(e,s,t,c,l,m,h){const n=e.pathConstraints[this.pathConstraintIndex];if(!n.active)return;const a=this.frames;if(t<a[0]){switch(m){case k.setup:n.mixRotate=n.data.mixRotate,n.mixX=n.data.mixX,n.mixY=n.data.mixY;return;case k.first:n.mixRotate+=(n.data.mixRotate-n.mixRotate)*l,n.mixX+=(n.data.mixX-n.mixX)*l,n.mixY+=(n.data.mixY-n.mixY)*l}return}let u,f,d;const p=rt.search(a,t,4),b=this.curves[p>>2];switch(b){case 0:const y=a[p];u=a[p+1],f=a[p+2],d=a[p+3];const w=(t-y)/(a[p+4]-y);u+=(a[p+4+1]-u)*w,f+=(a[p+4+2]-f)*w,d+=(a[p+4+3]-d)*w;break;case 1:u=a[p+1],f=a[p+2],d=a[p+3];break;default:u=this.getBezierValue(t,p,1,b-2),f=this.getBezierValue(t,p,2,b+18-2),d=this.getBezierValue(t,p,3,b+18*2-2)}if(m==k.setup){const y=n.data;n.mixRotate=y.mixRotate+(u-y.mixRotate)*l,n.mixX=y.mixX+(f-y.mixX)*l,n.mixY=y.mixY+(d-y.mixY)*l}else n.mixRotate+=(u-n.mixRotate)*l,n.mixX+=(f-n.mixX)*l,n.mixY+=(d-n.mixY)*l}}const wr=class extends rt{constructor(i,e,s){super(i,[`${Re.sequence}|${e}|${s.sequence.id}`]),this.slotIndex=e,this.attachment=s}getFrameEntries(){return wr.ENTRIES}getSlotIndex(){return this.slotIndex}getAttachment(){return this.attachment}setFrame(i,e,s,t,c){const l=this.frames;i*=wr.ENTRIES,l[i]=e,l[i+wr.MODE]=s|t<<4,l[i+wr.DELAY]=c}apply(i,e,s,t,c,l,m){const h=i.slots[this.slotIndex];if(!h.bone.active)return;const n=h.attachment,a=this.attachment;if(n!=a&&(!(n instanceof Rr)||n.timelineAttachment!=a))return;const u=this.frames;if(s<u[0]){(l==k.setup||l==k.first)&&(h.sequenceIndex=-1);return}const f=rt.search(u,s,wr.ENTRIES),d=u[f],p=u[f+wr.MODE],b=u[f+wr.DELAY];if(!this.attachment.sequence)return;let y=p>>4;const w=this.attachment.sequence.regions.length,E=Ed[p&15];if(E!=Jn.hold)switch(y+=(s-d)/b+1e-5|0,E){case Jn.once:y=Math.min(w-1,y);break;case Jn.loop:y%=w;break;case Jn.pingpong:{const S=(w<<1)-2;y=S==0?0:y%S,y>=w&&(y=S-y);break}case Jn.onceReverse:y=Math.max(w-1-y,0);break;case Jn.loopReverse:y=w-1-y%w;break;case Jn.pingpongReverse:{const S=(w<<1)-2;y=S==0?0:(y+w-1)%S,y>=w&&(y=S-y)}}h.sequenceIndex=y}};let ni=wr;ni.ENTRIES=3;ni.MODE=1;ni.DELAY=2;new Fl("<empty>",[],0);class Wd{constructor(e){this.atlas=e}loadSequence(e,s,t){const c=t.regions;for(let l=0,m=c.length;l<m;l++){const h=t.getPath(s,l),n=this.atlas.findRegion(h);if(n==null)throw new Error(`Region not found in atlas: ${h} (sequence: ${e})`);c[l]=n,c[l].renderObject=c[l]}}newRegionAttachment(e,s,t,c){const l=new Ce(s,t);if(c!=null)this.loadSequence(s,t,c);else{const m=this.atlas.findRegion(t);if(!m)throw new Error(`Region not found in atlas: ${t} (region attachment: ${s})`);m.renderObject=m,l.region=m}return l}newMeshAttachment(e,s,t,c){const l=new Js(s,t);if(c!=null)this.loadSequence(s,t,c);else{const m=this.atlas.findRegion(t);if(!m)throw new Error(`Region not found in atlas: ${t} (mesh attachment: ${s})`);m.renderObject=m,l.region=m}return l}newBoundingBoxAttachment(e,s){return new kl(s)}newPathAttachment(e,s){return new Ml(s)}newPointAttachment(e,s){return new Nl(s)}newClippingAttachment(e,s){return new Pl(s)}}class Gd{constructor(e,s,t){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=tt.Normal,this.skinRequired=!1,this.color=new J,e<0)throw new Error("index must be >= 0.");if(!s)throw new Error("name cannot be null.");this.index=e,this.name=s,this.parent=t}}class Yl{constructor(e,s,t){this.name=e,this.order=s,this.skinRequired=t}}class qd{constructor(e,s){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!s)throw new Error("data cannot be null.");this.time=e,this.data=s}}class Qd{constructor(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}}class Zd extends Yl{constructor(e){super(e,0,!1),this.bones=new Array,this._target=null,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.softness=0}set target(e){this._target=e}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}}class Jd extends Yl{constructor(e){super(e,0,!1),this.bones=new Array,this._target=null,this.positionMode=ot.Fixed,this.spacingMode=Sn.Fixed,this.rotateMode=sn.Chain,this.offsetRotation=0,this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0}set target(e){this._target=e}get target(){if(this._target)return this._target;throw new Error("SlotData not set.")}}var Sn=(i=>(i[i.Length=0]="Length",i[i.Fixed=1]="Fixed",i[i.Percent=2]="Percent",i[i.Proportional=3]="Proportional",i))(Sn||{});class Kd{constructor(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}findBone(e){if(!e)throw new Error("boneName cannot be null.");const s=this.bones;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findBoneIndex(e){if(!e)throw new Error("boneName cannot be null.");const s=this.bones;for(let t=0,c=s.length;t<c;t++)if(s[t].name==e)return t;return-1}findSlot(e){if(!e)throw new Error("slotName cannot be null.");const s=this.slots;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findSlotIndex(e){if(!e)throw new Error("slotName cannot be null.");const s=this.slots;for(let t=0,c=s.length;t<c;t++)if(s[t].name==e)return t;return-1}findSkin(e){if(!e)throw new Error("skinName cannot be null.");const s=this.skins;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findEvent(e){if(!e)throw new Error("eventDataName cannot be null.");const s=this.events;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findAnimation(e){if(!e)throw new Error("animationName cannot be null.");const s=this.animations;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findIkConstraint(e){if(!e)throw new Error("constraintName cannot be null.");const s=this.ikConstraints;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findTransformConstraint(e){if(!e)throw new Error("constraintName cannot be null.");const s=this.transformConstraints;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findPathConstraint(e){if(!e)throw new Error("constraintName cannot be null.");const s=this.pathConstraints;for(let t=0,c=s.length;t<c;t++){const l=s[t];if(l.name==e)return l}return null}findPathConstraintIndex(e){if(e==null)throw new Error("pathConstraintName cannot be null.");const s=this.pathConstraints;for(let t=0,c=s.length;t<c;t++)if(s[t].name==e)return t;return-1}}class ef{constructor(e,s,t){if(this.index=0,this.color=new J(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=Ke.NORMAL,e<0)throw new Error("index must be >= 0.");if(!s)throw new Error("name cannot be null.");if(!t)throw new Error("boneData cannot be null.");this.index=e,this.name=s,this.boneData=t}}class tf extends Yl{constructor(e){super(e,0,!1),this.bones=new Array,this._target=null,this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1}set target(e){this._target=e}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}}class qu{constructor(e,s,t){this.slotIndex=e,this.name=s,this.attachment=t}}class al{constructor(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}setAttachment(e,s,t){if(!t)throw new Error("attachment cannot be null.");const c=this.attachments;e>=c.length&&(c.length=e+1),c[e]||(c[e]={}),c[e][s]=t}addSkin(e){for(let t=0;t<e.bones.length;t++){const c=e.bones[t];let l=!1;for(let m=0;m<this.bones.length;m++)if(this.bones[m]==c){l=!0;break}l||this.bones.push(c)}for(let t=0;t<e.constraints.length;t++){const c=e.constraints[t];let l=!1;for(let m=0;m<this.constraints.length;m++)if(this.constraints[m]==c){l=!0;break}l||this.constraints.push(c)}const s=e.getAttachments();for(let t=0;t<s.length;t++){const c=s[t];this.setAttachment(c.slotIndex,c.name,c.attachment)}}copySkin(e){for(let t=0;t<e.bones.length;t++){const c=e.bones[t];let l=!1;for(let m=0;m<this.bones.length;m++)if(this.bones[m]==c){l=!0;break}l||this.bones.push(c)}for(let t=0;t<e.constraints.length;t++){const c=e.constraints[t];let l=!1;for(let m=0;m<this.constraints.length;m++)if(this.constraints[m]==c){l=!0;break}l||this.constraints.push(c)}const s=e.getAttachments();for(let t=0;t<s.length;t++){const c=s[t];c.attachment&&(c.attachment instanceof Js?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}}getAttachment(e,s){const t=this.attachments[e];return t?t[s]:null}removeAttachment(e,s){const t=this.attachments[e];t&&delete t[s]}getAttachments(){const e=new Array;for(let s=0;s<this.attachments.length;s++){const t=this.attachments[s];if(t)for(const c in t){const l=t[c];l&&e.push(new qu(s,c,l))}}return e}getAttachmentsForSlot(e,s){const t=this.attachments[e];if(t)for(const c in t){const l=t[c];l&&s.push(new qu(e,c,l))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(e,s){let t=0;for(let c=0;c<e.slots.length;c++){const l=e.slots[c],m=l.getAttachment();if(m&&t<s.attachments.length){const h=s.attachments[t];for(const n in h){const a=h[n];if(m==a){const u=this.getAttachment(t,n);u&&l.setAttachment(u);break}}}t++}}}class nf{constructor(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}readSkeletonData(e){const s=this.scale,t=new Kd;t.name="";const c=new ho(e),l=c.readInt32(),m=c.readInt32();t.hash=m==0&&l==0?null:m.toString(16)+l.toString(16),t.version=c.readString();const h=t.version.substr(0,3);if(h!=="4.0"&&h!=="4.1"){const f=`Spine 4.1 loader cant load version ${t.version}. Please configure your pixi-spine bundle`;console.error(f)}this.ver40=h==="4.0",t.x=c.readFloat(),t.y=c.readFloat(),t.width=c.readFloat(),t.height=c.readFloat();const n=c.readBoolean();n&&(t.fps=c.readFloat(),t.imagesPath=c.readString(),t.audioPath=c.readString());let a=0;a=c.readInt(!0);for(let f=0;f<a;f++){const d=c.readString();if(!d)throw new Error("String in string table must not be null.");c.strings.push(d)}a=c.readInt(!0);for(let f=0;f<a;f++){const d=c.readString();if(!d)throw new Error("Bone name must not be null.");const p=f==0?null:t.bones[c.readInt(!0)],b=new Gd(f,d,p);b.rotation=c.readFloat(),b.x=c.readFloat()*s,b.y=c.readFloat()*s,b.scaleX=c.readFloat(),b.scaleY=c.readFloat(),b.shearX=c.readFloat(),b.shearY=c.readFloat(),b.length=c.readFloat()*s,b.transformMode=c.readInt(!0),b.skinRequired=c.readBoolean(),n&&J.rgba8888ToColor(b.color,c.readInt32()),t.bones.push(b)}a=c.readInt(!0);for(let f=0;f<a;f++){const d=c.readString();if(!d)throw new Error("Slot name must not be null.");const p=t.bones[c.readInt(!0)],b=new ef(f,d,p);J.rgba8888ToColor(b.color,c.readInt32());const y=c.readInt32();y!=-1&&J.rgb888ToColor(b.darkColor=new J,y),b.attachmentName=c.readStringRef(),b.blendMode=c.readInt(!0),t.slots.push(b)}a=c.readInt(!0);for(let f=0,d;f<a;f++){const p=c.readString();if(!p)throw new Error("IK constraint data name must not be null.");const b=new Zd(p);b.order=c.readInt(!0),b.skinRequired=c.readBoolean(),d=c.readInt(!0);for(let y=0;y<d;y++)b.bones.push(t.bones[c.readInt(!0)]);b.target=t.bones[c.readInt(!0)],b.mix=c.readFloat(),b.softness=c.readFloat()*s,b.bendDirection=c.readByte(),b.compress=c.readBoolean(),b.stretch=c.readBoolean(),b.uniform=c.readBoolean(),t.ikConstraints.push(b)}a=c.readInt(!0);for(let f=0,d;f<a;f++){const p=c.readString();if(!p)throw new Error("Transform constraint data name must not be null.");const b=new tf(p);b.order=c.readInt(!0),b.skinRequired=c.readBoolean(),d=c.readInt(!0);for(let y=0;y<d;y++)b.bones.push(t.bones[c.readInt(!0)]);b.target=t.bones[c.readInt(!0)],b.local=c.readBoolean(),b.relative=c.readBoolean(),b.offsetRotation=c.readFloat(),b.offsetX=c.readFloat()*s,b.offsetY=c.readFloat()*s,b.offsetScaleX=c.readFloat(),b.offsetScaleY=c.readFloat(),b.offsetShearY=c.readFloat(),b.mixRotate=c.readFloat(),b.mixX=c.readFloat(),b.mixY=c.readFloat(),b.mixScaleX=c.readFloat(),b.mixScaleY=c.readFloat(),b.mixShearY=c.readFloat(),t.transformConstraints.push(b)}a=c.readInt(!0);for(let f=0,d;f<a;f++){const p=c.readString();if(!p)throw new Error("Path constraint data name must not be null.");const b=new Jd(p);b.order=c.readInt(!0),b.skinRequired=c.readBoolean(),d=c.readInt(!0);for(let y=0;y<d;y++)b.bones.push(t.bones[c.readInt(!0)]);b.target=t.slots[c.readInt(!0)],b.positionMode=c.readInt(!0),b.spacingMode=c.readInt(!0),b.rotateMode=c.readInt(!0),b.offsetRotation=c.readFloat(),b.position=c.readFloat(),b.positionMode==ot.Fixed&&(b.position*=s),b.spacing=c.readFloat(),(b.spacingMode==Sn.Length||b.spacingMode==Sn.Fixed)&&(b.spacing*=s),b.mixRotate=c.readFloat(),b.mixX=c.readFloat(),b.mixY=c.readFloat(),t.pathConstraints.push(b)}const u=this.readSkin(c,t,!0,n);u&&(t.defaultSkin=u,t.skins.push(u));{let f=t.skins.length;for(D.setArraySize(t.skins,a=f+c.readInt(!0));f<a;f++){const d=this.readSkin(c,t,!1,n);if(!d)throw new Error("readSkin() should not have returned null.");t.skins[f]=d}}a=this.linkedMeshes.length;for(let f=0;f<a;f++){const d=this.linkedMeshes[f],p=d.skin?t.findSkin(d.skin):t.defaultSkin;if(!p)throw new Error("Not skin found for linked mesh.");if(!d.parent)throw new Error("Linked mesh parent must not be null");const b=p.getAttachment(d.slotIndex,d.parent);if(!b)throw new Error(`Parent mesh not found: ${d.parent}`);d.mesh.timelineAttachment=d.inheritTimeline?b:d.mesh,d.mesh.setParentMesh(b)}this.linkedMeshes.length=0,a=c.readInt(!0);for(let f=0;f<a;f++){const d=c.readStringRef();if(!d)throw new Error;const p=new Qd(d);p.intValue=c.readInt(!1),p.floatValue=c.readFloat(),p.stringValue=c.readString(),p.audioPath=c.readString(),p.audioPath&&(p.volume=c.readFloat(),p.balance=c.readFloat()),t.events.push(p)}a=c.readInt(!0);for(let f=0;f<a;f++){const d=c.readString();if(!d)throw new Error("Animatio name must not be null.");t.animations.push(this.readAnimation(c,d,t))}return t}readSkin(e,s,t,c){let l=null,m=0;if(t){if(m=e.readInt(!0),m==0)return null;l=new al("default")}else{const h=e.readStringRef();if(!h)throw new Error("Skin name must not be null.");l=new al(h),l.bones.length=e.readInt(!0);for(let n=0,a=l.bones.length;n<a;n++)l.bones[n]=s.bones[e.readInt(!0)];for(let n=0,a=e.readInt(!0);n<a;n++)l.constraints.push(s.ikConstraints[e.readInt(!0)]);for(let n=0,a=e.readInt(!0);n<a;n++)l.constraints.push(s.transformConstraints[e.readInt(!0)]);for(let n=0,a=e.readInt(!0);n<a;n++)l.constraints.push(s.pathConstraints[e.readInt(!0)]);m=e.readInt(!0)}for(let h=0;h<m;h++){const n=e.readInt(!0);for(let a=0,u=e.readInt(!0);a<u;a++){const f=e.readStringRef();if(!f)throw new Error("Attachment name must not be null");const d=this.readAttachment(e,s,l,n,f,c);d&&l.setAttachment(n,f,d)}}return l}readAttachment(e,s,t,c,l,m){const h=this.scale;let n=e.readStringRef();switch(n||(n=l),e.readByte()){case me.Region:{let a=e.readStringRef();const u=e.readFloat(),f=e.readFloat(),d=e.readFloat(),p=e.readFloat(),b=e.readFloat(),y=e.readFloat(),w=e.readFloat(),E=e.readInt32(),S=this.readSequence(e);a||(a=n);const I=this.attachmentLoader.newRegionAttachment(t,n,a,S);return I?(I.path=a,I.x=f*h,I.y=d*h,I.scaleX=p,I.scaleY=b,I.rotation=u,I.width=y*h,I.height=w*h,J.rgba8888ToColor(I.color,E),I.sequence=S,S==null&&I.updateRegion(),I):null}case me.BoundingBox:{const a=e.readInt(!0),u=this.readVertices(e,a),f=m?e.readInt32():0,d=this.attachmentLoader.newBoundingBoxAttachment(t,n);return d?(d.worldVerticesLength=a<<1,d.vertices=u.vertices,d.bones=u.bones,m&&J.rgba8888ToColor(d.color,f),d):null}case me.Mesh:{let a=e.readStringRef();const u=e.readInt32(),f=e.readInt(!0),d=this.readFloatArray(e,f<<1,1),p=this.readShortArray(e),b=this.readVertices(e,f),y=e.readInt(!0),w=this.readSequence(e);let E=[],S=0,I=0;m&&(E=this.readShortArray(e),S=e.readFloat(),I=e.readFloat()),a||(a=n);const _=this.attachmentLoader.newMeshAttachment(t,n,a,w);return _?(_.path=a,J.rgba8888ToColor(_.color,u),_.bones=b.bones,_.vertices=b.vertices,_.worldVerticesLength=f<<1,_.triangles=p,_.regionUVs=new Float32Array(d),_.hullLength=y<<1,_.sequence=w,m&&(_.edges=E,_.width=S*h,_.height=I*h),_):null}case me.LinkedMesh:{let a=e.readStringRef();const u=e.readInt32(),f=e.readStringRef(),d=e.readStringRef(),p=e.readBoolean(),b=this.readSequence(e);let y=0,w=0;m&&(y=e.readFloat(),w=e.readFloat()),a||(a=n);const E=this.attachmentLoader.newMeshAttachment(t,n,a,b);return E?(E.path=a,J.rgba8888ToColor(E.color,u),E.sequence=b,m&&(E.width=y*h,E.height=w*h),this.linkedMeshes.push(new Qg(E,f,c,d,p)),E):null}case me.Path:{const a=e.readBoolean(),u=e.readBoolean(),f=e.readInt(!0),d=this.readVertices(e,f),p=D.newArray(f/3,0);for(let w=0,E=p.length;w<E;w++)p[w]=e.readFloat()*h;const b=m?e.readInt32():0,y=this.attachmentLoader.newPathAttachment(t,n);return y?(y.closed=a,y.constantSpeed=u,y.worldVerticesLength=f<<1,y.vertices=d.vertices,y.bones=d.bones,y.lengths=p,m&&J.rgba8888ToColor(y.color,b),y):null}case me.Point:{const a=e.readFloat(),u=e.readFloat(),f=e.readFloat(),d=m?e.readInt32():0,p=this.attachmentLoader.newPointAttachment(t,n);return p?(p.x=u*h,p.y=f*h,p.rotation=a,m&&J.rgba8888ToColor(p.color,d),p):null}case me.Clipping:{const a=e.readInt(!0),u=e.readInt(!0),f=this.readVertices(e,u),d=m?e.readInt32():0,p=this.attachmentLoader.newClippingAttachment(t,n);return p?(p.endSlot=s.slots[a],p.worldVerticesLength=u<<1,p.vertices=f.vertices,p.bones=f.bones,m&&J.rgba8888ToColor(p.color,d),p):null}}return null}readSequence(e){if(this.ver40||!e.readBoolean())return null;const s=new Vl(e.readInt(!0));return s.start=e.readInt(!0),s.digits=e.readInt(!0),s.setupIndex=e.readInt(!0),s}readDeformTimelineType(e){return this.ver40?Qu:e.readByte()}readVertices(e,s){const t=this.scale,c=s<<1,l=new Zg;if(!e.readBoolean())return l.vertices=this.readFloatArray(e,c,t),l;const m=new Array,h=new Array;for(let n=0;n<s;n++){const a=e.readInt(!0);h.push(a);for(let u=0;u<a;u++)h.push(e.readInt(!0)),m.push(e.readFloat()*t),m.push(e.readFloat()*t),m.push(e.readFloat())}return l.vertices=D.toFloatArray(m),l.bones=h,l}readFloatArray(e,s,t){const c=new Array(s);if(t==1)for(let l=0;l<s;l++)c[l]=e.readFloat();else for(let l=0;l<s;l++)c[l]=e.readFloat()*t;return c}readShortArray(e){const s=e.readInt(!0),t=new Array(s);for(let c=0;c<s;c++)t[c]=e.readShort();return t}readAnimation(e,s,t){e.readInt(!0);const c=new Array,l=this.scale;for(let a=0,u=e.readInt(!0);a<u;a++){const f=e.readInt(!0);for(let d=0,p=e.readInt(!0);d<p;d++){const b=e.readByte(),y=e.readInt(!0),w=y-1;switch(b){case l1:{const E=new Bd(y,f);for(let S=0;S<y;S++)E.setFrame(S,e.readFloat(),e.readStringRef());c.push(E);break}case c1:{const E=e.readInt(!0),S=new Nd(y,E,f);let I=e.readFloat(),_=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255;for(let L=0,j=0;S.setFrame(L,I,_,R,T,P),L!=w;L++){const q=e.readFloat(),X=e.readUnsignedByte()/255,Q=e.readUnsignedByte()/255,ee=e.readUnsignedByte()/255,ie=e.readUnsignedByte()/255;switch(e.readByte()){case wn:S.setStepped(L);break;case En:be(e,S,j++,L,0,I,q,_,X,1),be(e,S,j++,L,1,I,q,R,Q,1),be(e,S,j++,L,2,I,q,T,ee,1),be(e,S,j++,L,3,I,q,P,ie,1)}I=q,_=X,R=Q,T=ee,P=ie}c.push(S);break}case u1:{const E=e.readInt(!0),S=new Vd(y,E,f);let I=e.readFloat(),_=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255;for(let P=0,L=0;S.setFrame(P,I,_,R,T),P!=w;P++){const j=e.readFloat(),q=e.readUnsignedByte()/255,X=e.readUnsignedByte()/255,Q=e.readUnsignedByte()/255;switch(e.readByte()){case wn:S.setStepped(P);break;case En:be(e,S,L++,P,0,I,j,_,q,1),be(e,S,L++,P,1,I,j,R,X,1),be(e,S,L++,P,2,I,j,T,Q,1)}I=j,_=q,R=X,T=Q}c.push(S);break}case h1:{const E=e.readInt(!0),S=new Od(y,E,f);let I=e.readFloat(),_=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,j=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255;for(let X=0,Q=0;S.setFrame(X,I,_,R,T,P,L,j,q),X!=w;X++){const ee=e.readFloat(),ie=e.readUnsignedByte()/255,fe=e.readUnsignedByte()/255,Se=e.readUnsignedByte()/255,ge=e.readUnsignedByte()/255,W=e.readUnsignedByte()/255,te=e.readUnsignedByte()/255,le=e.readUnsignedByte()/255;switch(e.readByte()){case wn:S.setStepped(X);break;case En:be(e,S,Q++,X,0,I,ee,_,ie,1),be(e,S,Q++,X,1,I,ee,R,fe,1),be(e,S,Q++,X,2,I,ee,T,Se,1),be(e,S,Q++,X,3,I,ee,P,ge,1),be(e,S,Q++,X,4,I,ee,L,W,1),be(e,S,Q++,X,5,I,ee,j,te,1),be(e,S,Q++,X,6,I,ee,q,le,1)}I=ee,_=ie,R=fe,T=Se,P=ge,L=W,j=te,q=le}c.push(S);break}case d1:{const E=e.readInt(!0),S=new Ld(y,E,f);let I=e.readFloat(),_=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,j=e.readUnsignedByte()/255;for(let q=0,X=0;S.setFrame(q,I,_,R,T,P,L,j),q!=w;q++){const Q=e.readFloat(),ee=e.readUnsignedByte()/255,ie=e.readUnsignedByte()/255,fe=e.readUnsignedByte()/255,Se=e.readUnsignedByte()/255,ge=e.readUnsignedByte()/255,W=e.readUnsignedByte()/255;switch(e.readByte()){case wn:S.setStepped(q);break;case En:be(e,S,X++,q,0,I,Q,_,ee,1),be(e,S,X++,q,1,I,Q,R,ie,1),be(e,S,X++,q,2,I,Q,T,fe,1),be(e,S,X++,q,3,I,Q,P,Se,1),be(e,S,X++,q,4,I,Q,L,ge,1),be(e,S,X++,q,5,I,Q,j,W,1)}I=Q,_=ee,R=ie,T=fe,P=Se,L=ge,j=W}c.push(S);break}case f1:{const E=new Fd(y,e.readInt(!0),f);let S=e.readFloat(),I=e.readUnsignedByte()/255;for(let _=0,R=0;E.setFrame(_,S,I),_!=w;_++){const T=e.readFloat(),P=e.readUnsignedByte()/255;switch(e.readByte()){case wn:E.setStepped(_);break;case En:be(e,E,R++,_,0,S,T,I,P,1)}S=T,I=P}c.push(E)}}}}for(let a=0,u=e.readInt(!0);a<u;a++){const f=e.readInt(!0);for(let d=0,p=e.readInt(!0);d<p;d++){const b=e.readByte(),y=e.readInt(!0),w=e.readInt(!0);switch(b){case Jg:c.push(Qn(e,new Sd(y,w,f),1));break;case Kg:c.push(Xa(e,new Cd(y,w,f),l));break;case e1:c.push(Qn(e,new _d(y,w,f),l));break;case t1:c.push(Qn(e,new Id(y,w,f),l));break;case n1:c.push(Xa(e,new Rd(y,w,f),1));break;case r1:c.push(Qn(e,new Td(y,w,f),1));break;case s1:c.push(Qn(e,new Ad(y,w,f),1));break;case i1:c.push(Xa(e,new kd(y,w,f),1));break;case o1:c.push(Qn(e,new Pd(y,w,f),1));break;case a1:c.push(Qn(e,new Md(y,w,f),1))}}}for(let a=0,u=e.readInt(!0);a<u;a++){const f=e.readInt(!0),d=e.readInt(!0),p=d-1,b=new jd(d,e.readInt(!0),f);let y=e.readFloat(),w=e.readFloat(),E=e.readFloat()*l;for(let S=0,I=0;b.setFrame(S,y,w,E,e.readByte(),e.readBoolean(),e.readBoolean()),S!=p;S++){const _=e.readFloat(),R=e.readFloat(),T=e.readFloat()*l;switch(e.readByte()){case wn:b.setStepped(S);break;case En:be(e,b,I++,S,0,y,_,w,R,1),be(e,b,I++,S,1,y,_,E,T,l)}y=_,w=R,E=T}c.push(b)}for(let a=0,u=e.readInt(!0);a<u;a++){const f=e.readInt(!0),d=e.readInt(!0),p=d-1,b=new $d(d,e.readInt(!0),f);let y=e.readFloat(),w=e.readFloat(),E=e.readFloat(),S=e.readFloat(),I=e.readFloat(),_=e.readFloat(),R=e.readFloat();for(let T=0,P=0;b.setFrame(T,y,w,E,S,I,_,R),T!=p;T++){const L=e.readFloat(),j=e.readFloat(),q=e.readFloat(),X=e.readFloat(),Q=e.readFloat(),ee=e.readFloat(),ie=e.readFloat();switch(e.readByte()){case wn:b.setStepped(T);break;case En:be(e,b,P++,T,0,y,L,w,j,1),be(e,b,P++,T,1,y,L,E,q,1),be(e,b,P++,T,2,y,L,S,X,1),be(e,b,P++,T,3,y,L,I,Q,1),be(e,b,P++,T,4,y,L,_,ee,1),be(e,b,P++,T,5,y,L,R,ie,1)}y=L,w=j,E=q,S=X,I=Q,_=ee,R=ie}c.push(b)}for(let a=0,u=e.readInt(!0);a<u;a++){const f=e.readInt(!0),d=t.pathConstraints[f];for(let p=0,b=e.readInt(!0);p<b;p++)switch(e.readByte()){case g1:c.push(Qn(e,new zd(e.readInt(!0),e.readInt(!0),f),d.positionMode==ot.Fixed?l:1));break;case p1:c.push(Qn(e,new Ud(e.readInt(!0),e.readInt(!0),f),d.spacingMode==Sn.Length||d.spacingMode==Sn.Fixed?l:1));break;case b1:const y=new Hd(e.readInt(!0),e.readInt(!0),f);let w=e.readFloat(),E=e.readFloat(),S=e.readFloat(),I=e.readFloat();for(let _=0,R=0,T=y.getFrameCount()-1;y.setFrame(_,w,E,S,I),_!=T;_++){const P=e.readFloat(),L=e.readFloat(),j=e.readFloat(),q=e.readFloat();switch(e.readByte()){case wn:y.setStepped(_);break;case En:be(e,y,R++,_,0,w,P,E,L,1),be(e,y,R++,_,1,w,P,S,j,1),be(e,y,R++,_,2,w,P,I,q,1)}w=P,E=L,S=j,I=q}c.push(y)}}for(let a=0,u=e.readInt(!0);a<u;a++){const f=t.skins[e.readInt(!0)];for(let d=0,p=e.readInt(!0);d<p;d++){const b=e.readInt(!0);for(let y=0,w=e.readInt(!0);y<w;y++){const E=e.readStringRef();if(!E)throw new Error("attachmentName must not be null.");const S=f.getAttachment(b,E),I=this.readDeformTimelineType(e),_=e.readInt(!0),R=_-1;switch(I){case Qu:{const T=S,P=T.bones,L=T.vertices,j=P?L.length/3*2:L.length,q=e.readInt(!0),X=new Yd(_,q,b,T);let Q=e.readFloat();for(let ee=0,ie=0;;ee++){let fe,Se=e.readInt(!0);if(Se==0)fe=P?D.newFloatArray(j):L;else{fe=D.newFloatArray(j);const W=e.readInt(!0);if(Se+=W,l==1)for(let te=W;te<Se;te++)fe[te]=e.readFloat();else for(let te=W;te<Se;te++)fe[te]=e.readFloat()*l;if(!P)for(let te=0,le=fe.length;te<le;te++)fe[te]+=L[te]}if(X.setFrame(ee,Q,fe),ee==R)break;const ge=e.readFloat();switch(e.readByte()){case wn:X.setStepped(ee);break;case En:be(e,X,ie++,ee,0,Q,ge,0,1,1)}Q=ge}c.push(X);break}case m1:{const T=new ni(_,b,S);for(let P=0;P<_;P++){const L=e.readFloat(),j=e.readInt32();T.setFrame(P,L,Ed[j&15],j>>4,e.readFloat())}c.push(T);break}}}}}const m=e.readInt(!0);if(m>0){const a=new Bl(m),u=t.slots.length;for(let f=0;f<m;f++){const d=e.readFloat(),p=e.readInt(!0),b=D.newArray(u,0);for(let S=u-1;S>=0;S--)b[S]=-1;const y=D.newArray(u-p,0);let w=0,E=0;for(let S=0;S<p;S++){const I=e.readInt(!0);for(;w!=I;)y[E++]=w++;b[w+e.readInt(!0)]=w++}for(;w<u;)y[E++]=w++;for(let S=u-1;S>=0;S--)b[S]==-1&&(b[S]=y[--E]);a.setFrame(f,d,b)}c.push(a)}const h=e.readInt(!0);if(h>0){const a=new Ll(h);for(let u=0;u<h;u++){const f=e.readFloat(),d=t.events[e.readInt(!0)],p=new qd(f,d);p.intValue=e.readInt(!1),p.floatValue=e.readFloat(),p.stringValue=e.readBoolean()?e.readString():d.stringValue,p.data.audioPath&&(p.volume=e.readFloat(),p.balance=e.readFloat()),a.setFrame(u,p)}c.push(a)}let n=0;for(let a=0,u=c.length;a<u;a++)n=Math.max(n,c[a].getDuration());return new Fl(s,c,n)}}nf.BlendModeValues=[Ke.NORMAL,Ke.ADD,Ke.MULTIPLY,Ke.SCREEN];let Qg=class{constructor(e,s,t,c,l){this.mesh=e,this.skin=s,this.slotIndex=t,this.parent=c,this.inheritTimeline=l}};class Zg{constructor(e=null,s=null){this.bones=e,this.vertices=s}}function Qn(i,e,s){let t=i.readFloat(),c=i.readFloat()*s;for(let l=0,m=0,h=e.getFrameCount()-1;e.setFrame(l,t,c),l!=h;l++){const n=i.readFloat(),a=i.readFloat()*s;switch(i.readByte()){case wn:e.setStepped(l);break;case En:be(i,e,m++,l,0,t,n,c,a,s)}t=n,c=a}return e}function Xa(i,e,s){let t=i.readFloat(),c=i.readFloat()*s,l=i.readFloat()*s;for(let m=0,h=0,n=e.getFrameCount()-1;e.setFrame(m,t,c,l),m!=n;m++){const a=i.readFloat(),u=i.readFloat()*s,f=i.readFloat()*s;switch(i.readByte()){case wn:e.setStepped(m);break;case En:be(i,e,h++,m,0,t,a,c,u,s),be(i,e,h++,m,1,t,a,l,f,s)}t=a,c=u,l=f}return e}function be(i,e,s,t,c,l,m,h,n,a){e.setBezier(s,t,c,l,h,i.readFloat(),i.readFloat()*a,i.readFloat(),i.readFloat()*a,m,n)}const Jg=0,Kg=1,e1=2,t1=3,n1=4,r1=5,s1=6,i1=7,o1=8,a1=9,l1=0,c1=1,u1=2,h1=3,d1=4,f1=5,Qu=0,m1=1,g1=0,p1=1,b1=2,wn=1,En=2;class Xl{constructor(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}readSkeletonData(e){const s=this.scale,t=new Kd,c=typeof e=="string"?JSON.parse(e):e,l=c.skeleton;if(l){t.hash=l.hash,t.version=l.spine;const m=t.version.substr(0,3);if(m!=="4.0"&&m!=="4.1"){const h=`Spine 4.1 loader cant load version ${l.spine}. Please configure your pixi-spine bundle`;console.error(h)}t.x=l.x,t.y=l.y,t.width=l.width,t.height=l.height,t.fps=l.fps,t.imagesPath=l.images}if(c.bones)for(let m=0;m<c.bones.length;m++){const h=c.bones[m];let n=null;const a=F(h,"parent",null);if(a!=null&&(n=t.findBone(a),n==null))throw new Error(`Parent bone not found: ${a}`);const u=new Gd(t.bones.length,h.name,n);u.length=F(h,"length",0)*s,u.x=F(h,"x",0)*s,u.y=F(h,"y",0)*s,u.rotation=F(h,"rotation",0),u.scaleX=F(h,"scaleX",1),u.scaleY=F(h,"scaleY",1),u.shearX=F(h,"shearX",0),u.shearY=F(h,"shearY",0),u.transformMode=D.enumValue(tt,F(h,"transform","Normal")),u.skinRequired=F(h,"skin",!1);const f=F(h,"color",null);f&&u.color.setFromString(f),t.bones.push(u)}if(c.slots)for(let m=0;m<c.slots.length;m++){const h=c.slots[m],n=t.findBone(h.bone);if(!n)throw new Error(`Couldn't find bone ${h.bone} for slot ${h.name}`);const a=new ef(t.slots.length,h.name,n),u=F(h,"color",null);u&&a.color.setFromString(u);const f=F(h,"dark",null);f&&(a.darkColor=J.fromString(f)),a.attachmentName=F(h,"attachment",null),a.blendMode=Xl.blendModeFromString(F(h,"blend","normal")),t.slots.push(a)}if(c.ik)for(let m=0;m<c.ik.length;m++){const h=c.ik[m],n=new Zd(h.name);n.order=F(h,"order",0),n.skinRequired=F(h,"skin",!1);for(let a=0;a<h.bones.length;a++){const u=h.bones[a],f=t.findBone(u);if(f==null)throw new Error(`IK bone not found: ${u}`);n.bones.push(f)}n.target=t.findBone(h.target),n.mix=F(h,"mix",1),n.softness=F(h,"softness",0)*s,n.bendDirection=F(h,"bendPositive",!0)?1:-1,n.compress=F(h,"compress",!1),n.stretch=F(h,"stretch",!1),n.uniform=F(h,"uniform",!1),t.ikConstraints.push(n)}if(c.transform)for(let m=0;m<c.transform.length;m++){const h=c.transform[m],n=new tf(h.name);n.order=F(h,"order",0),n.skinRequired=F(h,"skin",!1);for(let f=0;f<h.bones.length;f++){const d=h.bones[f],p=t.findBone(d);if(!p)throw new Error(`Couldn't find bone ${d} for transform constraint ${h.name}.`);n.bones.push(p)}const a=h.target,u=t.findBone(a);if(!u)throw new Error(`Couldn't find target bone ${a} for transform constraint ${h.name}.`);n.target=u,n.local=F(h,"local",!1),n.relative=F(h,"relative",!1),n.offsetRotation=F(h,"rotation",0),n.offsetX=F(h,"x",0)*s,n.offsetY=F(h,"y",0)*s,n.offsetScaleX=F(h,"scaleX",0),n.offsetScaleY=F(h,"scaleY",0),n.offsetShearY=F(h,"shearY",0),n.mixRotate=F(h,"mixRotate",1),n.mixX=F(h,"mixX",1),n.mixY=F(h,"mixY",n.mixX),n.mixScaleX=F(h,"mixScaleX",1),n.mixScaleY=F(h,"mixScaleY",n.mixScaleX),n.mixShearY=F(h,"mixShearY",1),t.transformConstraints.push(n)}if(c.path)for(let m=0;m<c.path.length;m++){const h=c.path[m],n=new Jd(h.name);n.order=F(h,"order",0),n.skinRequired=F(h,"skin",!1);for(let f=0;f<h.bones.length;f++){const d=h.bones[f],p=t.findBone(d);if(!p)throw new Error(`Couldn't find bone ${d} for path constraint ${h.name}.`);n.bones.push(p)}const a=h.target,u=t.findSlot(a);if(!u)throw new Error(`Couldn't find target slot ${a} for path constraint ${h.name}.`);n.target=u,n.positionMode=D.enumValue(ot,F(h,"positionMode","Percent")),n.spacingMode=D.enumValue(Sn,F(h,"spacingMode","Length")),n.rotateMode=D.enumValue(sn,F(h,"rotateMode","Tangent")),n.offsetRotation=F(h,"rotation",0),n.position=F(h,"position",0),n.positionMode==ot.Fixed&&(n.position*=s),n.spacing=F(h,"spacing",0),(n.spacingMode==Sn.Length||n.spacingMode==Sn.Fixed)&&(n.spacing*=s),n.mixRotate=F(h,"mixRotate",1),n.mixX=F(h,"mixX",1),n.mixY=F(h,"mixY",n.mixX),t.pathConstraints.push(n)}if(c.skins)for(let m=0;m<c.skins.length;m++){const h=c.skins[m],n=new al(h.name);if(h.bones)for(let a=0;a<h.bones.length;a++){const u=h.bones[a],f=t.findBone(u);if(!f)throw new Error(`Couldn't find bone ${u} for skin ${h.name}.`);n.bones.push(f)}if(h.ik)for(let a=0;a<h.ik.length;a++){const u=h.ik[a],f=t.findIkConstraint(u);if(!f)throw new Error(`Couldn't find IK constraint ${u} for skin ${h.name}.`);n.constraints.push(f)}if(h.transform)for(let a=0;a<h.transform.length;a++){const u=h.transform[a],f=t.findTransformConstraint(u);if(!f)throw new Error(`Couldn't find transform constraint ${u} for skin ${h.name}.`);n.constraints.push(f)}if(h.path)for(let a=0;a<h.path.length;a++){const u=h.path[a],f=t.findPathConstraint(u);if(!f)throw new Error(`Couldn't find path constraint ${u} for skin ${h.name}.`);n.constraints.push(f)}for(const a in h.attachments){const u=t.findSlot(a);if(!u)throw new Error(`Couldn't find slot ${a} for skin ${h.name}.`);const f=h.attachments[a];for(const d in f){const p=this.readAttachment(f[d],n,u.index,d,t);p&&n.setAttachment(u.index,d,p)}}t.skins.push(n),n.name=="default"&&(t.defaultSkin=n)}for(let m=0,h=this.linkedMeshes.length;m<h;m++){const n=this.linkedMeshes[m],a=n.skin?t.findSkin(n.skin):t.defaultSkin;if(!a)throw new Error(`Skin not found: ${n.skin}`);const u=a.getAttachment(n.slotIndex,n.parent);if(!u)throw new Error(`Parent mesh not found: ${n.parent}`);n.mesh.timelineAttachment=n.inheritTimeline?u:n.mesh,n.mesh.setParentMesh(u)}if(this.linkedMeshes.length=0,c.events)for(const m in c.events){const h=c.events[m],n=new Qd(m);n.intValue=F(h,"int",0),n.floatValue=F(h,"float",0),n.stringValue=F(h,"string",""),n.audioPath=F(h,"audio",null),n.audioPath&&(n.volume=F(h,"volume",1),n.balance=F(h,"balance",0)),t.events.push(n)}if(c.animations)for(const m in c.animations){const h=c.animations[m];this.readAnimation(h,m,t)}return t}readAttachment(e,s,t,c,l){const m=this.scale;switch(c=F(e,"name",c),F(e,"type","region")){case"region":{const h=F(e,"path",c),n=this.readSequence(F(e,"sequence",null)),a=this.attachmentLoader.newRegionAttachment(s,c,h,n);if(!a)return null;a.path=h,a.x=F(e,"x",0)*m,a.y=F(e,"y",0)*m,a.scaleX=F(e,"scaleX",1),a.scaleY=F(e,"scaleY",1),a.rotation=F(e,"rotation",0),a.width=e.width*m,a.height=e.height*m,a.sequence=n;const u=F(e,"color",null);return u&&a.color.setFromString(u),a}case"boundingbox":{const h=this.attachmentLoader.newBoundingBoxAttachment(s,c);if(!h)return null;this.readVertices(e,h,e.vertexCount<<1);const n=F(e,"color",null);return n&&h.color.setFromString(n),h}case"mesh":case"linkedmesh":{const h=F(e,"path",c),n=this.readSequence(F(e,"sequence",null)),a=this.attachmentLoader.newMeshAttachment(s,c,h,n);if(!a)return null;a.path=h;const u=F(e,"color",null);u&&a.color.setFromString(u),a.width=F(e,"width",0)*m,a.height=F(e,"height",0)*m,a.sequence=n;const f=F(e,"parent",null);if(f)return this.linkedMeshes.push(new v1(a,F(e,"skin",null),t,f,F(e,"timelines",!0))),a;const d=e.uvs;return this.readVertices(e,a,d.length),a.triangles=e.triangles,a.regionUVs=new Float32Array(d),a.edges=F(e,"edges",null),a.hullLength=F(e,"hull",0)*2,a}case"path":{const h=this.attachmentLoader.newPathAttachment(s,c);if(!h)return null;h.closed=F(e,"closed",!1),h.constantSpeed=F(e,"constantSpeed",!0);const n=e.vertexCount;this.readVertices(e,h,n<<1);const a=D.newArray(n/3,0);for(let f=0;f<e.lengths.length;f++)a[f]=e.lengths[f]*m;h.lengths=a;const u=F(e,"color",null);return u&&h.color.setFromString(u),h}case"point":{const h=this.attachmentLoader.newPointAttachment(s,c);if(!h)return null;h.x=F(e,"x",0)*m,h.y=F(e,"y",0)*m,h.rotation=F(e,"rotation",0);const n=F(e,"color",null);return n&&h.color.setFromString(n),h}case"clipping":{const h=this.attachmentLoader.newClippingAttachment(s,c);if(!h)return null;const n=F(e,"end",null);if(n!=null){const f=l.findSlot(n);if(f==null)throw new Error(`Clipping end slot not found: ${n}`);h.endSlot=f}const a=e.vertexCount;this.readVertices(e,h,a<<1);const u=F(e,"color",null);return u&&h.color.setFromString(u),h}}return null}readSequence(e){if(e==null)return null;const s=new Vl(F(e,"count",0));return s.start=F(e,"start",1),s.digits=F(e,"digits",0),s.setupIndex=F(e,"setup",0),s}readVertices(e,s,t){const c=this.scale;s.worldVerticesLength=t;const l=e.vertices;if(t==l.length){const n=D.toFloatArray(l);if(c!=1)for(let a=0,u=l.length;a<u;a++)n[a]*=c;s.vertices=n;return}const m=new Array,h=new Array;for(let n=0,a=l.length;n<a;){const u=l[n++];h.push(u);for(let f=n+u*4;n<f;n+=4)h.push(l[n]),m.push(l[n+1]*c),m.push(l[n+2]*c),m.push(l[n+3])}s.bones=h,s.vertices=D.toFloatArray(m)}readAnimation(e,s,t){const c=this.scale,l=new Array;if(e.slots)for(const h in e.slots){const n=e.slots[h],a=t.findSlot(h);if(!a)throw new Error(`Slot not found: ${h}`);const u=a.index;for(const f in n){const d=n[f];if(!d)continue;const p=d.length;if(f=="attachment"){const b=new Bd(p,u);for(let y=0;y<p;y++){const w=d[y];b.setFrame(y,F(w,"time",0),F(w,"name",null))}l.push(b)}else if(f=="rgba"){const b=new Nd(p,p<<2,u);let y=d[0],w=F(y,"time",0),E=J.fromString(y.color);for(let S=0,I=0;;S++){b.setFrame(S,w,E.r,E.g,E.b,E.a);const _=d[S+1];if(!_){b.shrink(I);break}const R=F(_,"time",0),T=J.fromString(_.color),P=y.curve;P&&(I=we(P,b,I,S,0,w,R,E.r,T.r,1),I=we(P,b,I,S,1,w,R,E.g,T.g,1),I=we(P,b,I,S,2,w,R,E.b,T.b,1),I=we(P,b,I,S,3,w,R,E.a,T.a,1)),w=R,E=T,y=_}l.push(b)}else if(f=="rgb"){const b=new Vd(p,p*3,u);let y=d[0],w=F(y,"time",0),E=J.fromString(y.color);for(let S=0,I=0;;S++){b.setFrame(S,w,E.r,E.g,E.b);const _=d[S+1];if(!_){b.shrink(I);break}const R=F(_,"time",0),T=J.fromString(_.color),P=y.curve;P&&(I=we(P,b,I,S,0,w,R,E.r,T.r,1),I=we(P,b,I,S,1,w,R,E.g,T.g,1),I=we(P,b,I,S,2,w,R,E.b,T.b,1)),w=R,E=T,y=_}l.push(b)}else if(f=="alpha")l.push(Bn(d,new Fd(p,p,u),0,1));else if(f=="rgba2"){const b=new Od(p,p*7,u);let y=d[0],w=F(y,"time",0),E=J.fromString(y.light),S=J.fromString(y.dark);for(let I=0,_=0;;I++){b.setFrame(I,w,E.r,E.g,E.b,E.a,S.r,S.g,S.b);const R=d[I+1];if(!R){b.shrink(_);break}const T=F(R,"time",0),P=J.fromString(R.light),L=J.fromString(R.dark),j=y.curve;j&&(_=we(j,b,_,I,0,w,T,E.r,P.r,1),_=we(j,b,_,I,1,w,T,E.g,P.g,1),_=we(j,b,_,I,2,w,T,E.b,P.b,1),_=we(j,b,_,I,3,w,T,E.a,P.a,1),_=we(j,b,_,I,4,w,T,S.r,L.r,1),_=we(j,b,_,I,5,w,T,S.g,L.g,1),_=we(j,b,_,I,6,w,T,S.b,L.b,1)),w=T,E=P,S=L,y=R}l.push(b)}else if(f=="rgb2"){const b=new Ld(p,p*6,u);let y=d[0],w=F(y,"time",0),E=J.fromString(y.light),S=J.fromString(y.dark);for(let I=0,_=0;;I++){b.setFrame(I,w,E.r,E.g,E.b,S.r,S.g,S.b);const R=d[I+1];if(!R){b.shrink(_);break}const T=F(R,"time",0),P=J.fromString(R.light),L=J.fromString(R.dark),j=y.curve;j&&(_=we(j,b,_,I,0,w,T,E.r,P.r,1),_=we(j,b,_,I,1,w,T,E.g,P.g,1),_=we(j,b,_,I,2,w,T,E.b,P.b,1),_=we(j,b,_,I,3,w,T,S.r,L.r,1),_=we(j,b,_,I,4,w,T,S.g,L.g,1),_=we(j,b,_,I,5,w,T,S.b,L.b,1)),w=T,E=P,S=L,y=R}l.push(b)}}}if(e.bones)for(const h in e.bones){const n=e.bones[h],a=t.findBone(h);if(!a)throw new Error(`Bone not found: ${h}`);const u=a.index;for(const f in n){const d=n[f],p=d.length;if(p!=0){if(f==="rotate")l.push(Bn(d,new Sd(p,p,u),0,1));else if(f==="translate"){const b=new Cd(p,p<<1,u);l.push(Da(d,b,"x","y",0,c))}else if(f==="translatex"){const b=new _d(p,p,u);l.push(Bn(d,b,0,c))}else if(f==="translatey"){const b=new Id(p,p,u);l.push(Bn(d,b,0,c))}else if(f==="scale"){const b=new Rd(p,p<<1,u);l.push(Da(d,b,"x","y",1,1))}else if(f==="scalex"){const b=new Td(p,p,u);l.push(Bn(d,b,1,1))}else if(f==="scaley"){const b=new Ad(p,p,u);l.push(Bn(d,b,1,1))}else if(f==="shear"){const b=new kd(p,p<<1,u);l.push(Da(d,b,"x","y",0,1))}else if(f==="shearx"){const b=new Pd(p,p,u);l.push(Bn(d,b,0,1))}else if(f==="sheary"){const b=new Md(p,p,u);l.push(Bn(d,b,0,1))}}}}if(e.ik)for(const h in e.ik){const n=e.ik[h];let a=n[0];if(!a)continue;const u=t.findIkConstraint(h);if(!u)throw new Error(`IK Constraint not found: ${h}`);const f=t.ikConstraints.indexOf(u),d=new jd(n.length,n.length<<1,f);let p=F(a,"time",0),b=F(a,"mix",1),y=F(a,"softness",0)*c;for(let w=0,E=0;;w++){d.setFrame(w,p,b,y,F(a,"bendPositive",!0)?1:-1,F(a,"compress",!1),F(a,"stretch",!1));const S=n[w+1];if(!S){d.shrink(E);break}const I=F(S,"time",0),_=F(S,"mix",1),R=F(S,"softness",0)*c,T=a.curve;T&&(E=we(T,d,E,w,0,p,I,b,_,1),E=we(T,d,E,w,1,p,I,y,R,c)),p=I,b=_,y=R,a=S}l.push(d)}if(e.transform)for(const h in e.transform){const n=e.transform[h];let a=n[0];if(!a)continue;const u=t.findTransformConstraint(h);if(!u)throw new Error(`Transform constraint not found: ${h}`);const f=t.transformConstraints.indexOf(u),d=new $d(n.length,n.length*6,f);let p=F(a,"time",0),b=F(a,"mixRotate",1),y=F(a,"mixX",1),w=F(a,"mixY",y),E=F(a,"mixScaleX",1),S=F(a,"mixScaleY",E);const I=F(a,"mixShearY",1);for(let _=0,R=0;;_++){d.setFrame(_,p,b,y,w,E,S,I);const T=n[_+1];if(!T){d.shrink(R);break}const P=F(T,"time",0),L=F(T,"mixRotate",1),j=F(T,"mixX",1),q=F(T,"mixY",j),X=F(T,"mixScaleX",1),Q=F(T,"mixScaleY",X),ee=F(T,"mixShearY",1),ie=a.curve;ie&&(R=we(ie,d,R,_,0,p,P,b,L,1),R=we(ie,d,R,_,1,p,P,y,j,1),R=we(ie,d,R,_,2,p,P,w,q,1),R=we(ie,d,R,_,3,p,P,E,X,1),R=we(ie,d,R,_,4,p,P,S,Q,1),R=we(ie,d,R,_,5,p,P,I,ee,1)),p=P,b=L,y=j,w=q,E=X,S=Q,E=X,a=T}l.push(d)}if(e.path)for(const h in e.path){const n=e.path[h],a=t.findPathConstraint(h);if(!a)throw new Error(`Path constraint not found: ${h}`);const u=t.pathConstraints.indexOf(a);for(const f in n){const d=n[f];let p=d[0];if(!p)continue;const b=d.length;if(f==="position"){const y=new zd(b,b,u);l.push(Bn(d,y,0,a.positionMode==ot.Fixed?c:1))}else if(f==="spacing"){const y=new Ud(b,b,u);l.push(Bn(d,y,0,a.spacingMode==Sn.Length||a.spacingMode==Sn.Fixed?c:1))}else if(f==="mix"){const y=new Hd(b,b*3,u);let w=F(p,"time",0),E=F(p,"mixRotate",1),S=F(p,"mixX",1),I=F(p,"mixY",S);for(let _=0,R=0;;_++){y.setFrame(_,w,E,S,I);const T=d[_+1];if(!T){y.shrink(R);break}const P=F(T,"time",0),L=F(T,"mixRotate",1),j=F(T,"mixX",1),q=F(T,"mixY",j),X=p.curve;X&&(R=we(X,y,R,_,0,w,P,E,L,1),R=we(X,y,R,_,1,w,P,S,j,1),R=we(X,y,R,_,2,w,P,I,q,1)),w=P,E=L,S=j,I=q,p=T}l.push(y)}}}if(e.deform){e.attachments={};for(const h in e.deform){const n=e.deform[h],a=e.attachments[h]={};for(const u in n){const f=n[u],d=a[u]={};for(const p in f)d[p]={deform:f[p]}}}}if(e.attachments)for(const h in e.attachments){const n=e.attachments[h],a=t.findSkin(h);if(a!=null)for(const u in n){const f=n[u],d=t.findSlot(u);if(!d)throw new Error(`Slot not found: ${u}`);const p=d.index;for(const b in f){const y=f[b],w=a.getAttachment(p,b);for(const E in y){const S=y[E];let I=S[0];if(I){if(E=="deform"){const _=w.bones,R=w.vertices,T=_?R.length/3*2:R.length,P=new Yd(S.length,S.length,p,w);let L=F(I,"time",0);for(let j=0,q=0;;j++){let X;const Q=F(I,"vertices",null);if(!Q)X=_?D.newFloatArray(T):R;else{X=D.newFloatArray(T);const Se=F(I,"offset",0);if(D.arrayCopy(Q,0,X,Se,Q.length),c!=1)for(let ge=Se,W=ge+Q.length;ge<W;ge++)X[ge]*=c;if(!_)for(let ge=0;ge<T;ge++)X[ge]+=R[ge]}P.setFrame(j,L,X);const ee=S[j+1];if(!ee){P.shrink(q);break}const ie=F(ee,"time",0),fe=I.curve;fe&&(q=we(fe,P,q,j,0,L,ie,0,1,1)),L=ie,I=ee}l.push(P)}else if(E=="sequence"){const _=new ni(S.length,p,w);let R=0;for(let T=0;T<S.length;T++){const P=F(I,"delay",R),L=F(I,"time",0),j=Jn[F(I,"mode","hold")],q=F(I,"index",0);_.setFrame(T,L,j,q,P),R=P,I=S[T+1]}l.push(_)}}}}}}if(e.drawOrder){const h=new Bl(e.drawOrder.length),n=t.slots.length;let a=0;for(let u=0;u<e.drawOrder.length;u++,a++){const f=e.drawOrder[u];let d=null;const p=F(f,"offsets",null);if(p){d=D.newArray(n,-1);const b=D.newArray(n-p.length,0);let y=0,w=0;for(let E=0;E<p.length;E++){const S=p[E],I=t.findSlot(S.slot);if(!I)throw new Error(`Slot not found: ${I}`);const _=I.index;for(;y!=_;)b[w++]=y++;d[y+S.offset]=y++}for(;y<n;)b[w++]=y++;for(let E=n-1;E>=0;E--)d[E]==-1&&(d[E]=b[--w])}h.setFrame(a,F(f,"time",0),d)}l.push(h)}if(e.events){const h=new Ll(e.events.length);let n=0;for(let a=0;a<e.events.length;a++,n++){const u=e.events[a],f=t.findEvent(u.name);if(!f)throw new Error(`Event not found: ${u.name}`);const d=new qd(D.toSinglePrecision(F(u,"time",0)),f);d.intValue=F(u,"int",f.intValue),d.floatValue=F(u,"float",f.floatValue),d.stringValue=F(u,"string",f.stringValue),d.data.audioPath&&(d.volume=F(u,"volume",1),d.balance=F(u,"balance",0)),h.setFrame(n,d)}l.push(h)}let m=0;for(let h=0,n=l.length;h<n;h++)m=Math.max(m,l[h].getDuration());if(isNaN(m))throw new Error("Error while parsing animation, duration is NaN");t.animations.push(new Fl(s,l,m))}static blendModeFromString(e){if(e=e.toLowerCase(),e=="normal")return Ke.NORMAL;if(e=="additive")return Ke.ADD;if(e=="multiply")return Ke.MULTIPLY;if(e=="screen")return Ke.SCREEN;throw new Error(`Unknown blend mode: ${e}`)}}class v1{constructor(e,s,t,c,l){this.mesh=e,this.skin=s,this.slotIndex=t,this.parent=c,this.inheritTimeline=l}}function Bn(i,e,s,t){let c=i[0],l=F(c,"time",0),m=F(c,"value",s)*t,h=0;for(let n=0;;n++){e.setFrame(n,l,m);const a=i[n+1];if(!a)return e.shrink(h),e;const u=F(a,"time",0),f=F(a,"value",s)*t;c.curve&&(h=we(c.curve,e,h,n,0,l,u,m,f,t)),l=u,m=f,c=a}}function Da(i,e,s,t,c,l){let m=i[0],h=F(m,"time",0),n=F(m,s,c)*l,a=F(m,t,c)*l,u=0;for(let f=0;;f++){e.setFrame(f,h,n,a);const d=i[f+1];if(!d)return e.shrink(u),e;const p=F(d,"time",0),b=F(d,s,c)*l,y=F(d,t,c)*l,w=m.curve;w&&(u=we(w,e,u,f,0,h,p,n,b,l),u=we(w,e,u,f,1,h,p,a,y,l)),h=p,n=b,a=y,m=d}}function we(i,e,s,t,c,l,m,h,n,a){if(i=="stepped")return e.setStepped(t),s;const u=c<<2,f=i[u],d=i[u+1]*a,p=i[u+2],b=i[u+3]*a;return e.setBezier(s,t,c,l,h,f,d,p,b,m,n),s+1}function F(i,e,s){return i[e]!==void 0?i[e]:s}var Sr=(i=>(i[i.UNKNOWN=0]="UNKNOWN",i[i.VER37=37]="VER37",i[i.VER38=38]="VER38",i[i.VER40=40]="VER40",i[i.VER41=41]="VER41",i))(Sr||{});function ll(i){const e=i.substr(0,3),s=Math.floor(Number(e)*10+.001);return e==="3.7"?37:e==="3.8"?38:e==="4.0"?40:e==="4.1"?41:s<37?37:0}class x1{constructor(){this.scale=1}readSkeletonData(e,s){let t=null,c=this.readVersionOldFormat(s),l=ll(c);if(l===Sr.VER38&&(t=new st(new ld(e))),c=this.readVersionNewFormat(s),l=ll(c),(l===Sr.VER40||l===Sr.VER41)&&(t=new nf(new Wd(e))),!t){const m=`Unsupported version of spine model ${c}, please update pixi-spine`;console.error(m)}return t.scale=this.scale,t.readSkeletonData(s)}readVersionOldFormat(e){const s=new ho(e);let t;try{s.readString(),t=s.readString()}catch{t=""}return t||""}readVersionNewFormat(e){const s=new ho(e);s.readInt32(),s.readInt32();let t;try{t=s.readString()}catch{t=""}return t||""}}class y1{constructor(){this.scale=1}readSkeletonData(e,s){const t=s.skeleton.spine,c=ll(t);let l=null;if(c===Sr.VER37&&(l=new Gg(new Bg(e))),c===Sr.VER38&&(l=new Sg(new ld(e))),(c===Sr.VER40||c===Sr.VER41)&&(l=new Xl(new Wd(e))),!l){const m=`Unsupported version of spine model ${t}, please update pixi-spine`;console.error(m)}return l.scale=this.scale,l.readSkeletonData(s)}}class w1 extends gg{createBinaryParser(){return new x1}createJsonParser(){return new y1}parseData(e,s,t){return{spineData:e.readSkeletonData(s,t),spineAtlas:s}}}new w1().installLoader();function rf(i,e){const s=Array.isArray(i)?i:[i],t=Hm;bt.getInstance().addCounter();const c=po(async()=>{const l=[];s.forEach(n=>{const a=t+n;return l.push(a),a});try{await Er.load(l)}catch{bt.getInstance().emitError()}await _l(()=>l.every(n=>Er.cache.get(n)),{timeout:1e6}),bt.getInstance().delCounter();const h={};return{clear:()=>{for(const n in h)h[n]!=null&&delete h[n]},getFrames:(n,a=!1,u=!1)=>{const f=`${n}_${a}_${u}`;return h[f]===void 0&&(h[f]=[a&&Mt.EMPTY,...Dm(n),u&&Mt.EMPTY].filter(Boolean)),h[f]},getTexture:n=>{const a=n;return h[a]===void 0&&(h[a]=Mt.from(a)),h[a]},getTexturesArr:n=>{const a=JSON.stringify(n);return h[a]===void 0&&(h[a]=n.map(u=>Mt.from(u))),h[a]},getTexturesDict:n=>{const a=JSON.stringify(n);return h[a]===void 0&&(h[a]=Object.entries(n).reduce((u,[f,d])=>(u[f]=Mt.from(d),u),{})),h[a]}}});return c.preload(),{useSpritesheets:c.read}}function bo(i,e){const s=Um;bt.getInstance().addCounter();const t=po(async()=>{const c=[];let l;Array.isArray(i)?l=i.map(h=>{const n=s+h;return c.push(n),n}):l=Object.entries(i).reduce((h,[n,a])=>{const u=s+a;return c.push(u),h[n]=u,h},{});try{await Er.load(c)}catch{bt.getInstance().emitError()}return await _l(()=>c.every(h=>kh[h]),{timeout:1e6}),bt.getInstance().delCounter(),Array.isArray(l)?l.map(h=>Mt.from(h)):Object.entries(l).reduce((h,[n,a])=>Object.assign(Object.assign({},h),{[n]:Mt.from(a)}),{})});return t.preload(),{useTextures:t.read}}const Zu=new URLSearchParams(window.location.search);let cl=Zu.get("locale")!=null?Zu.get("locale"):navigator.languages!==void 0?navigator.languages[0]:navigator.language;cl=cl.split(/-|_/)[0]||"en";const E1=`${Bh}en.json`,Dl=po(async()=>{bt.getInstance().addCounter();let i,e;try{e=await fetch(`${Bh}${cl}.json?ts=`+Date.now()),i=await e.json()}catch{e=await fetch(E1+"?ts="+Date.now()),i=await e.json()}return bt.getInstance().delCounter(),i});Dl.preload();function io(i,e,s){const t=s||{};try{return e.split(".").reduce((c,l)=>c!=null&&c[l],i).toString().replace(/\{\{(.*?)\}\}/g,(c,l)=>t[l])}catch{return e}}function Je(i,e,s){const t=Dl.read(),c=H.useRef(i);JSON.stringify(c.current)!==JSON.stringify(i)&&(c.current=i);const l=H.useRef();e instanceof Function?l.current=void 0:JSON.stringify(l.current)!==JSON.stringify(e)&&(l.current=e);const m=H.useMemo(()=>e instanceof Function?e:s instanceof Function?s:a=>a,[e,s]),h=H.useCallback(a=>m(typeof a=="string"?io(t,a):Array.isArray(a)?io(t,a[0],a[1]):io(t,a.mnemonic,a.vals)),[t,m]);return H.useMemo(()=>{const a=c.current,u=l.current;if(typeof a=="string")return h([a,u]);if(Array.isArray(a)){const f=[];return a.forEach((d,p)=>{f[p]=h(d)}),f}else{const f={};return Object.keys(a).forEach(d=>{const p=a[d];f[d]=h(p)}),f}},[h,c.current,l.current])}Je.translate=(i,e)=>io(Dl.read(),i,e);var sf={exports:{}};(function(i){(function(){function e(y,w){document.addEventListener?y.addEventListener("scroll",w,!1):y.attachEvent("scroll",w)}function s(y){document.body?y():document.addEventListener?document.addEventListener("DOMContentLoaded",function w(){document.removeEventListener("DOMContentLoaded",w),y()}):document.attachEvent("onreadystatechange",function w(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",w),y())})}function t(y){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(y)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function c(y,w){y.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+w+";"}function l(y){var w=y.g.offsetWidth,E=w+100;return y.j.style.width=E+"px",y.i.scrollLeft=E,y.h.scrollLeft=y.h.scrollWidth+100,y.l!==w?(y.l=w,!0):!1}function m(y,w){function E(){var I=S;l(I)&&I.g.parentNode!==null&&w(I.l)}var S=y;e(y.h,E),e(y.i,E),l(y)}function h(y,w,E){w=w||{},E=E||window,this.family=y,this.style=w.style||"normal",this.weight=w.weight||"normal",this.stretch=w.stretch||"normal",this.context=E}var n=null,a=null,u=null,f=null;function d(y){return a===null&&(p(y)&&/Apple/.test(window.navigator.vendor)?(y=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!y&&603>parseInt(y[1],10)):a=!1),a}function p(y){return f===null&&(f=!!y.document.fonts),f}function b(y,w){var E=y.style,S=y.weight;if(u===null){var I=document.createElement("div");try{I.style.font="condensed 100px sans-serif"}catch{}u=I.style.font!==""}return[E,S,u?y.stretch:"","100px",w].join(" ")}h.prototype.load=function(y,w){var E=this,S=y||"BESbswy",I=0,_=w||3e3,R=new Date().getTime();return new Promise(function(T,P){if(p(E.context)&&!d(E.context)){var L=new Promise(function(q,X){function Q(){new Date().getTime()-R>=_?X(Error(""+_+"ms timeout exceeded")):E.context.document.fonts.load(b(E,'"'+E.family+'"'),S).then(function(ee){1<=ee.length?q():setTimeout(Q,25)},X)}Q()}),j=new Promise(function(q,X){I=setTimeout(function(){X(Error(""+_+"ms timeout exceeded"))},_)});Promise.race([j,L]).then(function(){clearTimeout(I),T(E)},P)}else s(function(){function q(){var ce;(ce=fe!=-1&&Se!=-1||fe!=-1&&ge!=-1||Se!=-1&&ge!=-1)&&((ce=fe!=Se&&fe!=ge&&Se!=ge)||(n===null&&(ce=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),n=!!ce&&(536>parseInt(ce[1],10)||parseInt(ce[1],10)===536&&11>=parseInt(ce[2],10))),ce=n&&(fe==W&&Se==W&&ge==W||fe==te&&Se==te&&ge==te||fe==le&&Se==le&&ge==le)),ce=!ce),ce&&(pe.parentNode!==null&&pe.parentNode.removeChild(pe),clearTimeout(I),T(E))}function X(){if(new Date().getTime()-R>=_)pe.parentNode!==null&&pe.parentNode.removeChild(pe),P(Error(""+_+"ms timeout exceeded"));else{var ce=E.context.document.hidden;(ce===!0||ce===void 0)&&(fe=Q.g.offsetWidth,Se=ee.g.offsetWidth,ge=ie.g.offsetWidth,q()),I=setTimeout(X,50)}}var Q=new t(S),ee=new t(S),ie=new t(S),fe=-1,Se=-1,ge=-1,W=-1,te=-1,le=-1,pe=document.createElement("div");pe.dir="ltr",c(Q,b(E,"sans-serif")),c(ee,b(E,"serif")),c(ie,b(E,"monospace")),pe.appendChild(Q.g),pe.appendChild(ee.g),pe.appendChild(ie.g),E.context.document.body.appendChild(pe),W=Q.g.offsetWidth,te=ee.g.offsetWidth,le=ie.g.offsetWidth,X(),m(Q,function(ce){fe=ce,q()}),c(Q,b(E,'"'+E.family+'",sans-serif')),m(ee,function(ce){Se=ce,q()}),c(ee,b(E,'"'+E.family+'",serif')),m(ie,function(ce){ge=ce,q()}),c(ie,b(E,'"'+E.family+'",monospace'))})})},i.exports=h})()})(sf);var S1=sf.exports;const C1=vl(S1);function Ju(){document.location.reload()}function _1(i){const[e,s]=H.useState(0),[t,c]=H.useState(!1),[l,m]=H.useState(!1),h=H.useRef(i);return H.useEffect(()=>{const n=h.current;n!==void 0?Promise.all((Array.isArray(n)?n:[n]).map(u=>new C1(u).load(null,6e4))).then(()=>{c(!0)},()=>{Ju()}):c(!0);const a=bt.getInstance();return a.on(Ka,()=>{m(!0)}),a.on(Ja,()=>{Ju()}),a.on(el,u=>{s(u)}),()=>{a.off(Ka),a.off(Ja),a.off(el)}},[]),t&&l?100:Math.min(e,99)}function of(){const i=document.querySelector(".game-container"),e=i!==null?i.offsetWidth:window.innerWidth,s=i!==null?i.offsetHeight:window.innerHeight,t=e/s;return{aspect:t,height:s,orientation:t>1?"landscape":"portrait",width:e}}let Ku;const Hs={get:()=>Ku,set:i=>{Ku=i}},Gs=[];function I1(i){Gs.push(i)}function R1(i){const e=Gs.indexOf(i);Gs[e]!==void 0&&Gs.splice(e,1)}function T1(){const i=of();Gs.forEach(e=>e(i))}let ja=!1,eh=0,th=0;function Ks(){ja||(ja=!0,Za(()=>{ja=!1;const i=document.querySelector("canvas");if(i&&Hs.get()){const e=document.querySelector(".game-container"),s=Math.floor(e.offsetWidth),t=Math.floor(e.offsetHeight);if(i.width=s*Hs.get().resolution,i.height=t*Hs.get().resolution,i.style.width=s+"px",i.style.height=t+"px",Hs.get().resize(s,t),s!==th||t!==eh){th=s,eh=t,Ks();return}T1(),i.style.opacity="1"}else Ks()},10))}visualViewport&&(visualViewport.addEventListener("resize",Ks),visualViewport.addEventListener("orientationchange",Ks));Ks();function Cs(){const[i,e]=H.useState(of());return H.useEffect(()=>{const s=t=>{e(t)};return I1(s),()=>{R1(s)}},[]),i}Cs.renderer=Hs;var af={exports:{}},lf={exports:{}},A1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",k1=A1,P1=k1;function cf(){}function uf(){}uf.resetWarningCache=cf;var M1=function(){function i(t,c,l,m,h,n){if(n!==P1){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}i.isRequired=i;function e(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:uf,resetWarningCache:cf};return s.PropTypes=s,s};lf.exports=M1();var N1=lf.exports;const Ve=vl(N1);function Ht(i){return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(i)}function hf(i){var e=function(s,t){if(Ht(s)!=="object"||s===null)return s;var c=s[Symbol.toPrimitive];if(c!==void 0){var l=c.call(s,t||"default");if(Ht(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}(i,"string");return Ht(e)==="symbol"?e:String(e)}function Ze(i,e,s){return(e=hf(e))in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}function $a(i,e){(e==null||e>i.length)&&(e=i.length);for(var s=0,t=new Array(e);s<e;s++)t[s]=i[s];return t}function nr(i){return function(e){if(Array.isArray(e))return $a(e)}(i)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(i)||function(e,s){if(e){if(typeof e=="string")return $a(e,s);var t=Object.prototype.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$a(e,s):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function We(i,e){for(var s=arguments.length,t=new Array(s>2?s-2:0),c=2;c<s;c++)t[c-2]=arguments[c]}var V1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var O1=function(i){return i==null};function Ws(i){var e=[];if(i===void 0)return e;if(typeof i=="string")e=i.split(",");else if(typeof i=="number")e=[i];else if(Array.isArray(i))e=nr(i);else{if(i===null||Ht(i)!=="object")return e;e=[i&&(i==null?void 0:i.x)||0,i&&(i==null?void 0:i.y)||0]}return e.filter(function(s){return!O1(s)&&!isNaN(s)}).map(Number)}function nh(i,e){if(i.length!==e.length)return!1;for(var s=0;s<i.length;s++)if(i[s]!==e[s])return!1;return!0}function za(i){return i instanceof hm||i instanceof dm}var fo=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Ua(i,e,s){if(za(i[e])&&za(s))i[e].copyFrom(s);else if(za(i[e])){var t=Ws(s);We(t!==void 0&&t.length>0&&t.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(s),Ht(s)),i[e].set(t.shift(),t.shift())}else i[e]=s}var us,df=function(i){var e,s=i;if(!Array.isArray(s)){if(e=i,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");s=Object.keys(i)}var t={};return s.forEach(function(c){t[c]=!0}),function(c){return t[c]!==void 0}},ff=function(i){return function(){return!i.apply(void 0,arguments)}},ul="children",L1=(Ze(us={},ul,!0),Ze(us,"parent",!0),Ze(us,"worldAlpha",!0),Ze(us,"worldTransform",!0),Ze(us,"worldVisible",!0),us),hl={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},jn=function(i,e){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t=function(h){return requestAnimationFrame(function(){var n,a;h==null||(n=h.__reactpixi)===null||n===void 0||(a=n.root)===null||a===void 0||a.emit("__REACT_PIXI_REQUEST_RENDER__")})},c=function(h,n){if(s.hasOwnProperty(h))return We(n.typeofs.some(function(a){return Ht(s[h])===a})||n.instanceofs.some(function(a){return s[h]instanceof a}),"".concat(i," ").concat(h," prop is invalid")),s[h]};if(s.texture)return We(s.texture instanceof Mt,"".concat(i," texture needs to be typeof `Texture`")),s.texture;var l=c("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||c("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||c("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,Mt]});We(!!l,"".concat(i," could not get texture from props"));var m=Mt.from(l);return m.__reactpixi={root:e},m.once("update",t),m.once("loaded",t),m.valid&&t(m),m},B1=ff(df([].concat(nr(Object.keys(L1)),nr(fo))));function $n(i,e,s){var t=!1;if(We(um.prototype.isPrototypeOf(i),"instance needs to be typeof `DisplayObject`, got `%s`",Ht(i)),!s.ignoreEvents)for(var c=typeof i.removeListener=="function",l=typeof i.on=="function",m=0;m<fo.length;m++){var h=fo[m];e[h]!==s[h]&&(t=!0,typeof e[h]=="function"&&c&&i.removeListener(h,e[h]),typeof s[h]=="function"&&l&&i.on(h,s[h]))}var n=Object.keys(s||{});if(s.overwriteProps){for(var a=0;a<n.length;a++){var u=n[a];e[u]!==s[u]&&(t=!0,Ua(i,u,s[u]))}return t}for(var f=n.filter(B1),d=0;d<f.length;d++){var p=f[d],b=s[p];s[p]!==e[p]&&(t=!0),b!==void 0?Ua(i,p,b):p in hl?(console.warn("setting default value: ".concat(p,", from: ").concat(i[p]," to: ").concat(b," for"),i),t=!0,Ua(i,p,hl[p])):console.warn("ignoring prop: ".concat(p,", from ").concat(i[p]," to ").concat(b," for"),i)}return t}var Y1=function(i,e){var s=e.text,t=e.style;return new fm(s,t)},X1=function(){return new jr};function Tr(i,e){if(i==null)return{};var s,t,c=function(m,h){if(m==null)return{};var n,a,u={},f=Object.keys(m);for(a=0;a<f.length;a++)n=f[a],h.indexOf(n)>=0||(u[n]=m[n]);return u}(i,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(t=0;t<l.length;t++)s=l[t],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(i,s)&&(c[s]=i[s])}return c}var D1=["draw","geometry"],j1=function(i,e){var s=e.geometry;We(!s||s instanceof ro,"Graphics geometry needs to be a `Graphics`");var t=s?new ro(s.geometry):new ro;return t.applyProps=function(c,l,m){var h=m.draw;m.geometry;var n=$n(c,l,Tr(m,D1));return l.draw!==h&&typeof h=="function"&&(n=!0,h.call(t,t)),n},t},$1=["image","texture"],z1=function(i,e){var s=e.leftWidth,t=s===void 0?10:s,c=e.topHeight,l=c===void 0?10:c,m=e.rightWidth,h=m===void 0?10:m,n=e.bottomHeight,a=n===void 0?10:n,u=jn("NineSlicePlane",i,e),f=new mm(u,t,l,h,a);return f.applyProps=function(d,p,b){var y=b.image,w=b.texture,E=$n(d,p,Tr(b,$1));return(y||w)&&(w!==p.texture&&(E=!0),d.texture=jn("NineSlicePlane",i,b)),E},f};function rh(i,e){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);e&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),s.push.apply(s,t)}return s}function Zi(i){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?rh(Object(s),!0).forEach(function(t){Ze(i,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):rh(Object(s)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(s,t))})}return i}var U1=function(i,e){var s=e.maxSize,t=s===void 0?1500:s,c=e.batchSize,l=c===void 0?16384:c,m=e.autoResize,h=m!==void 0&&m,n=Zi(Zi({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),a=Zi(Zi({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),u=new gm(t,n,l,h);return u.willUnmount=function(f,d,p){f.destroy(a)},u},H1=["image","texture"],W1=function(i,e){var s=new wl(jn("Sprite",i,e));return s.applyProps=function(t,c,l){var m=l.image,h=l.texture,n=$n(t,c,Tr(l,H1));return(h&&c.texture!==l.texture||m&&c.image!==l.image)&&(c.texture!==l.texture&&(n=!0),t.texture=jn("Sprite",i,l)),n},s},G1=["textures","isPlaying","initialFrame","images"],q1=function(i,e){var s=e.textures,t=e.images,c=e.isPlaying,l=c===void 0||c,m=e.initialFrame,h=function(a){return a.map(function(u){return We(u instanceof Mt||(u==null?void 0:u.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),u})},n=t?Vu.fromImages(t):new Vu(h(s));return n[l?"gotoAndPlay":"gotoAndStop"](m||0),n.applyProps=function(a,u,f){var d=f.textures,p=f.isPlaying,b=f.initialFrame,y=f.images,w=$n(a,u,Tr(f,G1));if(y&&u.images!==y){for(var E=[],S=0;S<y.length;++S)E.push(Mt.from(y[S]));a.textures=E,w=!0}if(d&&u.textures!==d&&(a.textures=h(d),w=!0),p!==u.isPlaying||b!==u.initialFrame){var I=typeof b=="number"?b:n.currentFrame||0;n[p?"gotoAndPlay":"gotoAndStop"](I),w=!0}return w},n},Q1=function(i,e){var s=e.text,t=s===void 0?"":s,c=e.style,l=c===void 0?{}:c,m=e.isSprite,h=new pm(t,l);return m?(h.updateText(),new wl(h.texture)):h},Z1=["tileScale","tilePosition","image","texture"],J1=function(i,e){var s=e.width,t=s===void 0?100:s,c=e.height,l=c===void 0?100:c,m=jn("TilingSprite",i,e),h=new bm(m,t,l);return h.applyProps=function(n,a,u){var f=u.tileScale,d=u.tilePosition,p=u.image,b=u.texture,y=$n(n,a,Tr(u,Z1));if(d){var w,E=Ws(d);(w=n.tilePosition).set.apply(w,nr(E)),y=!nh(Ws(a.tilePosition),E)||y}if(f){var S,I=Ws(f);(S=n.tileScale).set.apply(S,nr(I)),y=!nh(Ws(a.tileScale),I)||y}return(p||b)&&(b!==a.texture&&(y=!0),n.texture=jn("Sprite",i,u)),y},h},K1=["image","texture"],e2=function(i,e){var s=jn("Mesh",i,e),t=e.vertices,c=e.uvs,l=e.indices,m=e.drawMode,h=m===void 0?Ph.TRIANGLES:m,n=new Mh(s,t,c,l,h);return n.applyProps=function(a,u,f){var d=f.image,p=f.texture,b=$n(a,u,Tr(f,K1));return(d||p)&&(p!==u.texture&&(b=!0),a.texture=jn("Mesh",i,f)),b},n},t2=["image","texture"],n2=function(i,e){var s=jn("SimpleRope",i,e),t=e.points,c=new vm(s,t);return c.applyProps=function(l,m,h){var n=h.image,a=h.texture,u=Tr(h,t2);We(Array.isArray(h.points),"SimpleRope points needs to be %s","Array<Point>");var f=$n(l,m,u);return(n||a)&&(a!==m.texture&&(f=!0),l.texture=jn("SimpleRope",i,h)),f},c},r2=Object.freeze({__proto__:null,BitmapText:Y1,Container:X1,Graphics:j1,NineSlicePlane:z1,ParticleContainer:U1,Sprite:W1,Text:Q1,TilingSprite:J1,SimpleMesh:e2,SimpleRope:n2,AnimatedSprite:q1});function sh(i,e){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);e&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),s.push.apply(s,t)}return s}function ih(i){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?sh(Object(s),!0).forEach(function(t){Ze(i,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):sh(Object(s)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(s,t))})}return i}var Xt={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},s2=Object.keys(Xt).reduce(function(i,e){return ih(ih({},i),{},Ze({},e,r2[e]))},{}),mf={};function i2(i,e){return We(!!i,"Expect type to be defined, got `%s`",i),We(!Xt[i],"Component `%s` could not be created, already exists in default components.",i),mf[i]=e,i}var oh,ah,lh,ch,dl={},fl={},o2={get exports(){return fl},set exports(i){fl=i}},uh={};function a2(){return ah||(ah=1,o2.exports=(oh||(oh=1,function(i){function e(W,te){var le=W.length;W.push(te);e:for(;0<le;){var pe=le-1>>>1,ce=W[pe];if(!(0<c(ce,te)))break e;W[pe]=te,W[le]=ce,le=pe}}function s(W){return W.length===0?null:W[0]}function t(W){if(W.length===0)return null;var te=W[0],le=W.pop();if(le!==te){W[0]=le;e:for(var pe=0,ce=W.length,Ar=ce>>>1;pe<Ar;){var In=2*(pe+1)-1,kr=W[In],Rn=In+1,Pr=W[Rn];if(0>c(kr,le))Rn<ce&&0>c(Pr,kr)?(W[pe]=Pr,W[Rn]=le,pe=Rn):(W[pe]=kr,W[In]=le,pe=In);else{if(!(Rn<ce&&0>c(Pr,le)))break e;W[pe]=Pr,W[Rn]=le,pe=Rn}}}return te}function c(W,te){var le=W.sortIndex-te.sortIndex;return le!==0?le:W.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var m=Date,h=m.now();i.unstable_now=function(){return m.now()-h}}var n=[],a=[],u=1,f=null,d=3,p=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function I(W){for(var te=s(a);te!==null;){if(te.callback===null)t(a);else{if(!(te.startTime<=W))break;t(a),te.sortIndex=te.expirationTime,e(n,te)}te=s(a)}}function _(W){if(y=!1,I(W),!b)if(s(n)!==null)b=!0,Se(R);else{var te=s(a);te!==null&&ge(_,te.startTime-W)}}function R(W,te){b=!1,y&&(y=!1,E(j),j=-1),p=!0;var le=d;try{for(I(te),f=s(n);f!==null&&(!(f.expirationTime>te)||W&&!Q());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,d=f.priorityLevel;var ce=pe(f.expirationTime<=te);te=i.unstable_now(),typeof ce=="function"?f.callback=ce:f===s(n)&&t(n),I(te)}else t(n);f=s(n)}if(f!==null)var Ar=!0;else{var In=s(a);In!==null&&ge(_,In.startTime-te),Ar=!1}return Ar}finally{f=null,d=le,p=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,P=!1,L=null,j=-1,q=5,X=-1;function Q(){return!(i.unstable_now()-X<q)}function ee(){if(L!==null){var W=i.unstable_now();X=W;var te=!0;try{te=L(!0,W)}finally{te?T():(P=!1,L=null)}}else P=!1}if(typeof S=="function")T=function(){S(ee)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,fe=ie.port2;ie.port1.onmessage=ee,T=function(){fe.postMessage(null)}}else T=function(){w(ee,0)};function Se(W){L=W,P||(P=!0,T())}function ge(W,te){j=w(function(){W(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_continueExecution=function(){b||p||(b=!0,Se(R))},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return d},i.unstable_getFirstCallbackNode=function(){return s(n)},i.unstable_next=function(W){switch(d){case 1:case 2:case 3:var te=3;break;default:te=d}var le=d;d=te;try{return W()}finally{d=le}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var le=d;d=W;try{return te()}finally{d=le}},i.unstable_scheduleCallback=function(W,te,le){var pe=i.unstable_now();switch(le=typeof le=="object"&&le!==null&&typeof(le=le.delay)=="number"&&0<le?pe+le:pe,W){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return W={id:u++,callback:te,priorityLevel:W,startTime:le,expirationTime:ce=le+ce,sortIndex:-1},le>pe?(W.sortIndex=le,e(a,W),s(n)===null&&W===s(a)&&(y?(E(j),j=-1):y=!0,ge(_,le-pe))):(W.sortIndex=ce,e(n,W),b||p||(b=!0,Se(R))),W},i.unstable_shouldYield=Q,i.unstable_wrapCallback=function(W){var te=d;return function(){var le=d;d=te;try{return W.apply(this,arguments)}finally{d=le}}}}(uh)),uh)),fl}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function l2(){return ch||(ch=1,lh=function(i){var e={},s=Kn,t=a2(),c=Object.assign;function l(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,g=1;g<arguments.length;g++)o+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),_=Symbol.iterator;function R(r){return r===null||typeof r!="object"?null:typeof(r=_&&r[_]||r["@@iterator"])=="function"?r:null}function T(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case a:return"Fragment";case n:return"Portal";case f:return"Profiler";case u:return"StrictMode";case y:return"Suspense";case w:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case p:return(r.displayName||"Context")+".Consumer";case d:return(r._context.displayName||"Context")+".Provider";case b:var o=r.render;return(r=r.displayName)||(r=(r=o.displayName||o.name||"")!==""?"ForwardRef("+r+")":"ForwardRef"),r;case E:return(o=r.displayName||null)!==null?o:T(r.type)||"Memo";case S:o=r._payload,r=r._init;try{return T(r(o))}catch{}}return null}function P(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=(r=o.render).displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(o);case 8:return o===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function L(r){var o=r,g=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do 4098&(o=r).flags&&(g=o.return),r=o.return;while(r)}return o.tag===3?g:null}function j(r){if(L(r)!==r)throw Error(l(188))}function q(r){var o=r.alternate;if(!o){if((o=L(r))===null)throw Error(l(188));return o!==r?null:r}for(var g=r,v=o;;){var x=g.return;if(x===null)break;var C=x.alternate;if(C===null){if((v=x.return)!==null){g=v;continue}break}if(x.child===C.child){for(C=x.child;C;){if(C===g)return j(x),r;if(C===v)return j(x),o;C=C.sibling}throw Error(l(188))}if(g.return!==v.return)g=x,v=C;else{for(var A=!1,M=x.child;M;){if(M===g){A=!0,g=x,v=C;break}if(M===v){A=!0,v=x,g=C;break}M=M.sibling}if(!A){for(M=C.child;M;){if(M===g){A=!0,g=C,v=x;break}if(M===v){A=!0,v=C,g=x;break}M=M.sibling}if(!A)throw Error(l(189))}}if(g.alternate!==v)throw Error(l(190))}if(g.tag!==3)throw Error(l(188));return g.stateNode.current===g?r:o}function X(r){return(r=q(r))!==null?Q(r):null}function Q(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=Q(r);if(o!==null)return o;r=r.sibling}return null}function ee(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){if(r.tag!==4){var o=ee(r);if(o!==null)return o}r=r.sibling}return null}var ie,fe=Array.isArray,Se=i.getPublicInstance,ge=i.getRootHostContext,W=i.getChildHostContext,te=i.prepareForCommit,le=i.resetAfterCommit,pe=i.createInstance,ce=i.appendInitialChild,Ar=i.finalizeInitialChildren,In=i.prepareUpdate,kr=i.shouldSetTextContent,Rn=i.createTextInstance,Pr=i.scheduleTimeout,Tf=i.cancelTimeout,wo=i.noTimeout,ii=i.isPrimaryRenderer,Dt=i.supportsMutation,oi=i.supportsPersistence,qt=i.supportsHydration,Af=i.getInstanceFromNode,kf=i.preparePortalMount,Pf=i.getCurrentEventPriority,Mf=i.detachDeletedInstance,Nf=i.supportsMicrotasks,Vf=i.scheduleMicrotask,_s=i.supportsTestSelectors,Ff=i.findFiberRoot,Of=i.getBoundingRect,Lf=i.getTextContent,Is=i.isHiddenSubtree,Bf=i.matchAccessibilityRole,Yf=i.setFocusIfFocusable,Xf=i.setupIntersectionObserver,Df=i.appendChild,jf=i.appendChildToContainer,$f=i.commitTextUpdate,zf=i.commitMount,Uf=i.commitUpdate,Hf=i.insertBefore,Wf=i.insertInContainerBefore,Gf=i.removeChild,qf=i.removeChildFromContainer,zl=i.resetTextContent,Qf=i.hideInstance,Zf=i.hideTextInstance,Jf=i.unhideInstance,Kf=i.unhideTextInstance,e0=i.clearContainer,t0=i.cloneInstance,Ul=i.createContainerChildSet,Hl=i.appendChildToContainerChildSet,n0=i.finalizeContainerChildren,Eo=i.replaceContainerChildren,Wl=i.cloneHiddenInstance,Gl=i.cloneHiddenTextInstance,r0=i.canHydrateInstance,s0=i.canHydrateTextInstance,i0=i.canHydrateSuspenseInstance,ql=i.isSuspenseInstancePending,So=i.isSuspenseInstanceFallback,o0=i.getSuspenseInstanceFallbackErrorDetails,a0=i.registerSuspenseInstanceRetry,ai=i.getNextHydratableSibling,l0=i.getFirstHydratableChild,c0=i.getFirstHydratableChildWithinContainer,u0=i.getFirstHydratableChildWithinSuspenseInstance,h0=i.hydrateInstance,d0=i.hydrateTextInstance,f0=i.hydrateSuspenseInstance,m0=i.getNextHydratableInstanceAfterSuspenseInstance,g0=i.commitHydratedContainer,p0=i.commitHydratedSuspenseInstance,b0=i.clearSuspenseBoundary,v0=i.clearSuspenseBoundaryFromContainer,x0=i.shouldDeleteUnhydratedTailInstances,y0=i.didNotMatchHydratedContainerTextInstance,w0=i.didNotMatchHydratedTextInstance;function Rs(r){if(ie===void 0)try{throw Error()}catch(g){var o=g.stack.trim().match(/\n( *(at )?)/);ie=o&&o[1]||""}return`
`+ie+r}var Co=!1;function _o(r,o){if(!r||Co)return"";Co=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var v=Y}Reflect.construct(r,[],o)}else{try{o.call()}catch(Y){v=Y}r.call(o.prototype)}else{try{throw Error()}catch(Y){v=Y}r()}}catch(Y){if(Y&&v&&typeof Y.stack=="string"){for(var x=Y.stack.split(`
`),C=v.stack.split(`
`),A=x.length-1,M=C.length-1;1<=A&&0<=M&&x[A]!==C[M];)M--;for(;1<=A&&0<=M;A--,M--)if(x[A]!==C[M]){if(A!==1||M!==1)do if(A--,0>--M||x[A]!==C[M]){var O=`
`+x[A].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=A&&0<=M);break}}}finally{Co=!1,Error.prepareStackTrace=g}return(r=r?r.displayName||r.name:"")?Rs(r):""}var E0=Object.prototype.hasOwnProperty,Io=[],qr=-1;function sr(r){return{current:r}}function Fe(r){0>qr||(r.current=Io[qr],Io[qr]=null,qr--)}function Ne(r,o){qr++,Io[qr]=r.current,r.current=o}var ir={},xt=sr(ir),Nt=sr(!1),Mr=ir;function Qr(r,o){var g=r.type.contextTypes;if(!g)return ir;var v=r.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===o)return v.__reactInternalMemoizedMaskedChildContext;var x,C={};for(x in g)C[x]=o[x];return v&&((r=r.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=C),C}function jt(r){return(r=r.childContextTypes)!=null}function Ro(){Fe(Nt),Fe(xt)}function Ql(r,o,g){if(xt.current!==ir)throw Error(l(168));Ne(xt,o),Ne(Nt,g)}function Zl(r,o,g){var v=r.stateNode;if(o=o.childContextTypes,typeof v.getChildContext!="function")return g;for(var x in v=v.getChildContext())if(!(x in o))throw Error(l(108,P(r)||"Unknown",x));return c({},g,v)}function li(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ir,Mr=xt.current,Ne(xt,r),Ne(Nt,Nt.current),!0}function Jl(r,o,g){var v=r.stateNode;if(!v)throw Error(l(169));g?(r=Zl(r,o,Mr),v.__reactInternalMemoizedMergedChildContext=r,Fe(Nt),Fe(xt),Ne(xt,r)):Fe(Nt),Ne(Nt,g)}var un=Math.clz32?Math.clz32:function(r){return(r>>>=0)===0?32:31-(S0(r)/C0|0)|0},S0=Math.log,C0=Math.LN2,To=64,Ao=4194304;function Ts(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&r;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&r;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ci(r,o){var g=r.pendingLanes;if(g===0)return 0;var v=0,x=r.suspendedLanes,C=r.pingedLanes,A=268435455&g;if(A!==0){var M=A&~x;M!==0?v=Ts(M):(C&=A)!==0&&(v=Ts(C))}else(A=g&~x)!==0?v=Ts(A):C!==0&&(v=Ts(C));if(v===0)return 0;if(o!==0&&o!==v&&!(o&x)&&((x=v&-v)>=(C=o&-o)||x===16&&4194240&C))return o;if(4&v&&(v|=16&g),(o=r.entangledLanes)!==0)for(r=r.entanglements,o&=v;0<o;)x=1<<(g=31-un(o)),v|=r[g],o&=~x;return v}function _0(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;default:return-1}}function ko(r){return(r=-1073741825&r.pendingLanes)!==0?r:1073741824&r?1073741824:0}function Kl(){var r=To;return!(4194240&(To<<=1))&&(To=64),r}function Po(r){for(var o=[],g=0;31>g;g++)o.push(r);return o}function As(r,o,g){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),(r=r.eventTimes)[o=31-un(o)]=g}function Mo(r,o){var g=r.entangledLanes|=o;for(r=r.entanglements;g;){var v=31-un(g),x=1<<v;x&o|r[v]&o&&(r[v]|=o),g&=~x}}var _e=0;function ec(r){return 1<(r&=-r)?4<r?268435455&r?16:536870912:4:1}var No=t.unstable_scheduleCallback,tc=t.unstable_cancelCallback,I0=t.unstable_shouldYield,R0=t.unstable_requestPaint,at=t.unstable_now,Vo=t.unstable_ImmediatePriority,T0=t.unstable_UserBlockingPriority,nc=t.unstable_NormalPriority,A0=t.unstable_IdlePriority,ui=null,Tn=null,hn=typeof Object.is=="function"?Object.is:function(r,o){return r===o&&(r!==0||1/r==1/o)||r!=r&&o!=o},Hn=null,hi=!1,Fo=!1;function rc(r){Hn===null?Hn=[r]:Hn.push(r)}function An(){if(!Fo&&Hn!==null){Fo=!0;var r=0,o=_e;try{var g=Hn;for(_e=1;r<g.length;r++){var v=g[r];do v=v(!0);while(v!==null)}Hn=null,hi=!1}catch(x){throw Hn!==null&&(Hn=Hn.slice(r+1)),No(Vo,An),x}finally{_e=o,Fo=!1}}return null}var Zr=[],Jr=0,di=null,fi=0,Qt=[],Zt=0,Nr=null,kn=1,Wn="";function Vr(r,o){Zr[Jr++]=fi,Zr[Jr++]=di,di=r,fi=o}function sc(r,o,g){Qt[Zt++]=kn,Qt[Zt++]=Wn,Qt[Zt++]=Nr,Nr=r;var v=kn;r=Wn;var x=32-un(v)-1;v&=~(1<<x),g+=1;var C=32-un(o)+x;if(30<C){var A=x-x%5;C=(v&(1<<A)-1).toString(32),v>>=A,x-=A,kn=1<<32-un(o)+x|g<<x|v,Wn=C+r}else kn=1<<C|g<<x|v,Wn=r}function Oo(r){r.return!==null&&(Vr(r,1),sc(r,1,0))}function Lo(r){for(;r===di;)di=Zr[--Jr],Zr[Jr]=null,fi=Zr[--Jr],Zr[Jr]=null;for(;r===Nr;)Nr=Qt[--Zt],Qt[Zt]=null,Wn=Qt[--Zt],Qt[Zt]=null,kn=Qt[--Zt],Qt[Zt]=null}var $t=null,Jt=null,Oe=!1,ks=!1,dn=null;function ic(r,o){var g=rn(5,null,null,0);g.elementType="DELETED",g.stateNode=o,g.return=r,(o=r.deletions)===null?(r.deletions=[g],r.flags|=16):o.push(g)}function oc(r,o){switch(r.tag){case 5:return(o=r0(o,r.type,r.pendingProps))!==null&&(r.stateNode=o,$t=r,Jt=l0(o),!0);case 6:return(o=s0(o,r.pendingProps))!==null&&(r.stateNode=o,$t=r,Jt=null,!0);case 13:if((o=i0(o))!==null){var g=Nr!==null?{id:kn,overflow:Wn}:null;return r.memoizedState={dehydrated:o,treeContext:g,retryLane:1073741824},(g=rn(18,null,null,0)).stateNode=o,g.return=r,r.child=g,$t=r,Jt=null,!0}return!1;default:return!1}}function Bo(r){return(1&r.mode)!=0&&(128&r.flags)==0}function Yo(r){if(Oe){var o=Jt;if(o){var g=o;if(!oc(r,o)){if(Bo(r))throw Error(l(418));o=ai(g);var v=$t;o&&oc(r,o)?ic(v,g):(r.flags=-4097&r.flags|2,Oe=!1,$t=r)}}else{if(Bo(r))throw Error(l(418));r.flags=-4097&r.flags|2,Oe=!1,$t=r}}}function ac(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;$t=r}function mi(r){if(!qt||r!==$t)return!1;if(!Oe)return ac(r),Oe=!0,!1;if(r.tag!==3&&(r.tag!==5||x0(r.type)&&!kr(r.type,r.memoizedProps))){var o=Jt;if(o){if(Bo(r))throw lc(),Error(l(418));for(;o;)ic(r,o),o=ai(o)}}if(ac(r),r.tag===13){if(!qt)throw Error(l(316));if(!(r=(r=r.memoizedState)!==null?r.dehydrated:null))throw Error(l(317));Jt=m0(r)}else Jt=$t?ai(r.stateNode):null;return!0}function lc(){for(var r=Jt;r;)r=ai(r)}function Kr(){qt&&(Jt=$t=null,ks=Oe=!1)}function Xo(r){dn===null?dn=[r]:dn.push(r)}var k0=m.ReactCurrentBatchConfig;function gi(r,o){if(hn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var g=Object.keys(r),v=Object.keys(o);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var x=g[v];if(!E0.call(o,x)||!hn(r[x],o[x]))return!1}return!0}function P0(r){switch(r.tag){case 5:return Rs(r.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 2:case 15:return r=_o(r.type,!1);case 11:return r=_o(r.type.render,!1);case 1:return r=_o(r.type,!0);default:return""}}function fn(r,o){if(r&&r.defaultProps){for(var g in o=c({},o),r=r.defaultProps)o[g]===void 0&&(o[g]=r[g]);return o}return o}var pi=sr(null),bi=null,es=null,Do=null;function jo(){Do=es=bi=null}function cc(r,o,g){ii?(Ne(pi,o._currentValue),o._currentValue=g):(Ne(pi,o._currentValue2),o._currentValue2=g)}function $o(r){var o=pi.current;Fe(pi),ii?r._currentValue=o:r._currentValue2=o}function zo(r,o,g){for(;r!==null;){var v=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,v!==null&&(v.childLanes|=o)):v!==null&&(v.childLanes&o)!==o&&(v.childLanes|=o),r===g)break;r=r.return}}function ts(r,o){bi=r,Do=es=null,(r=r.dependencies)!==null&&r.firstContext!==null&&(r.lanes&o&&(Vt=!0),r.firstContext=null)}function Kt(r){var o=ii?r._currentValue:r._currentValue2;if(Do!==r)if(r={context:r,memoizedValue:o,next:null},es===null){if(bi===null)throw Error(l(308));es=r,bi.dependencies={lanes:0,firstContext:r}}else es=es.next=r;return o}var Fr=null;function Uo(r){Fr===null?Fr=[r]:Fr.push(r)}function uc(r,o,g,v){var x=o.interleaved;return x===null?(g.next=g,Uo(o)):(g.next=x.next,x.next=g),o.interleaved=g,Pn(r,v)}function Pn(r,o){r.lanes|=o;var g=r.alternate;for(g!==null&&(g.lanes|=o),g=r,r=r.return;r!==null;)r.childLanes|=o,(g=r.alternate)!==null&&(g.childLanes|=o),g=r,r=r.return;return g.tag===3?g.stateNode:null}var or=!1;function Ho(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hc(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Gn(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function ar(r,o,g){var v=r.updateQueue;if(v===null)return null;if(v=v.shared,(2&ve)!=0){var x=v.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),v.pending=o,Pn(r,g)}return(x=v.interleaved)===null?(o.next=o,Uo(v)):(o.next=x.next,x.next=o),v.interleaved=o,Pn(r,g)}function vi(r,o,g){if((o=o.updateQueue)!==null&&(o=o.shared,(4194240&g)!=0)){var v=o.lanes;g|=v&=r.pendingLanes,o.lanes=g,Mo(r,g)}}function dc(r,o){var g=r.updateQueue,v=r.alternate;if(v!==null&&g===(v=v.updateQueue)){var x=null,C=null;if((g=g.firstBaseUpdate)!==null){do{var A={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};C===null?x=C=A:C=C.next=A,g=g.next}while(g!==null);C===null?x=C=o:C=C.next=o}else x=C=o;return g={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:C,shared:v.shared,effects:v.effects},void(r.updateQueue=g)}(r=g.lastBaseUpdate)===null?g.firstBaseUpdate=o:r.next=o,g.lastBaseUpdate=o}function xi(r,o,g,v){var x=r.updateQueue;or=!1;var C=x.firstBaseUpdate,A=x.lastBaseUpdate,M=x.shared.pending;if(M!==null){x.shared.pending=null;var O=M,Y=O.next;O.next=null,A===null?C=Y:A.next=Y,A=O;var z=r.alternate;z!==null&&(M=(z=z.updateQueue).lastBaseUpdate)!==A&&(M===null?z.firstBaseUpdate=Y:M.next=Y,z.lastBaseUpdate=O)}if(C!==null){var K=x.baseState;for(A=0,z=Y=O=null,M=C;;){var $=M.lane,Z=M.eventTime;if((v&$)===$){z!==null&&(z=z.next={eventTime:Z,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var re=r,de=M;switch($=o,Z=g,de.tag){case 1:if(typeof(re=de.payload)=="function"){K=re.call(Z,K,$);break e}K=re;break e;case 3:re.flags=-65537&re.flags|128;case 0:if(($=typeof(re=de.payload)=="function"?re.call(Z,K,$):re)==null)break e;K=c({},K,$);break e;case 2:or=!0}}M.callback!==null&&M.lane!==0&&(r.flags|=64,($=x.effects)===null?x.effects=[M]:$.push(M))}else Z={eventTime:Z,lane:$,tag:M.tag,payload:M.payload,callback:M.callback,next:null},z===null?(Y=z=Z,O=K):z=z.next=Z,A|=$;if((M=M.next)===null){if((M=x.shared.pending)===null)break;M=($=M).next,$.next=null,x.lastBaseUpdate=$,x.shared.pending=null}}if(z===null&&(O=K),x.baseState=O,x.firstBaseUpdate=Y,x.lastBaseUpdate=z,(o=x.shared.interleaved)!==null){x=o;do A|=x.lane,x=x.next;while(x!==o)}else C===null&&(x.shared.lanes=0);Lr|=A,r.lanes=A,r.memoizedState=K}}function fc(r,o,g){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var v=r[o],x=v.callback;if(x!==null){if(v.callback=null,v=g,typeof x!="function")throw Error(l(191,x));x.call(v)}}}var mc=new s.Component().refs;function Wo(r,o,g,v){g=(g=g(v,o=r.memoizedState))==null?o:c({},o,g),r.memoizedState=g,r.lanes===0&&(r.updateQueue.baseState=g)}var yi={isMounted:function(r){return!!(r=r._reactInternals)&&L(r)===r},enqueueSetState:function(r,o,g){r=r._reactInternals;var v=Et(),x=hr(r),C=Gn(v,x);C.payload=o,g!=null&&(C.callback=g),(o=ar(r,C,x))!==null&&(nn(o,r,x,v),vi(o,r,x))},enqueueReplaceState:function(r,o,g){r=r._reactInternals;var v=Et(),x=hr(r),C=Gn(v,x);C.tag=1,C.payload=o,g!=null&&(C.callback=g),(o=ar(r,C,x))!==null&&(nn(o,r,x,v),vi(o,r,x))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var g=Et(),v=hr(r),x=Gn(g,v);x.tag=2,o!=null&&(x.callback=o),(o=ar(r,x,v))!==null&&(nn(o,r,v,g),vi(o,r,v))}};function gc(r,o,g,v,x,C,A){return typeof(r=r.stateNode).shouldComponentUpdate=="function"?r.shouldComponentUpdate(v,C,A):!o.prototype||!o.prototype.isPureReactComponent||!gi(g,v)||!gi(x,C)}function pc(r,o,g){var v=!1,x=ir,C=o.contextType;return typeof C=="object"&&C!==null?C=Kt(C):(x=jt(o)?Mr:xt.current,C=(v=(v=o.contextTypes)!=null)?Qr(r,x):ir),o=new o(g,C),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=yi,r.stateNode=o,o._reactInternals=r,v&&((r=r.stateNode).__reactInternalMemoizedUnmaskedChildContext=x,r.__reactInternalMemoizedMaskedChildContext=C),o}function bc(r,o,g,v){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(g,v),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(g,v),o.state!==r&&yi.enqueueReplaceState(o,o.state,null)}function Go(r,o,g,v){var x=r.stateNode;x.props=g,x.state=r.memoizedState,x.refs=mc,Ho(r);var C=o.contextType;typeof C=="object"&&C!==null?x.context=Kt(C):(C=jt(o)?Mr:xt.current,x.context=Qr(r,C)),x.state=r.memoizedState,typeof(C=o.getDerivedStateFromProps)=="function"&&(Wo(r,o,C,g),x.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&yi.enqueueReplaceState(x,x.state,null),xi(r,g,x,v),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308)}function Ps(r,o,g){if((r=g.ref)!==null&&typeof r!="function"&&typeof r!="object"){if(g._owner){if(g=g._owner){if(g.tag!==1)throw Error(l(309));var v=g.stateNode}if(!v)throw Error(l(147,r));var x=v,C=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===C?o.ref:(o=function(A){var M=x.refs;M===mc&&(M=x.refs={}),A===null?delete M[C]:M[C]=A},o._stringRef=C,o)}if(typeof r!="string")throw Error(l(284));if(!g._owner)throw Error(l(290,r))}return r}function wi(r,o){throw r=Object.prototype.toString.call(o),Error(l(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function vc(r){return(0,r._init)(r._payload)}function xc(r){function o(U,V){if(r){var B=U.deletions;B===null?(U.deletions=[V],U.flags|=16):B.push(V)}}function g(U,V){if(!r)return null;for(;V!==null;)o(U,V),V=V.sibling;return null}function v(U,V){for(U=new Map;V!==null;)V.key!==null?U.set(V.key,V):U.set(V.index,V),V=V.sibling;return U}function x(U,V){return(U=fr(U,V)).index=0,U.sibling=null,U}function C(U,V,B){return U.index=B,r?(B=U.alternate)!==null?(B=B.index)<V?(U.flags|=2,V):B:(U.flags|=2,V):(U.flags|=1048576,V)}function A(U){return r&&U.alternate===null&&(U.flags|=2),U}function M(U,V,B,G){return V===null||V.tag!==6?((V=Va(B,U.mode,G)).return=U,V):((V=x(V,B)).return=U,V)}function O(U,V,B,G){var ae=B.type;return ae===a?z(U,V,B.props.children,G,B.key):V!==null&&(V.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===S&&vc(ae)===V.type)?((G=x(V,B.props)).ref=Ps(U,V,B),G.return=U,G):((G=Wi(B.type,B.key,B.props,null,U.mode,G)).ref=Ps(U,V,B),G.return=U,G)}function Y(U,V,B,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?((V=Fa(B,U.mode,G)).return=U,V):((V=x(V,B.children||[])).return=U,V)}function z(U,V,B,G,ae){return V===null||V.tag!==7?((V=Xr(B,U.mode,G,ae)).return=U,V):((V=x(V,B)).return=U,V)}function K(U,V,B){if(typeof V=="string"&&V!==""||typeof V=="number")return(V=Va(""+V,U.mode,B)).return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case h:return(B=Wi(V.type,V.key,V.props,null,U.mode,B)).ref=Ps(U,null,V),B.return=U,B;case n:return(V=Fa(V,U.mode,B)).return=U,V;case S:return K(U,(0,V._init)(V._payload),B)}if(fe(V)||R(V))return(V=Xr(V,U.mode,B,null)).return=U,V;wi(U,V)}return null}function $(U,V,B,G){var ae=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ae!==null?null:M(U,V,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return B.key===ae?O(U,V,B,G):null;case n:return B.key===ae?Y(U,V,B,G):null;case S:return $(U,V,(ae=B._init)(B._payload),G)}if(fe(B)||R(B))return ae!==null?null:z(U,V,B,G,null);wi(U,B)}return null}function Z(U,V,B,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number")return M(V,U=U.get(B)||null,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case h:return O(V,U=U.get(G.key===null?B:G.key)||null,G,ae);case n:return Y(V,U=U.get(G.key===null?B:G.key)||null,G,ae);case S:return Z(U,V,B,(0,G._init)(G._payload),ae)}if(fe(G)||R(G))return z(V,U=U.get(B)||null,G,ae,null);wi(V,G)}return null}function re(U,V,B,G){for(var ae=null,Te=null,se=V,Ie=V=0,gt=null;se!==null&&Ie<B.length;Ie++){se.index>Ie?(gt=se,se=null):gt=se.sibling;var Ae=$(U,se,B[Ie],G);if(Ae===null){se===null&&(se=gt);break}r&&se&&Ae.alternate===null&&o(U,se),V=C(Ae,V,Ie),Te===null?ae=Ae:Te.sibling=Ae,Te=Ae,se=gt}if(Ie===B.length)return g(U,se),Oe&&Vr(U,Ie),ae;if(se===null){for(;Ie<B.length;Ie++)(se=K(U,B[Ie],G))!==null&&(V=C(se,V,Ie),Te===null?ae=se:Te.sibling=se,Te=se);return Oe&&Vr(U,Ie),ae}for(se=v(U,se);Ie<B.length;Ie++)(gt=Z(se,U,Ie,B[Ie],G))!==null&&(r&&gt.alternate!==null&&se.delete(gt.key===null?Ie:gt.key),V=C(gt,V,Ie),Te===null?ae=gt:Te.sibling=gt,Te=gt);return r&&se.forEach(function(mr){return o(U,mr)}),Oe&&Vr(U,Ie),ae}function de(U,V,B,G){var ae=R(B);if(typeof ae!="function")throw Error(l(150));if((B=ae.call(B))==null)throw Error(l(151));for(var Te=ae=null,se=V,Ie=V=0,gt=null,Ae=B.next();se!==null&&!Ae.done;Ie++,Ae=B.next()){se.index>Ie?(gt=se,se=null):gt=se.sibling;var mr=$(U,se,Ae.value,G);if(mr===null){se===null&&(se=gt);break}r&&se&&mr.alternate===null&&o(U,se),V=C(mr,V,Ie),Te===null?ae=mr:Te.sibling=mr,Te=mr,se=gt}if(Ae.done)return g(U,se),Oe&&Vr(U,Ie),ae;if(se===null){for(;!Ae.done;Ie++,Ae=B.next())(Ae=K(U,Ae.value,G))!==null&&(V=C(Ae,V,Ie),Te===null?ae=Ae:Te.sibling=Ae,Te=Ae);return Oe&&Vr(U,Ie),ae}for(se=v(U,se);!Ae.done;Ie++,Ae=B.next())(Ae=Z(se,U,Ie,Ae.value,G))!==null&&(r&&Ae.alternate!==null&&se.delete(Ae.key===null?Ie:Ae.key),V=C(Ae,V,Ie),Te===null?ae=Ae:Te.sibling=Ae,Te=Ae);return r&&se.forEach(function(tm){return o(U,tm)}),Oe&&Vr(U,Ie),ae}return function U(V,B,G,ae){if(typeof G=="object"&&G!==null&&G.type===a&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case h:e:{for(var Te=G.key,se=B;se!==null;){if(se.key===Te){if((Te=G.type)===a){if(se.tag===7){g(V,se.sibling),(B=x(se,G.props.children)).return=V,V=B;break e}}else if(se.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&vc(Te)===se.type){g(V,se.sibling),(B=x(se,G.props)).ref=Ps(V,se,G),B.return=V,V=B;break e}g(V,se);break}o(V,se),se=se.sibling}G.type===a?((B=Xr(G.props.children,V.mode,ae,G.key)).return=V,V=B):((ae=Wi(G.type,G.key,G.props,null,V.mode,ae)).ref=Ps(V,B,G),ae.return=V,V=ae)}return A(V);case n:e:{for(se=G.key;B!==null;){if(B.key===se){if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){g(V,B.sibling),(B=x(B,G.children||[])).return=V,V=B;break e}g(V,B);break}o(V,B),B=B.sibling}(B=Fa(G,V.mode,ae)).return=V,V=B}return A(V);case S:return U(V,B,(se=G._init)(G._payload),ae)}if(fe(G))return re(V,B,G,ae);if(R(G))return de(V,B,G,ae);wi(V,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,B!==null&&B.tag===6?(g(V,B.sibling),(B=x(B,G)).return=V,V=B):(g(V,B),(B=Va(G,V.mode,ae)).return=V,V=B),A(V)):g(V,B)}}var ns=xc(!0),yc=xc(!1),Ms={},en=sr(Ms),Ns=sr(Ms),rs=sr(Ms);function Mn(r){if(r===Ms)throw Error(l(174));return r}function qo(r,o){Ne(rs,o),Ne(Ns,r),Ne(en,Ms),r=ge(o),Fe(en),Ne(en,r)}function ss(){Fe(en),Fe(Ns),Fe(rs)}function wc(r){var o=Mn(rs.current),g=Mn(en.current);g!==(o=W(g,r.type,o))&&(Ne(Ns,r),Ne(en,o))}function Qo(r){Ns.current===r&&(Fe(en),Fe(Ns))}var $e=sr(0);function Ei(r){for(var o=r;o!==null;){if(o.tag===13){var g=o.memoizedState;if(g!==null&&((g=g.dehydrated)===null||ql(g)||So(g)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(128&o.flags)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Zo=[];function Jo(){for(var r=0;r<Zo.length;r++){var o=Zo[r];ii?o._workInProgressVersionPrimary=null:o._workInProgressVersionSecondary=null}Zo.length=0}var Si=m.ReactCurrentDispatcher,Ko=m.ReactCurrentBatchConfig,Or=0,Be=null,lt=null,ct=null,Ci=!1,Vs=!1,Fs=0,M0=0;function yt(){throw Error(l(321))}function ea(r,o){if(o===null)return!1;for(var g=0;g<o.length&&g<r.length;g++)if(!hn(r[g],o[g]))return!1;return!0}function ta(r,o,g,v,x,C){if(Or=C,Be=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Si.current=r===null||r.memoizedState===null?O0:L0,r=g(v,x),Vs){C=0;do{if(Vs=!1,Fs=0,25<=C)throw Error(l(301));C+=1,ct=lt=null,o.updateQueue=null,Si.current=B0,r=g(v,x)}while(Vs)}if(Si.current=Ri,o=lt!==null&&lt.next!==null,Or=0,ct=lt=Be=null,Ci=!1,o)throw Error(l(300));return r}function na(){var r=Fs!==0;return Fs=0,r}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Be.memoizedState=ct=r:ct=ct.next=r,ct}function tn(){if(lt===null){var r=Be.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var o=ct===null?Be.memoizedState:ct.next;if(o!==null)ct=o,lt=r;else{if(r===null)throw Error(l(310));r={memoizedState:(lt=r).memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ct===null?Be.memoizedState=ct=r:ct=ct.next=r}return ct}function Os(r,o){return typeof o=="function"?o(r):o}function ra(r){var o=tn(),g=o.queue;if(g===null)throw Error(l(311));g.lastRenderedReducer=r;var v=lt,x=v.baseQueue,C=g.pending;if(C!==null){if(x!==null){var A=x.next;x.next=C.next,C.next=A}v.baseQueue=x=C,g.pending=null}if(x!==null){C=x.next,v=v.baseState;var M=A=null,O=null,Y=C;do{var z=Y.lane;if((Or&z)===z)O!==null&&(O=O.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),v=Y.hasEagerState?Y.eagerState:r(v,Y.action);else{var K={lane:z,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};O===null?(M=O=K,A=v):O=O.next=K,Be.lanes|=z,Lr|=z}Y=Y.next}while(Y!==null&&Y!==C);O===null?A=v:O.next=M,hn(v,o.memoizedState)||(Vt=!0),o.memoizedState=v,o.baseState=A,o.baseQueue=O,g.lastRenderedState=v}if((r=g.interleaved)!==null){x=r;do C=x.lane,Be.lanes|=C,Lr|=C,x=x.next;while(x!==r)}else x===null&&(g.lanes=0);return[o.memoizedState,g.dispatch]}function sa(r){var o=tn(),g=o.queue;if(g===null)throw Error(l(311));g.lastRenderedReducer=r;var v=g.dispatch,x=g.pending,C=o.memoizedState;if(x!==null){g.pending=null;var A=x=x.next;do C=r(C,A.action),A=A.next;while(A!==x);hn(C,o.memoizedState)||(Vt=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),g.lastRenderedState=C}return[C,v]}function Ec(){}function Sc(r,o){var g=Be,v=tn(),x=o(),C=!hn(v.memoizedState,x);if(C&&(v.memoizedState=x,Vt=!0),v=v.queue,ia(Ic.bind(null,g,v,r),[r]),v.getSnapshot!==o||C||ct!==null&&1&ct.memoizedState.tag){if(g.flags|=2048,Ls(9,_c.bind(null,g,v,x,o),void 0,null),ut===null)throw Error(l(349));30&Or||Cc(g,o,x)}return x}function Cc(r,o,g){r.flags|=16384,r={getSnapshot:o,value:g},(o=Be.updateQueue)===null?(o={lastEffect:null,stores:null},Be.updateQueue=o,o.stores=[r]):(g=o.stores)===null?o.stores=[r]:g.push(r)}function _c(r,o,g,v){o.value=g,o.getSnapshot=v,Rc(o)&&Tc(r)}function Ic(r,o,g){return g(function(){Rc(o)&&Tc(r)})}function Rc(r){var o=r.getSnapshot;r=r.value;try{var g=o();return!hn(r,g)}catch{return!0}}function Tc(r){var o=Pn(r,1);o!==null&&nn(o,r,1,-1)}function Ac(r){var o=Nn();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:r},o.queue=r,r=r.dispatch=F0.bind(null,Be,r),[o.memoizedState,r]}function Ls(r,o,g,v){return r={tag:r,create:o,destroy:g,deps:v,next:null},(o=Be.updateQueue)===null?(o={lastEffect:null,stores:null},Be.updateQueue=o,o.lastEffect=r.next=r):(g=o.lastEffect)===null?o.lastEffect=r.next=r:(v=g.next,g.next=r,r.next=v,o.lastEffect=r),r}function kc(){return tn().memoizedState}function _i(r,o,g,v){var x=Nn();Be.flags|=r,x.memoizedState=Ls(1|o,g,void 0,v===void 0?null:v)}function Ii(r,o,g,v){var x=tn();v=v===void 0?null:v;var C=void 0;if(lt!==null){var A=lt.memoizedState;if(C=A.destroy,v!==null&&ea(v,A.deps))return void(x.memoizedState=Ls(o,g,C,v))}Be.flags|=r,x.memoizedState=Ls(1|o,g,C,v)}function Pc(r,o){return _i(8390656,8,r,o)}function ia(r,o){return Ii(2048,8,r,o)}function Mc(r,o){return Ii(4,2,r,o)}function Nc(r,o){return Ii(4,4,r,o)}function Vc(r,o){return typeof o=="function"?(r=r(),o(r),function(){o(null)}):o!=null?(r=r(),o.current=r,function(){o.current=null}):void 0}function Fc(r,o,g){return g=g!=null?g.concat([r]):null,Ii(4,4,Vc.bind(null,o,r),g)}function oa(){}function Oc(r,o){var g=tn();o=o===void 0?null:o;var v=g.memoizedState;return v!==null&&o!==null&&ea(o,v[1])?v[0]:(g.memoizedState=[r,o],r)}function Lc(r,o){var g=tn();o=o===void 0?null:o;var v=g.memoizedState;return v!==null&&o!==null&&ea(o,v[1])?v[0]:(r=r(),g.memoizedState=[r,o],r)}function Bc(r,o,g){return 21&Or?(hn(g,o)||(g=Kl(),Be.lanes|=g,Lr|=g,r.baseState=!0),o):(r.baseState&&(r.baseState=!1,Vt=!0),r.memoizedState=g)}function N0(r,o){var g=_e;_e=g!==0&&4>g?g:4,r(!0);var v=Ko.transition;Ko.transition={};try{r(!1),o()}finally{_e=g,Ko.transition=v}}function Yc(){return tn().memoizedState}function V0(r,o,g){var v=hr(r);g={lane:v,action:g,hasEagerState:!1,eagerState:null,next:null},Xc(r)?Dc(o,g):(g=uc(r,o,g,v))!==null&&(nn(g,r,v,Et()),jc(g,o,v))}function F0(r,o,g){var v=hr(r),x={lane:v,action:g,hasEagerState:!1,eagerState:null,next:null};if(Xc(r))Dc(o,x);else{var C=r.alternate;if(r.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer)!==null)try{var A=o.lastRenderedState,M=C(A,g);if(x.hasEagerState=!0,x.eagerState=M,hn(M,A)){var O=o.interleaved;return O===null?(x.next=x,Uo(o)):(x.next=O.next,O.next=x),void(o.interleaved=x)}}catch{}(g=uc(r,o,x,v))!==null&&(nn(g,r,v,x=Et()),jc(g,o,v))}}function Xc(r){var o=r.alternate;return r===Be||o!==null&&o===Be}function Dc(r,o){Vs=Ci=!0;var g=r.pending;g===null?o.next=o:(o.next=g.next,g.next=o),r.pending=o}function jc(r,o,g){if(4194240&g){var v=o.lanes;g|=v&=r.pendingLanes,o.lanes=g,Mo(r,g)}}var Ri={readContext:Kt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},O0={readContext:Kt,useCallback:function(r,o){return Nn().memoizedState=[r,o===void 0?null:o],r},useContext:Kt,useEffect:Pc,useImperativeHandle:function(r,o,g){return g=g!=null?g.concat([r]):null,_i(4194308,4,Vc.bind(null,o,r),g)},useLayoutEffect:function(r,o){return _i(4194308,4,r,o)},useInsertionEffect:function(r,o){return _i(4,2,r,o)},useMemo:function(r,o){var g=Nn();return o=o===void 0?null:o,r=r(),g.memoizedState=[r,o],r},useReducer:function(r,o,g){var v=Nn();return o=g!==void 0?g(o):o,v.memoizedState=v.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},v.queue=r,r=r.dispatch=V0.bind(null,Be,r),[v.memoizedState,r]},useRef:function(r){return r={current:r},Nn().memoizedState=r},useState:Ac,useDebugValue:oa,useDeferredValue:function(r){return Nn().memoizedState=r},useTransition:function(){var r=Ac(!1),o=r[0];return r=N0.bind(null,r[1]),Nn().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,g){var v=Be,x=Nn();if(Oe){if(g===void 0)throw Error(l(407));g=g()}else{if(g=o(),ut===null)throw Error(l(349));30&Or||Cc(v,o,g)}x.memoizedState=g;var C={value:g,getSnapshot:o};return x.queue=C,Pc(Ic.bind(null,v,C,r),[r]),v.flags|=2048,Ls(9,_c.bind(null,v,C,g,o),void 0,null),g},useId:function(){var r=Nn(),o=ut.identifierPrefix;if(Oe){var g=Wn;o=":"+o+"R"+(g=(kn&~(1<<32-un(kn)-1)).toString(32)+g),0<(g=Fs++)&&(o+="H"+g.toString(32)),o+=":"}else o=":"+o+"r"+(g=M0++).toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},L0={readContext:Kt,useCallback:Oc,useContext:Kt,useEffect:ia,useImperativeHandle:Fc,useInsertionEffect:Mc,useLayoutEffect:Nc,useMemo:Lc,useReducer:ra,useRef:kc,useState:function(){return ra(Os)},useDebugValue:oa,useDeferredValue:function(r){return Bc(tn(),lt.memoizedState,r)},useTransition:function(){return[ra(Os)[0],tn().memoizedState]},useMutableSource:Ec,useSyncExternalStore:Sc,useId:Yc,unstable_isNewReconciler:!1},B0={readContext:Kt,useCallback:Oc,useContext:Kt,useEffect:ia,useImperativeHandle:Fc,useInsertionEffect:Mc,useLayoutEffect:Nc,useMemo:Lc,useReducer:sa,useRef:kc,useState:function(){return sa(Os)},useDebugValue:oa,useDeferredValue:function(r){var o=tn();return lt===null?o.memoizedState=r:Bc(o,lt.memoizedState,r)},useTransition:function(){return[sa(Os)[0],tn().memoizedState]},useMutableSource:Ec,useSyncExternalStore:Sc,useId:Yc,unstable_isNewReconciler:!1};function is(r,o){try{var g="",v=o;do g+=P0(v),v=v.return;while(v);var x=g}catch(C){x=`
Error generating stack: `+C.message+`
`+C.stack}return{value:r,source:o,stack:x,digest:null}}function aa(r,o,g){return{value:r,source:null,stack:g??null,digest:o??null}}function la(r,o){try{console.error(o.value)}catch(g){setTimeout(function(){throw g})}}var Y0=typeof WeakMap=="function"?WeakMap:Map;function $c(r,o,g){(g=Gn(-1,g)).tag=3,g.payload={element:null};var v=o.value;return g.callback=function(){Di||(Di=!0,Ra=v),la(0,o)},g}function zc(r,o,g){(g=Gn(-1,g)).tag=3;var v=r.type.getDerivedStateFromError;if(typeof v=="function"){var x=o.value;g.payload=function(){return v(x)},g.callback=function(){la(0,o)}}var C=r.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(g.callback=function(){la(0,o),typeof v!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),g}function Uc(r,o,g){var v=r.pingCache;if(v===null){v=r.pingCache=new Y0;var x=new Set;v.set(o,x)}else(x=v.get(o))===void 0&&(x=new Set,v.set(o,x));x.has(g)||(x.add(g),r=G0.bind(null,r,o,g),o.then(r,r))}function Hc(r){do{var o;if((o=r.tag===13)&&(o=(o=r.memoizedState)===null||o.dehydrated!==null),o)return r;r=r.return}while(r!==null);return null}function Wc(r,o,g,v,x){return 1&r.mode?(r.flags|=65536,r.lanes=x,r):(r===o?r.flags|=65536:(r.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:((o=Gn(-1,1)).tag=2,ar(g,o,1))),g.lanes|=1),r)}var X0=m.ReactCurrentOwner,Vt=!1;function Ft(r,o,g,v){o.child=r===null?yc(o,null,g,v):ns(o,r.child,g,v)}function Gc(r,o,g,v,x){g=g.render;var C=o.ref;return ts(o,x),v=ta(r,o,g,v,C,x),g=na(),r===null||Vt?(Oe&&g&&Oo(o),o.flags|=1,Ft(r,o,v,x),o.child):(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~x,qn(r,o,x))}function qc(r,o,g,v,x){if(r===null){var C=g.type;return typeof C!="function"||Na(C)||C.defaultProps!==void 0||g.compare!==null||g.defaultProps!==void 0?((r=Wi(g.type,null,v,o,o.mode,x)).ref=o.ref,r.return=o,o.child=r):(o.tag=15,o.type=C,Qc(r,o,C,v,x))}if(C=r.child,(r.lanes&x)==0){var A=C.memoizedProps;if((g=(g=g.compare)!==null?g:gi)(A,v)&&r.ref===o.ref)return qn(r,o,x)}return o.flags|=1,(r=fr(C,v)).ref=o.ref,r.return=o,o.child=r}function Qc(r,o,g,v,x){if(r!==null){var C=r.memoizedProps;if(gi(C,v)&&r.ref===o.ref){if(Vt=!1,o.pendingProps=v=C,(r.lanes&x)==0)return o.lanes=r.lanes,qn(r,o,x);131072&r.flags&&(Vt=!0)}}return ca(r,o,g,v,x)}function Zc(r,o,g){var v=o.pendingProps,x=v.children,C=r!==null?r.memoizedState:null;if(v.mode==="hidden")if(!(1&o.mode))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(as,zt),zt|=g;else{if(!(1073741824&g))return r=C!==null?C.baseLanes|g:g,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,Ne(as,zt),zt|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=C!==null?C.baseLanes:g,Ne(as,zt),zt|=v}else C!==null?(v=C.baseLanes|g,o.memoizedState=null):v=g,Ne(as,zt),zt|=v;return Ft(r,o,x,g),o.child}function Jc(r,o){var g=o.ref;(r===null&&g!==null||r!==null&&r.ref!==g)&&(o.flags|=512,o.flags|=2097152)}function ca(r,o,g,v,x){var C=jt(g)?Mr:xt.current;return C=Qr(o,C),ts(o,x),g=ta(r,o,g,v,C,x),v=na(),r===null||Vt?(Oe&&v&&Oo(o),o.flags|=1,Ft(r,o,g,x),o.child):(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~x,qn(r,o,x))}function Kc(r,o,g,v,x){if(jt(g)){var C=!0;li(o)}else C=!1;if(ts(o,x),o.stateNode===null)Pi(r,o),pc(o,g,v),Go(o,g,v,x),v=!0;else if(r===null){var A=o.stateNode,M=o.memoizedProps;A.props=M;var O=A.context,Y=g.contextType;typeof Y=="object"&&Y!==null?Y=Kt(Y):Y=Qr(o,Y=jt(g)?Mr:xt.current);var z=g.getDerivedStateFromProps,K=typeof z=="function"||typeof A.getSnapshotBeforeUpdate=="function";K||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(M!==v||O!==Y)&&bc(o,A,v,Y),or=!1;var $=o.memoizedState;A.state=$,xi(o,v,A,x),O=o.memoizedState,M!==v||$!==O||Nt.current||or?(typeof z=="function"&&(Wo(o,g,z,v),O=o.memoizedState),(M=or||gc(o,g,M,v,$,O,Y))?(K||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=v,o.memoizedState=O),A.props=v,A.state=O,A.context=Y,v=M):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),v=!1)}else{A=o.stateNode,hc(r,o),M=o.memoizedProps,Y=o.type===o.elementType?M:fn(o.type,M),A.props=Y,K=o.pendingProps,$=A.context,typeof(O=g.contextType)=="object"&&O!==null?O=Kt(O):O=Qr(o,O=jt(g)?Mr:xt.current);var Z=g.getDerivedStateFromProps;(z=typeof Z=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(M!==K||$!==O)&&bc(o,A,v,O),or=!1,$=o.memoizedState,A.state=$,xi(o,v,A,x);var re=o.memoizedState;M!==K||$!==re||Nt.current||or?(typeof Z=="function"&&(Wo(o,g,Z,v),re=o.memoizedState),(Y=or||gc(o,g,Y,v,$,re,O)||!1)?(z||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(v,re,O),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(v,re,O)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||M===r.memoizedProps&&$===r.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&$===r.memoizedState||(o.flags|=1024),o.memoizedProps=v,o.memoizedState=re),A.props=v,A.state=re,A.context=O,v=Y):(typeof A.componentDidUpdate!="function"||M===r.memoizedProps&&$===r.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&$===r.memoizedState||(o.flags|=1024),v=!1)}return ua(r,o,g,v,C,x)}function ua(r,o,g,v,x,C){Jc(r,o);var A=(128&o.flags)!=0;if(!v&&!A)return x&&Jl(o,g,!1),qn(r,o,C);v=o.stateNode,X0.current=o;var M=A&&typeof g.getDerivedStateFromError!="function"?null:v.render();return o.flags|=1,r!==null&&A?(o.child=ns(o,r.child,null,C),o.child=ns(o,null,M,C)):Ft(r,o,M,C),o.memoizedState=v.state,x&&Jl(o,g,!0),o.child}function eu(r){var o=r.stateNode;o.pendingContext?Ql(0,o.pendingContext,o.pendingContext!==o.context):o.context&&Ql(0,o.context,!1),qo(r,o.containerInfo)}function tu(r,o,g,v,x){return Kr(),Xo(x),o.flags|=256,Ft(r,o,g,v),o.child}var Bs,Ys,Ti,Ai,ha={dehydrated:null,treeContext:null,retryLane:0};function da(r){return{baseLanes:r,cachePool:null,transitions:null}}function nu(r,o,g){var v,x=o.pendingProps,C=$e.current,A=!1,M=(128&o.flags)!=0;if((v=M)||(v=(r===null||r.memoizedState!==null)&&(2&C)!=0),v?(A=!0,o.flags&=-129):r!==null&&r.memoizedState===null||(C|=1),Ne($e,1&C),r===null)return Yo(o),(r=o.memoizedState)!==null&&(r=r.dehydrated)!==null?(1&o.mode?So(r)?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(M=x.children,r=x.fallback,A?(x=o.mode,A=o.child,M={mode:"hidden",children:M},!(1&x)&&A!==null?(A.childLanes=0,A.pendingProps=M):A=Gi(M,x,0,null),r=Xr(r,x,g,null),A.return=o,r.return=o,A.sibling=r,o.child=A,o.child.memoizedState=da(g),o.memoizedState=ha,r):fa(o,M));if((C=r.memoizedState)!==null&&(v=C.dehydrated)!==null)return function(Y,z,K,$,Z,re,de){if(K)return 256&z.flags?(z.flags&=-257,ki(Y,z,de,$=aa(Error(l(422))))):z.memoizedState!==null?(z.child=Y.child,z.flags|=128,null):(re=$.fallback,Z=z.mode,$=Gi({mode:"visible",children:$.children},Z,0,null),(re=Xr(re,Z,de,null)).flags|=2,$.return=z,re.return=z,$.sibling=re,z.child=$,1&z.mode&&ns(z,Y.child,null,de),z.child.memoizedState=da(de),z.memoizedState=ha,re);if(!(1&z.mode))return ki(Y,z,de,null);if(So(Z))return $=o0(Z).digest,re=Error(l(419)),$=aa(re,$,void 0),ki(Y,z,de,$);if(K=(de&Y.childLanes)!=0,Vt||K){if(($=ut)!==null){switch(de&-de){case 4:Z=2;break;case 16:Z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Z=32;break;case 536870912:Z=268435456;break;default:Z=0}(Z=Z&($.suspendedLanes|de)?0:Z)!==0&&Z!==re.retryLane&&(re.retryLane=Z,Pn(Y,Z),nn($,Y,Z,-1))}return Ma(),ki(Y,z,de,$=aa(Error(l(421))))}return ql(Z)?(z.flags|=128,z.child=Y.child,z=q0.bind(null,Y),a0(Z,z),null):(Y=re.treeContext,qt&&(Jt=u0(Z),$t=z,Oe=!0,dn=null,ks=!1,Y!==null&&(Qt[Zt++]=kn,Qt[Zt++]=Wn,Qt[Zt++]=Nr,kn=Y.id,Wn=Y.overflow,Nr=z)),z=fa(z,$.children),z.flags|=4096,z)}(r,o,M,x,v,C,g);if(A){A=x.fallback,M=o.mode,v=(C=r.child).sibling;var O={mode:"hidden",children:x.children};return!(1&M)&&o.child!==C?((x=o.child).childLanes=0,x.pendingProps=O,o.deletions=null):(x=fr(C,O)).subtreeFlags=14680064&C.subtreeFlags,v!==null?A=fr(v,A):(A=Xr(A,M,g,null)).flags|=2,A.return=o,x.return=o,x.sibling=A,o.child=x,x=A,A=o.child,M=(M=r.child.memoizedState)===null?da(g):{baseLanes:M.baseLanes|g,cachePool:null,transitions:M.transitions},A.memoizedState=M,A.childLanes=r.childLanes&~g,o.memoizedState=ha,x}return r=(A=r.child).sibling,x=fr(A,{mode:"visible",children:x.children}),!(1&o.mode)&&(x.lanes=g),x.return=o,x.sibling=null,r!==null&&((g=o.deletions)===null?(o.deletions=[r],o.flags|=16):g.push(r)),o.child=x,o.memoizedState=null,x}function fa(r,o){return(o=Gi({mode:"visible",children:o},r.mode,0,null)).return=r,r.child=o}function ki(r,o,g,v){return v!==null&&Xo(v),ns(o,r.child,null,g),(r=fa(o,o.pendingProps.children)).flags|=2,o.memoizedState=null,r}function ru(r,o,g){r.lanes|=o;var v=r.alternate;v!==null&&(v.lanes|=o),zo(r.return,o,g)}function ma(r,o,g,v,x){var C=r.memoizedState;C===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:x}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=g,C.tailMode=x)}function su(r,o,g){var v=o.pendingProps,x=v.revealOrder,C=v.tail;if(Ft(r,o,v.children,g),(2&(v=$e.current))!=0)v=1&v|2,o.flags|=128;else{if(r!==null&&128&r.flags)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ru(r,g,o);else if(r.tag===19)ru(r,g,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}v&=1}if(Ne($e,v),(1&o.mode)==0)o.memoizedState=null;else switch(x){case"forwards":for(g=o.child,x=null;g!==null;)(r=g.alternate)!==null&&Ei(r)===null&&(x=g),g=g.sibling;(g=x)===null?(x=o.child,o.child=null):(x=g.sibling,g.sibling=null),ma(o,!1,x,g,C);break;case"backwards":for(g=null,x=o.child,o.child=null;x!==null;){if((r=x.alternate)!==null&&Ei(r)===null){o.child=x;break}r=x.sibling,x.sibling=g,g=x,x=r}ma(o,!0,g,null,C);break;case"together":ma(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Pi(r,o){!(1&o.mode)&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function qn(r,o,g){if(r!==null&&(o.dependencies=r.dependencies),Lr|=o.lanes,(g&o.childLanes)==0)return null;if(r!==null&&o.child!==r.child)throw Error(l(153));if(o.child!==null){for(g=fr(r=o.child,r.pendingProps),o.child=g,g.return=o;r.sibling!==null;)r=r.sibling,(g=g.sibling=fr(r,r.pendingProps)).return=o;g.sibling=null}return o.child}function Vn(r){r.flags|=4}function iu(r,o){if(r!==null&&r.child===o.child)return!0;if(16&o.flags)return!1;for(r=o.child;r!==null;){if(12854&r.flags||12854&r.subtreeFlags)return!1;r=r.sibling}return!0}if(Dt)Bs=function(r,o){for(var g=o.child;g!==null;){if(g.tag===5||g.tag===6)ce(r,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break;for(;g.sibling===null;){if(g.return===null||g.return===o)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Ys=function(){},Ti=function(r,o,g,v,x){if((r=r.memoizedProps)!==v){var C=o.stateNode,A=Mn(en.current);g=In(C,g,r,v,x,A),(o.updateQueue=g)&&Vn(o)}},Ai=function(r,o,g,v){g!==v&&Vn(o)};else if(oi){Bs=function(r,o,g,v){for(var x=o.child;x!==null;){if(x.tag===5){var C=x.stateNode;g&&v&&(C=Wl(C,x.type,x.memoizedProps,x)),ce(r,C)}else if(x.tag===6)C=x.stateNode,g&&v&&(C=Gl(C,x.memoizedProps,x)),ce(r,C);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(C=x.child)!==null&&(C.return=x),Bs(r,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===o)break;for(;x.sibling===null;){if(x.return===null||x.return===o)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var ou=function(r,o,g,v){for(var x=o.child;x!==null;){if(x.tag===5){var C=x.stateNode;g&&v&&(C=Wl(C,x.type,x.memoizedProps,x)),Hl(r,C)}else if(x.tag===6)C=x.stateNode,g&&v&&(C=Gl(C,x.memoizedProps,x)),Hl(r,C);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(C=x.child)!==null&&(C.return=x),ou(r,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===o)break;for(;x.sibling===null;){if(x.return===null||x.return===o)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};Ys=function(r,o){var g=o.stateNode;if(!iu(r,o)){r=g.containerInfo;var v=Ul(r);ou(v,o,!1,!1),g.pendingChildren=v,Vn(o),n0(r,v)}},Ti=function(r,o,g,v,x){var C=r.stateNode,A=r.memoizedProps;if((r=iu(r,o))&&A===v)o.stateNode=C;else{var M=o.stateNode,O=Mn(en.current),Y=null;A!==v&&(Y=In(M,g,A,v,x,O)),r&&Y===null?o.stateNode=C:(C=t0(C,Y,g,A,v,o,r,M),Ar(C,g,v,x,O)&&Vn(o),o.stateNode=C,r?Vn(o):Bs(C,o,!1,!1))}},Ai=function(r,o,g,v){g!==v?(r=Mn(rs.current),g=Mn(en.current),o.stateNode=Rn(v,r,g,o),Vn(o)):o.stateNode=r.stateNode}}else Ys=function(){},Ti=function(){},Ai=function(){};function Xs(r,o){if(!Oe)switch(r.tailMode){case"hidden":o=r.tail;for(var g=null;o!==null;)o.alternate!==null&&(g=o),o=o.sibling;g===null?r.tail=null:g.sibling=null;break;case"collapsed":g=r.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:v.sibling=null}}function _t(r){var o=r.alternate!==null&&r.alternate.child===r.child,g=0,v=0;if(o)for(var x=r.child;x!==null;)g|=x.lanes|x.childLanes,v|=14680064&x.subtreeFlags,v|=14680064&x.flags,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)g|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=v,r.childLanes=g,o}function D0(r,o,g){var v=o.pendingProps;switch(Lo(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(o),null;case 1:case 17:return jt(o.type)&&Ro(),_t(o),null;case 3:return g=o.stateNode,ss(),Fe(Nt),Fe(xt),Jo(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),r!==null&&r.child!==null||(mi(o)?Vn(o):r===null||r.memoizedState.isDehydrated&&!(256&o.flags)||(o.flags|=1024,dn!==null&&(ka(dn),dn=null))),Ys(r,o),_t(o),null;case 5:Qo(o),g=Mn(rs.current);var x=o.type;if(r!==null&&o.stateNode!=null)Ti(r,o,x,v,g),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!v){if(o.stateNode===null)throw Error(l(166));return _t(o),null}if(r=Mn(en.current),mi(o)){if(!qt)throw Error(l(175));r=h0(o.stateNode,o.type,o.memoizedProps,g,r,o,!ks),o.updateQueue=r,r!==null&&Vn(o)}else{var C=pe(x,v,g,r,o);Bs(C,o,!1,!1),o.stateNode=C,Ar(C,x,v,g,r)&&Vn(o)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return _t(o),null;case 6:if(r&&o.stateNode!=null)Ai(r,o,r.memoizedProps,v);else{if(typeof v!="string"&&o.stateNode===null)throw Error(l(166));if(r=Mn(rs.current),g=Mn(en.current),mi(o)){if(!qt)throw Error(l(176));if(r=o.stateNode,g=o.memoizedProps,(v=d0(r,g,o,!ks))&&(x=$t)!==null)switch(x.tag){case 3:y0(x.stateNode.containerInfo,r,g,(1&x.mode)!=0);break;case 5:w0(x.type,x.memoizedProps,x.stateNode,r,g,(1&x.mode)!=0)}v&&Vn(o)}else o.stateNode=Rn(v,r,g,o)}return _t(o),null;case 13:if(Fe($e),v=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Oe&&Jt!==null&&1&o.mode&&!(128&o.flags))lc(),Kr(),o.flags|=98560,x=!1;else if(x=mi(o),v!==null&&v.dehydrated!==null){if(r===null){if(!x)throw Error(l(318));if(!qt)throw Error(l(344));if(!(x=(x=o.memoizedState)!==null?x.dehydrated:null))throw Error(l(317));f0(x,o)}else Kr(),!(128&o.flags)&&(o.memoizedState=null),o.flags|=4;_t(o),x=!1}else dn!==null&&(ka(dn),dn=null),x=!0;if(!x)return 65536&o.flags?o:null}return 128&o.flags?(o.lanes=g,o):((g=v!==null)!=(r!==null&&r.memoizedState!==null)&&g&&(o.child.flags|=8192,1&o.mode&&(r===null||1&$e.current?it===0&&(it=3):Ma())),o.updateQueue!==null&&(o.flags|=4),_t(o),null);case 4:return ss(),Ys(r,o),r===null&&kf(o.stateNode.containerInfo),_t(o),null;case 10:return $o(o.type._context),_t(o),null;case 19:if(Fe($e),(x=o.memoizedState)===null)return _t(o),null;if(v=(128&o.flags)!=0,(C=x.rendering)===null)if(v)Xs(x,!1);else{if(it!==0||r!==null&&128&r.flags)for(r=o.child;r!==null;){if((C=Ei(r))!==null){for(o.flags|=128,Xs(x,!1),(r=C.updateQueue)!==null&&(o.updateQueue=r,o.flags|=4),o.subtreeFlags=0,r=g,g=o.child;g!==null;)x=r,(v=g).flags&=14680066,(C=v.alternate)===null?(v.childLanes=0,v.lanes=x,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=C.childLanes,v.lanes=C.lanes,v.child=C.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=C.memoizedProps,v.memoizedState=C.memoizedState,v.updateQueue=C.updateQueue,v.type=C.type,x=C.dependencies,v.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),g=g.sibling;return Ne($e,1&$e.current|2),o.child}r=r.sibling}x.tail!==null&&at()>Ia&&(o.flags|=128,v=!0,Xs(x,!1),o.lanes=4194304)}else{if(!v)if((r=Ei(C))!==null){if(o.flags|=128,v=!0,(r=r.updateQueue)!==null&&(o.updateQueue=r,o.flags|=4),Xs(x,!0),x.tail===null&&x.tailMode==="hidden"&&!C.alternate&&!Oe)return _t(o),null}else 2*at()-x.renderingStartTime>Ia&&g!==1073741824&&(o.flags|=128,v=!0,Xs(x,!1),o.lanes=4194304);x.isBackwards?(C.sibling=o.child,o.child=C):((r=x.last)!==null?r.sibling=C:o.child=C,x.last=C)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=at(),o.sibling=null,r=$e.current,Ne($e,v?1&r|2:1&r),o):(_t(o),null);case 22:case 23:return Pa(),g=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==g&&(o.flags|=8192),g&&1&o.mode?1073741824&zt&&(_t(o),Dt&&6&o.subtreeFlags&&(o.flags|=8192)):_t(o),null;case 24:case 25:return null}throw Error(l(156,o.tag))}function j0(r,o){switch(Lo(o),o.tag){case 1:return jt(o.type)&&Ro(),65536&(r=o.flags)?(o.flags=-65537&r|128,o):null;case 3:return ss(),Fe(Nt),Fe(xt),Jo(),65536&(r=o.flags)&&!(128&r)?(o.flags=-65537&r|128,o):null;case 5:return Qo(o),null;case 13:if(Fe($e),(r=o.memoizedState)!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(l(340));Kr()}return 65536&(r=o.flags)?(o.flags=-65537&r|128,o):null;case 19:return Fe($e),null;case 4:return ss(),null;case 10:return $o(o.type._context),null;case 22:case 23:return Pa(),null;default:return null}}var Mi=!1,wt=!1,$0=typeof WeakSet=="function"?WeakSet:Set,ne=null;function os(r,o){var g=r.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(v){Le(r,o,v)}else g.current=null}function au(r,o,g){try{g()}catch(v){Le(r,o,v)}}var lu=!1;function Ds(r,o,g){var v=o.updateQueue;if((v=v!==null?v.lastEffect:null)!==null){var x=v=v.next;do{if((x.tag&r)===r){var C=x.destroy;x.destroy=void 0,C!==void 0&&au(o,g,C)}x=x.next}while(x!==v)}}function Ni(r,o){if((o=(o=o.updateQueue)!==null?o.lastEffect:null)!==null){var g=o=o.next;do{if((g.tag&r)===r){var v=g.create;g.destroy=v()}g=g.next}while(g!==o)}}function ga(r){var o=r.ref;if(o!==null){var g=r.stateNode;r.tag===5?r=Se(g):r=g,typeof o=="function"?o(r):o.current=r}}function cu(r){var o=r.alternate;o!==null&&(r.alternate=null,cu(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode)!==null&&Mf(o),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function uu(r){return r.tag===5||r.tag===3||r.tag===4}function hu(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||uu(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(2&r.flags||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(2&r.flags))return r.stateNode}}function pa(r,o,g){var v=r.tag;if(v===5||v===6)r=r.stateNode,o?Wf(g,r,o):jf(g,r);else if(v!==4&&(r=r.child)!==null)for(pa(r,o,g),r=r.sibling;r!==null;)pa(r,o,g),r=r.sibling}function ba(r,o,g){var v=r.tag;if(v===5||v===6)r=r.stateNode,o?Hf(g,r,o):Df(g,r);else if(v!==4&&(r=r.child)!==null)for(ba(r,o,g),r=r.sibling;r!==null;)ba(r,o,g),r=r.sibling}var It=null,Fn=!1;function On(r,o,g){for(g=g.child;g!==null;)va(r,o,g),g=g.sibling}function va(r,o,g){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(ui,g)}catch{}switch(g.tag){case 5:wt||os(g,o);case 6:if(Dt){var v=It,x=Fn;It=null,On(r,o,g),Fn=x,(It=v)!==null&&(Fn?qf(It,g.stateNode):Gf(It,g.stateNode))}else On(r,o,g);break;case 18:Dt&&It!==null&&(Fn?v0(It,g.stateNode):b0(It,g.stateNode));break;case 4:Dt?(v=It,x=Fn,It=g.stateNode.containerInfo,Fn=!0,On(r,o,g),It=v,Fn=x):(oi&&(v=g.stateNode.containerInfo,x=Ul(v),Eo(v,x)),On(r,o,g));break;case 0:case 11:case 14:case 15:if(!wt&&(v=g.updateQueue)!==null&&(v=v.lastEffect)!==null){x=v=v.next;do{var C=x,A=C.destroy;C=C.tag,A!==void 0&&(2&C||4&C)&&au(g,o,A),x=x.next}while(x!==v)}On(r,o,g);break;case 1:if(!wt&&(os(g,o),typeof(v=g.stateNode).componentWillUnmount=="function"))try{v.props=g.memoizedProps,v.state=g.memoizedState,v.componentWillUnmount()}catch(M){Le(g,o,M)}On(r,o,g);break;case 21:On(r,o,g);break;case 22:1&g.mode?(wt=(v=wt)||g.memoizedState!==null,On(r,o,g),wt=v):On(r,o,g);break;default:On(r,o,g)}}function du(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var g=r.stateNode;g===null&&(g=r.stateNode=new $0),o.forEach(function(v){var x=Q0.bind(null,r,v);g.has(v)||(g.add(v),v.then(x,x))})}}function mn(r,o){var g=o.deletions;if(g!==null)for(var v=0;v<g.length;v++){var x=g[v];try{var C=r,A=o;if(Dt){var M=A;e:for(;M!==null;){switch(M.tag){case 5:It=M.stateNode,Fn=!1;break e;case 3:case 4:It=M.stateNode.containerInfo,Fn=!0;break e}M=M.return}if(It===null)throw Error(l(160));va(C,A,x),It=null,Fn=!1}else va(C,A,x);var O=x.alternate;O!==null&&(O.return=null),x.return=null}catch(Y){Le(x,o,Y)}}if(12854&o.subtreeFlags)for(o=o.child;o!==null;)fu(o,r),o=o.sibling}function fu(r,o){var g=r.alternate,v=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(mn(o,r),Ln(r),4&v){try{Ds(3,r,r.return),Ni(3,r)}catch($){Le(r,r.return,$)}try{Ds(5,r,r.return)}catch($){Le(r,r.return,$)}}break;case 1:mn(o,r),Ln(r),512&v&&g!==null&&os(g,g.return);break;case 5:if(mn(o,r),Ln(r),512&v&&g!==null&&os(g,g.return),Dt){if(32&r.flags){var x=r.stateNode;try{zl(x)}catch($){Le(r,r.return,$)}}if(4&v&&(x=r.stateNode)!=null){var C=r.memoizedProps;if(g=g!==null?g.memoizedProps:C,v=r.type,o=r.updateQueue,r.updateQueue=null,o!==null)try{Uf(x,o,v,g,C,r)}catch($){Le(r,r.return,$)}}}break;case 6:if(mn(o,r),Ln(r),4&v&&Dt){if(r.stateNode===null)throw Error(l(162));x=r.stateNode,C=r.memoizedProps,g=g!==null?g.memoizedProps:C;try{$f(x,g,C)}catch($){Le(r,r.return,$)}}break;case 3:if(mn(o,r),Ln(r),4&v){if(Dt&&qt&&g!==null&&g.memoizedState.isDehydrated)try{g0(o.containerInfo)}catch($){Le(r,r.return,$)}if(oi){x=o.containerInfo,C=o.pendingChildren;try{Eo(x,C)}catch($){Le(r,r.return,$)}}}break;case 4:if(mn(o,r),Ln(r),4&v&&oi){x=(C=r.stateNode).containerInfo,C=C.pendingChildren;try{Eo(x,C)}catch($){Le(r,r.return,$)}}break;case 13:mn(o,r),Ln(r),8192&(x=r.child).flags&&(C=x.memoizedState!==null,x.stateNode.isHidden=C,!C||x.alternate!==null&&x.alternate.memoizedState!==null||(_a=at())),4&v&&du(r);break;case 22:var A=g!==null&&g.memoizedState!==null;if(1&r.mode?(wt=(g=wt)||A,mn(o,r),wt=g):mn(o,r),Ln(r),8192&v){if(g=r.memoizedState!==null,(r.stateNode.isHidden=g)&&!A&&(1&r.mode)!=0)for(ne=r,v=r.child;v!==null;){for(o=ne=v;ne!==null;){var M=(A=ne).child;switch(A.tag){case 0:case 11:case 14:case 15:Ds(4,A,A.return);break;case 1:os(A,A.return);var O=A.stateNode;if(typeof O.componentWillUnmount=="function"){var Y=A,z=A.return;try{var K=Y;O.props=K.memoizedProps,O.state=K.memoizedState,O.componentWillUnmount()}catch($){Le(Y,z,$)}}break;case 5:os(A,A.return);break;case 22:if(A.memoizedState!==null){pu(o);continue}}M!==null?(M.return=A,ne=M):pu(o)}v=v.sibling}if(Dt){e:if(v=null,Dt)for(o=r;;){if(o.tag===5){if(v===null){v=o;try{x=o.stateNode,g?Qf(x):Jf(o.stateNode,o.memoizedProps)}catch($){Le(r,r.return,$)}}}else if(o.tag===6){if(v===null)try{C=o.stateNode,g?Zf(C):Kf(C,o.memoizedProps)}catch($){Le(r,r.return,$)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;v===o&&(v=null),o=o.return}v===o&&(v=null),o.sibling.return=o.return,o=o.sibling}}}break;case 19:mn(o,r),Ln(r),4&v&&du(r);break;case 21:break;default:mn(o,r),Ln(r)}}function Ln(r){var o=r.flags;if(2&o){try{if(Dt){e:{for(var g=r.return;g!==null;){if(uu(g)){var v=g;break e}g=g.return}throw Error(l(160))}switch(v.tag){case 5:var x=v.stateNode;32&v.flags&&(zl(x),v.flags&=-33),ba(r,hu(r),x);break;case 3:case 4:var C=v.stateNode.containerInfo;pa(r,hu(r),C);break;default:throw Error(l(161))}}}catch(A){Le(r,r.return,A)}r.flags&=-3}4096&o&&(r.flags&=-4097)}function z0(r,o,g){ne=r,mu(r)}function mu(r,o,g){for(var v=(1&r.mode)!=0;ne!==null;){var x=ne,C=x.child;if(x.tag===22&&v){var A=x.memoizedState!==null||Mi;if(!A){var M=x.alternate,O=M!==null&&M.memoizedState!==null||wt;M=Mi;var Y=wt;if(Mi=A,(wt=O)&&!Y)for(ne=x;ne!==null;)O=(A=ne).child,A.tag===22&&A.memoizedState!==null?bu(x):O!==null?(O.return=A,ne=O):bu(x);for(;C!==null;)ne=C,mu(C),C=C.sibling;ne=x,Mi=M,wt=Y}gu(r)}else 8772&x.subtreeFlags&&C!==null?(C.return=x,ne=C):gu(r)}}function gu(r){for(;ne!==null;){var o=ne;if(8772&o.flags){var g=o.alternate;try{if(8772&o.flags)switch(o.tag){case 0:case 11:case 15:wt||Ni(5,o);break;case 1:var v=o.stateNode;if(4&o.flags&&!wt)if(g===null)v.componentDidMount();else{var x=o.elementType===o.type?g.memoizedProps:fn(o.type,g.memoizedProps);v.componentDidUpdate(x,g.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var C=o.updateQueue;C!==null&&fc(o,C,v);break;case 3:var A=o.updateQueue;if(A!==null){if(g=null,o.child!==null)switch(o.child.tag){case 5:g=Se(o.child.stateNode);break;case 1:g=o.child.stateNode}fc(o,A,g)}break;case 5:var M=o.stateNode;g===null&&4&o.flags&&zf(M,o.type,o.memoizedProps,o);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(qt&&o.memoizedState===null){var O=o.alternate;if(O!==null){var Y=O.memoizedState;if(Y!==null){var z=Y.dehydrated;z!==null&&p0(z)}}}break;default:throw Error(l(163))}wt||512&o.flags&&ga(o)}catch(K){Le(o,o.return,K)}}if(o===r){ne=null;break}if((g=o.sibling)!==null){g.return=o.return,ne=g;break}ne=o.return}}function pu(r){for(;ne!==null;){var o=ne;if(o===r){ne=null;break}var g=o.sibling;if(g!==null){g.return=o.return,ne=g;break}ne=o.return}}function bu(r){for(;ne!==null;){var o=ne;try{switch(o.tag){case 0:case 11:case 15:var g=o.return;try{Ni(4,o)}catch(O){Le(o,g,O)}break;case 1:var v=o.stateNode;if(typeof v.componentDidMount=="function"){var x=o.return;try{v.componentDidMount()}catch(O){Le(o,x,O)}}var C=o.return;try{ga(o)}catch(O){Le(o,C,O)}break;case 5:var A=o.return;try{ga(o)}catch(O){Le(o,A,O)}}}catch(O){Le(o,o.return,O)}if(o===r){ne=null;break}var M=o.sibling;if(M!==null){M.return=o.return,ne=M;break}ne=o.return}}var Vi=0,Fi=1,Oi=2,Li=3,Bi=4;if(typeof Symbol=="function"&&Symbol.for){var js=Symbol.for;Vi=js("selector.component"),Fi=js("selector.has_pseudo_class"),Oi=js("selector.role"),Li=js("selector.test_id"),Bi=js("selector.text")}function xa(r){var o=Af(r);if(o!=null){if(typeof o.memoizedProps["data-testname"]!="string")throw Error(l(364));return o}if((r=Ff(r))===null)throw Error(l(362));return r.stateNode.current}function ya(r,o){switch(o.$$typeof){case Vi:if(r.type===o.value)return!0;break;case Fi:e:{o=o.value,r=[r,0];for(var g=0;g<r.length;){var v=r[g++],x=r[g++],C=o[x];if(v.tag!==5||!Is(v)){for(;C!=null&&ya(v,C);)C=o[++x];if(x===o.length){o=!0;break e}for(v=v.child;v!==null;)r.push(v,x),v=v.sibling}}o=!1}return o;case Oi:if(r.tag===5&&Bf(r.stateNode,o.value))return!0;break;case Bi:if((r.tag===5||r.tag===6)&&(r=Lf(r))!==null&&0<=r.indexOf(o.value))return!0;break;case Li:if(r.tag===5&&typeof(r=r.memoizedProps["data-testname"])=="string"&&r.toLowerCase()===o.value.toLowerCase())return!0;break;default:throw Error(l(365))}return!1}function wa(r){switch(r.$$typeof){case Vi:return"<"+(T(r.value)||"Unknown")+">";case Fi:return":has("+(wa(r)||"")+")";case Oi:return'[role="'+r.value+'"]';case Bi:return'"'+r.value+'"';case Li:return'[data-testname="'+r.value+'"]';default:throw Error(l(365))}}function vu(r,o){var g=[];r=[r,0];for(var v=0;v<r.length;){var x=r[v++],C=r[v++],A=o[C];if(x.tag!==5||!Is(x)){for(;A!=null&&ya(x,A);)A=o[++C];if(C===o.length)g.push(x);else for(x=x.child;x!==null;)r.push(x,C),x=x.sibling}}return g}function Ea(r,o){if(!_s)throw Error(l(363));r=vu(r=xa(r),o),o=[],r=Array.from(r);for(var g=0;g<r.length;){var v=r[g++];if(v.tag===5)Is(v)||o.push(v.stateNode);else for(v=v.child;v!==null;)r.push(v),v=v.sibling}return o}var U0=Math.ceil,Yi=m.ReactCurrentDispatcher,Sa=m.ReactCurrentOwner,Ge=m.ReactCurrentBatchConfig,ve=0,ut=null,et=null,mt=0,zt=0,as=sr(0),it=0,$s=null,Lr=0,Xi=0,Ca=0,zs=null,Ut=null,_a=0,Ia=1/0,lr=null;function ls(){Ia=at()+500}var xu,Di=!1,Ra=null,cr=null,ji=!1,ur=null,$i=0,Us=0,Ta=null,zi=-1,Ui=0;function Et(){return 6&ve?at():zi!==-1?zi:zi=at()}function hr(r){return 1&r.mode?2&ve&&mt!==0?mt&-mt:k0.transition!==null?(Ui===0&&(Ui=Kl()),Ui):(r=_e)!==0?r:Pf():1}function nn(r,o,g,v){if(50<Us)throw Us=0,Ta=null,Error(l(185));As(r,g,v),2&ve&&r===ut||(r===ut&&(!(2&ve)&&(Xi|=g),it===4&&dr(r,mt)),Ot(r,v),g===1&&ve===0&&!(1&o.mode)&&(ls(),hi&&An()))}function Ot(r,o){var g=r.callbackNode;(function(x,C){for(var A=x.suspendedLanes,M=x.pingedLanes,O=x.expirationTimes,Y=x.pendingLanes;0<Y;){var z=31-un(Y),K=1<<z,$=O[z];$===-1?K&A&&!(K&M)||(O[z]=_0(K,C)):$<=C&&(x.expiredLanes|=K),Y&=~K}})(r,o);var v=ci(r,r===ut?mt:0);if(v===0)g!==null&&tc(g),r.callbackNode=null,r.callbackPriority=0;else if(o=v&-v,r.callbackPriority!==o){if(g!=null&&tc(g),o===1)r.tag===0?function(x){hi=!0,rc(x)}(wu.bind(null,r)):rc(wu.bind(null,r)),Nf?Vf(function(){!(6&ve)&&An()}):No(Vo,An),g=null;else{switch(ec(v)){case 1:g=Vo;break;case 4:g=T0;break;case 16:default:g=nc;break;case 536870912:g=A0}g=Au(g,yu.bind(null,r))}r.callbackPriority=o,r.callbackNode=g}}function yu(r,o){if(zi=-1,Ui=0,(6&ve)!=0)throw Error(l(327));var g=r.callbackNode;if(Yr()&&r.callbackNode!==g)return null;var v=ci(r,r===ut?mt:0);if(v===0)return null;if(30&v||v&r.expiredLanes||o)o=Hi(r,v);else{o=v;var x=ve;ve|=2;var C=Cu();for(ut===r&&mt===o||(lr=null,ls(),Br(r,o));;)try{W0();break}catch(M){Su(r,M)}jo(),Yi.current=C,ve=x,et!==null?o=0:(ut=null,mt=0,o=it)}if(o!==0){if(o===2&&(x=ko(r))!==0&&(v=x,o=Aa(r,x)),o===1)throw g=$s,Br(r,0),dr(r,v),Ot(r,at()),g;if(o===6)dr(r,v);else{if(x=r.current.alternate,(30&v)==0&&!function(M){for(var O=M;;){if(16384&O.flags){var Y=O.updateQueue;if(Y!==null&&(Y=Y.stores)!==null)for(var z=0;z<Y.length;z++){var K=Y[z],$=K.getSnapshot;K=K.value;try{if(!hn($(),K))return!1}catch{return!1}}}if(Y=O.child,16384&O.subtreeFlags&&Y!==null)Y.return=O,O=Y;else{if(O===M)break;for(;O.sibling===null;){if(O.return===null||O.return===M)return!0;O=O.return}O.sibling.return=O.return,O=O.sibling}}return!0}(x)&&((o=Hi(r,v))===2&&(C=ko(r))!==0&&(v=C,o=Aa(r,C)),o===1))throw g=$s,Br(r,0),dr(r,v),Ot(r,at()),g;switch(r.finishedWork=x,r.finishedLanes=v,o){case 0:case 1:throw Error(l(345));case 2:case 5:cs(r,Ut,lr);break;case 3:if(dr(r,v),(130023424&v)===v&&10<(o=_a+500-at())){if(ci(r,0)!==0)break;if(((x=r.suspendedLanes)&v)!==v){Et(),r.pingedLanes|=r.suspendedLanes&x;break}r.timeoutHandle=Pr(cs.bind(null,r,Ut,lr),o);break}cs(r,Ut,lr);break;case 4:if(dr(r,v),(4194240&v)===v)break;for(o=r.eventTimes,x=-1;0<v;){var A=31-un(v);C=1<<A,(A=o[A])>x&&(x=A),v&=~C}if(v=x,10<(v=(120>(v=at()-v)?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*U0(v/1960))-v)){r.timeoutHandle=Pr(cs.bind(null,r,Ut,lr),v);break}cs(r,Ut,lr);break;default:throw Error(l(329))}}}return Ot(r,at()),r.callbackNode===g?yu.bind(null,r):null}function Aa(r,o){var g=zs;return r.current.memoizedState.isDehydrated&&(Br(r,o).flags|=256),(r=Hi(r,o))!==2&&(o=Ut,Ut=g,o!==null&&ka(o)),r}function ka(r){Ut===null?Ut=r:Ut.push.apply(Ut,r)}function dr(r,o){for(o&=~Ca,o&=~Xi,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var g=31-un(o),v=1<<g;r[g]=-1,o&=~v}}function wu(r){if(6&ve)throw Error(l(327));Yr();var o=ci(r,0);if(!(1&o))return Ot(r,at()),null;var g=Hi(r,o);if(r.tag!==0&&g===2){var v=ko(r);v!==0&&(o=v,g=Aa(r,v))}if(g===1)throw g=$s,Br(r,0),dr(r,o),Ot(r,at()),g;if(g===6)throw Error(l(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,cs(r,Ut,lr),Ot(r,at()),null}function Eu(r){ur!==null&&ur.tag===0&&!(6&ve)&&Yr();var o=ve;ve|=1;var g=Ge.transition,v=_e;try{if(Ge.transition=null,_e=1,r)return r()}finally{_e=v,Ge.transition=g,!(6&(ve=o))&&An()}}function Pa(){zt=as.current,Fe(as)}function Br(r,o){r.finishedWork=null,r.finishedLanes=0;var g=r.timeoutHandle;if(g!==wo&&(r.timeoutHandle=wo,Tf(g)),et!==null)for(g=et.return;g!==null;){var v=g;switch(Lo(v),v.tag){case 1:(v=v.type.childContextTypes)!=null&&Ro();break;case 3:ss(),Fe(Nt),Fe(xt),Jo();break;case 5:Qo(v);break;case 4:ss();break;case 13:case 19:Fe($e);break;case 10:$o(v.type._context);break;case 22:case 23:Pa()}g=g.return}if(ut=r,et=r=fr(r.current,null),mt=zt=o,it=0,$s=null,Ca=Xi=Lr=0,Ut=zs=null,Fr!==null){for(o=0;o<Fr.length;o++)if((v=(g=Fr[o]).interleaved)!==null){g.interleaved=null;var x=v.next,C=g.pending;if(C!==null){var A=C.next;C.next=x,v.next=A}g.pending=v}Fr=null}return r}function Su(r,o){for(;;){var g=et;try{if(jo(),Si.current=Ri,Ci){for(var v=Be.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}Ci=!1}if(Or=0,ct=lt=Be=null,Vs=!1,Fs=0,Sa.current=null,g===null||g.return===null){it=1,$s=o,et=null;break}e:{var C=r,A=g.return,M=g,O=o;if(o=mt,M.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=O,z=M,K=z.tag;if(!(1&z.mode)&&(K===0||K===11||K===15)){var $=z.alternate;$?(z.updateQueue=$.updateQueue,z.memoizedState=$.memoizedState,z.lanes=$.lanes):(z.updateQueue=null,z.memoizedState=null)}var Z=Hc(A);if(Z!==null){Z.flags&=-257,Wc(Z,A,M,0,o),1&Z.mode&&Uc(C,Y,o),O=Y;var re=(o=Z).updateQueue;if(re===null){var de=new Set;de.add(O),o.updateQueue=de}else re.add(O);break e}if(!(1&o)){Uc(C,Y,o),Ma();break e}O=Error(l(426))}else if(Oe&&1&M.mode){var U=Hc(A);if(U!==null){!(65536&U.flags)&&(U.flags|=256),Wc(U,A,M,0,o),Xo(is(O,M));break e}}C=O=is(O,M),it!==4&&(it=2),zs===null?zs=[C]:zs.push(C),C=A;do{switch(C.tag){case 3:C.flags|=65536,o&=-o,C.lanes|=o,dc(C,$c(0,O,o));break e;case 1:M=O;var V=C.type,B=C.stateNode;if(!(128&C.flags)&&(typeof V.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(cr===null||!cr.has(B)))){C.flags|=65536,o&=-o,C.lanes|=o,dc(C,zc(C,M,o));break e}}C=C.return}while(C!==null)}Iu(g)}catch(G){o=G,et===g&&g!==null&&(et=g=g.return);continue}break}}function Cu(){var r=Yi.current;return Yi.current=Ri,r===null?Ri:r}function Ma(){it!==0&&it!==3&&it!==2||(it=4),ut===null||!(268435455&Lr)&&!(268435455&Xi)||dr(ut,mt)}function Hi(r,o){var g=ve;ve|=2;var v=Cu();for(ut===r&&mt===o||(lr=null,Br(r,o));;)try{H0();break}catch(x){Su(r,x)}if(jo(),ve=g,Yi.current=v,et!==null)throw Error(l(261));return ut=null,mt=0,it}function H0(){for(;et!==null;)_u(et)}function W0(){for(;et!==null&&!I0();)_u(et)}function _u(r){var o=xu(r.alternate,r,zt);r.memoizedProps=r.pendingProps,o===null?Iu(r):et=o,Sa.current=null}function Iu(r){var o=r;do{var g=o.alternate;if(r=o.return,(32768&o.flags)==0){if((g=D0(g,o,zt))!==null)return void(et=g)}else{if((g=j0(g,o))!==null)return g.flags&=32767,void(et=g);if(r===null)return it=6,void(et=null);r.flags|=32768,r.subtreeFlags=0,r.deletions=null}if((o=o.sibling)!==null)return void(et=o);et=o=r}while(o!==null);it===0&&(it=5)}function cs(r,o,g){var v=_e,x=Ge.transition;try{Ge.transition=null,_e=1,function(C,A,M,O){do Yr();while(ur!==null);if(6&ve)throw Error(l(327));M=C.finishedWork;var Y=C.finishedLanes;if(M===null)return null;if(C.finishedWork=null,C.finishedLanes=0,M===C.current)throw Error(l(177));C.callbackNode=null,C.callbackPriority=0;var z=M.lanes|M.childLanes;if(function(Z,re){var de=Z.pendingLanes&~re;Z.pendingLanes=re,Z.suspendedLanes=0,Z.pingedLanes=0,Z.expiredLanes&=re,Z.mutableReadLanes&=re,Z.entangledLanes&=re,re=Z.entanglements;var U=Z.eventTimes;for(Z=Z.expirationTimes;0<de;){var V=31-un(de),B=1<<V;re[V]=0,U[V]=-1,Z[V]=-1,de&=~B}}(C,z),C===ut&&(et=ut=null,mt=0),!(2064&M.subtreeFlags)&&!(2064&M.flags)||ji||(ji=!0,Au(nc,function(){return Yr(),null})),z=(15990&M.flags)!=0,(15990&M.subtreeFlags)!=0||z){z=Ge.transition,Ge.transition=null;var K=_e;_e=1;var $=ve;ve|=4,Sa.current=null,function(Z,re){for(te(Z.containerInfo),ne=re;ne!==null;)if(re=(Z=ne).child,(1028&Z.subtreeFlags)!=0&&re!==null)re.return=Z,ne=re;else for(;ne!==null;){Z=ne;try{var de=Z.alternate;if(1024&Z.flags)switch(Z.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(de!==null){var U=de.memoizedProps,V=de.memoizedState,B=Z.stateNode,G=B.getSnapshotBeforeUpdate(Z.elementType===Z.type?U:fn(Z.type,U),V);B.__reactInternalSnapshotBeforeUpdate=G}break;case 3:Dt&&e0(Z.stateNode.containerInfo);break;default:throw Error(l(163))}}catch(ae){Le(Z,Z.return,ae)}if((re=Z.sibling)!==null){re.return=Z.return,ne=re;break}ne=Z.return}de=lu,lu=!1}(C,M),fu(M,C),le(C.containerInfo),C.current=M,z0(M),R0(),ve=$,_e=K,Ge.transition=z}else C.current=M;if(ji&&(ji=!1,ur=C,$i=Y),z=C.pendingLanes,z===0&&(cr=null),function(Z){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(ui,Z,void 0,(128&Z.current.flags)==128)}catch{}}(M.stateNode),Ot(C,at()),A!==null)for(O=C.onRecoverableError,M=0;M<A.length;M++)Y=A[M],O(Y.value,{componentStack:Y.stack,digest:Y.digest});if(Di)throw Di=!1,C=Ra,Ra=null,C;1&$i&&C.tag!==0&&Yr(),z=C.pendingLanes,1&z?C===Ta?Us++:(Us=0,Ta=C):Us=0,An()}(r,o,g,v)}finally{Ge.transition=x,_e=v}return null}function Yr(){if(ur!==null){var r=ec($i),o=Ge.transition,g=_e;try{if(Ge.transition=null,_e=16>r?16:r,ur===null)var v=!1;else{if(r=ur,ur=null,$i=0,(6&ve)!=0)throw Error(l(331));var x=ve;for(ve|=4,ne=r.current;ne!==null;){var C=ne,A=C.child;if(16&ne.flags){var M=C.deletions;if(M!==null){for(var O=0;O<M.length;O++){var Y=M[O];for(ne=Y;ne!==null;){var z=ne;switch(z.tag){case 0:case 11:case 15:Ds(8,z,C)}var K=z.child;if(K!==null)K.return=z,ne=K;else for(;ne!==null;){var $=(z=ne).sibling,Z=z.return;if(cu(z),z===Y){ne=null;break}if($!==null){$.return=Z,ne=$;break}ne=Z}}}var re=C.alternate;if(re!==null){var de=re.child;if(de!==null){re.child=null;do{var U=de.sibling;de.sibling=null,de=U}while(de!==null)}}ne=C}}if(2064&C.subtreeFlags&&A!==null)A.return=C,ne=A;else e:for(;ne!==null;){if(2048&(C=ne).flags)switch(C.tag){case 0:case 11:case 15:Ds(9,C,C.return)}var V=C.sibling;if(V!==null){V.return=C.return,ne=V;break e}ne=C.return}}var B=r.current;for(ne=B;ne!==null;){var G=(A=ne).child;if(2064&A.subtreeFlags&&G!==null)G.return=A,ne=G;else e:for(A=B;ne!==null;){if(2048&(M=ne).flags)try{switch(M.tag){case 0:case 11:case 15:Ni(9,M)}}catch(Te){Le(M,M.return,Te)}if(M===A){ne=null;break e}var ae=M.sibling;if(ae!==null){ae.return=M.return,ne=ae;break e}ne=M.return}}if(ve=x,An(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(ui,r)}catch{}v=!0}return v}finally{_e=g,Ge.transition=o}}return!1}function Ru(r,o,g){r=ar(r,o=$c(0,o=is(g,o),1),1),o=Et(),r!==null&&(As(r,1,o),Ot(r,o))}function Le(r,o,g){if(r.tag===3)Ru(r,r,g);else for(;o!==null;){if(o.tag===3){Ru(o,r,g);break}if(o.tag===1){var v=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(cr===null||!cr.has(v))){o=ar(o,r=zc(o,r=is(g,r),1),1),r=Et(),o!==null&&(As(o,1,r),Ot(o,r));break}}o=o.return}}function G0(r,o,g){var v=r.pingCache;v!==null&&v.delete(o),o=Et(),r.pingedLanes|=r.suspendedLanes&g,ut===r&&(mt&g)===g&&(it===4||it===3&&(130023424&mt)===mt&&500>at()-_a?Br(r,0):Ca|=g),Ot(r,o)}function Tu(r,o){o===0&&(1&r.mode?(o=Ao,!(130023424&(Ao<<=1))&&(Ao=4194304)):o=1);var g=Et();(r=Pn(r,o))!==null&&(As(r,o,g),Ot(r,g))}function q0(r){var o=r.memoizedState,g=0;o!==null&&(g=o.retryLane),Tu(r,g)}function Q0(r,o){var g=0;switch(r.tag){case 13:var v=r.stateNode,x=r.memoizedState;x!==null&&(g=x.retryLane);break;case 19:v=r.stateNode;break;default:throw Error(l(314))}v!==null&&v.delete(o),Tu(r,g)}function Au(r,o){return No(r,o)}function Z0(r,o,g,v){this.tag=r,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(r,o,g,v){return new Z0(r,o,g,v)}function Na(r){return!(!(r=r.prototype)||!r.isReactComponent)}function fr(r,o){var g=r.alternate;return g===null?((g=rn(r.tag,o,r.key,r.mode)).elementType=r.elementType,g.type=r.type,g.stateNode=r.stateNode,g.alternate=r,r.alternate=g):(g.pendingProps=o,g.type=r.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=14680064&r.flags,g.childLanes=r.childLanes,g.lanes=r.lanes,g.child=r.child,g.memoizedProps=r.memoizedProps,g.memoizedState=r.memoizedState,g.updateQueue=r.updateQueue,o=r.dependencies,g.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},g.sibling=r.sibling,g.index=r.index,g.ref=r.ref,g}function Wi(r,o,g,v,x,C){var A=2;if(v=r,typeof r=="function")Na(r)&&(A=1);else if(typeof r=="string")A=5;else e:switch(r){case a:return Xr(g.children,x,C,o);case u:A=8,x|=8;break;case f:return(r=rn(12,g,o,2|x)).elementType=f,r.lanes=C,r;case y:return(r=rn(13,g,o,x)).elementType=y,r.lanes=C,r;case w:return(r=rn(19,g,o,x)).elementType=w,r.lanes=C,r;case I:return Gi(g,x,C,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case d:A=10;break e;case p:A=9;break e;case b:A=11;break e;case E:A=14;break e;case S:A=16,v=null;break e}throw Error(l(130,r==null?r:typeof r,""))}return(o=rn(A,g,o,x)).elementType=r,o.type=v,o.lanes=C,o}function Xr(r,o,g,v){return(r=rn(7,r,v,o)).lanes=g,r}function Gi(r,o,g,v){return(r=rn(22,r,v,o)).elementType=I,r.lanes=g,r.stateNode={isHidden:!1},r}function Va(r,o,g){return(r=rn(6,r,null,o)).lanes=g,r}function Fa(r,o,g){return(o=rn(4,r.children!==null?r.children:[],r.key,o)).lanes=g,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function J0(r,o,g,v,x){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=wo,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Po(0),this.expirationTimes=Po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.identifierPrefix=v,this.onRecoverableError=x,qt&&(this.mutableSourceEagerHydrationData=null)}function ku(r,o,g,v,x,C,A,M,O){return r=new J0(r,o,g,M,O),o===1?(o=1,C===!0&&(o|=8)):o=0,C=rn(3,null,null,o),r.current=C,C.stateNode=r,C.memoizedState={element:v,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ho(C),r}function Pu(r){if(!r)return ir;e:{if(L(r=r._reactInternals)!==r||r.tag!==1)throw Error(l(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(jt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(l(171))}if(r.tag===1){var g=r.type;if(jt(g))return Zl(r,g,o)}return o}function Mu(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(l(188)):(r=Object.keys(r).join(","),Error(l(268,r)));return(r=X(o))===null?null:r.stateNode}function Nu(r,o){if((r=r.memoizedState)!==null&&r.dehydrated!==null){var g=r.retryLane;r.retryLane=g!==0&&g<o?g:o}}function qi(r,o){Nu(r,o),(r=r.alternate)&&Nu(r,o)}function K0(r){return(r=X(r))===null?null:r.stateNode}function em(){return null}return xu=function(r,o,g){if(r!==null)if(r.memoizedProps!==o.pendingProps||Nt.current)Vt=!0;else{if(!(r.lanes&g)&&!(128&o.flags))return Vt=!1,function(K,$,Z){switch($.tag){case 3:eu($),Kr();break;case 5:wc($);break;case 1:jt($.type)&&li($);break;case 4:qo($,$.stateNode.containerInfo);break;case 10:cc(0,$.type._context,$.memoizedProps.value);break;case 13:var re=$.memoizedState;if(re!==null)return re.dehydrated!==null?(Ne($e,1&$e.current),$.flags|=128,null):Z&$.child.childLanes?nu(K,$,Z):(Ne($e,1&$e.current),(K=qn(K,$,Z))!==null?K.sibling:null);Ne($e,1&$e.current);break;case 19:if(re=(Z&$.childLanes)!=0,(128&K.flags)!=0){if(re)return su(K,$,Z);$.flags|=128}var de=$.memoizedState;if(de!==null&&(de.rendering=null,de.tail=null,de.lastEffect=null),Ne($e,$e.current),re)break;return null;case 22:case 23:return $.lanes=0,Zc(K,$,Z)}return qn(K,$,Z)}(r,o,g);Vt=(131072&r.flags)!=0}else Vt=!1,Oe&&1048576&o.flags&&sc(o,fi,o.index);switch(o.lanes=0,o.tag){case 2:var v=o.type;Pi(r,o),r=o.pendingProps;var x=Qr(o,xt.current);ts(o,g),x=ta(null,o,v,r,x,g);var C=na();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,jt(v)?(C=!0,li(o)):C=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Ho(o),x.updater=yi,o.stateNode=x,x._reactInternals=o,Go(o,v,r,g),o=ua(null,o,v,!0,C,g)):(o.tag=0,Oe&&C&&Oo(o),Ft(null,o,x,g),o=o.child),o;case 16:v=o.elementType;e:{switch(Pi(r,o),r=o.pendingProps,v=(x=v._init)(v._payload),o.type=v,x=o.tag=function(K){if(typeof K=="function")return Na(K)?1:0;if(K!=null){if((K=K.$$typeof)===b)return 11;if(K===E)return 14}return 2}(v),r=fn(v,r),x){case 0:o=ca(null,o,v,r,g);break e;case 1:o=Kc(null,o,v,r,g);break e;case 11:o=Gc(null,o,v,r,g);break e;case 14:o=qc(null,o,v,fn(v.type,r),g);break e}throw Error(l(306,v,""))}return o;case 0:return v=o.type,x=o.pendingProps,ca(r,o,v,x=o.elementType===v?x:fn(v,x),g);case 1:return v=o.type,x=o.pendingProps,Kc(r,o,v,x=o.elementType===v?x:fn(v,x),g);case 3:e:{if(eu(o),r===null)throw Error(l(387));v=o.pendingProps,x=(C=o.memoizedState).element,hc(r,o),xi(o,v,null,g);var A=o.memoizedState;if(v=A.element,qt&&C.isDehydrated){if(C={element:v,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=C,o.memoizedState=C,256&o.flags){o=tu(r,o,v,g,x=is(Error(l(423)),o));break e}if(v!==x){o=tu(r,o,v,g,x=is(Error(l(424)),o));break e}for(qt&&(Jt=c0(o.stateNode.containerInfo),$t=o,Oe=!0,dn=null,ks=!1),g=yc(o,null,v,g),o.child=g;g;)g.flags=-3&g.flags|4096,g=g.sibling}else{if(Kr(),v===x){o=qn(r,o,g);break e}Ft(r,o,v,g)}o=o.child}return o;case 5:return wc(o),r===null&&Yo(o),v=o.type,x=o.pendingProps,C=r!==null?r.memoizedProps:null,A=x.children,kr(v,x)?A=null:C!==null&&kr(v,C)&&(o.flags|=32),Jc(r,o),Ft(r,o,A,g),o.child;case 6:return r===null&&Yo(o),null;case 13:return nu(r,o,g);case 4:return qo(o,o.stateNode.containerInfo),v=o.pendingProps,r===null?o.child=ns(o,null,v,g):Ft(r,o,v,g),o.child;case 11:return v=o.type,x=o.pendingProps,Gc(r,o,v,x=o.elementType===v?x:fn(v,x),g);case 7:return Ft(r,o,o.pendingProps,g),o.child;case 8:case 12:return Ft(r,o,o.pendingProps.children,g),o.child;case 10:e:{if(v=o.type._context,x=o.pendingProps,C=o.memoizedProps,cc(0,v,A=x.value),C!==null)if(hn(C.value,A)){if(C.children===x.children&&!Nt.current){o=qn(r,o,g);break e}}else for((C=o.child)!==null&&(C.return=o);C!==null;){var M=C.dependencies;if(M!==null){A=C.child;for(var O=M.firstContext;O!==null;){if(O.context===v){if(C.tag===1){(O=Gn(-1,g&-g)).tag=2;var Y=C.updateQueue;if(Y!==null){var z=(Y=Y.shared).pending;z===null?O.next=O:(O.next=z.next,z.next=O),Y.pending=O}}C.lanes|=g,(O=C.alternate)!==null&&(O.lanes|=g),zo(C.return,g,o),M.lanes|=g;break}O=O.next}}else if(C.tag===10)A=C.type===o.type?null:C.child;else if(C.tag===18){if((A=C.return)===null)throw Error(l(341));A.lanes|=g,(M=A.alternate)!==null&&(M.lanes|=g),zo(A,g,o),A=C.sibling}else A=C.child;if(A!==null)A.return=C;else for(A=C;A!==null;){if(A===o){A=null;break}if((C=A.sibling)!==null){C.return=A.return,A=C;break}A=A.return}C=A}Ft(r,o,x.children,g),o=o.child}return o;case 9:return x=o.type,v=o.pendingProps.children,ts(o,g),v=v(x=Kt(x)),o.flags|=1,Ft(r,o,v,g),o.child;case 14:return x=fn(v=o.type,o.pendingProps),qc(r,o,v,x=fn(v.type,x),g);case 15:return Qc(r,o,o.type,o.pendingProps,g);case 17:return v=o.type,x=o.pendingProps,x=o.elementType===v?x:fn(v,x),Pi(r,o),o.tag=1,jt(v)?(r=!0,li(o)):r=!1,ts(o,g),pc(o,v,x),Go(o,v,x,g),ua(null,o,v,!0,r,g);case 19:return su(r,o,g);case 22:return Zc(r,o,g)}throw Error(l(156,o.tag))},e.attemptContinuousHydration=function(r){if(r.tag===13){var o=Pn(r,134217728);o!==null&&nn(o,r,134217728,Et()),qi(r,134217728)}},e.attemptDiscreteHydration=function(r){if(r.tag===13){var o=Pn(r,1);o!==null&&nn(o,r,1,Et()),qi(r,1)}},e.attemptHydrationAtCurrentPriority=function(r){if(r.tag===13){var o=hr(r),g=Pn(r,o);g!==null&&nn(g,r,o,Et()),qi(r,o)}},e.attemptSynchronousHydration=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var g=Ts(o.pendingLanes);g!==0&&(Mo(o,1|g),Ot(o,at()),!(6&ve)&&(ls(),An()))}break;case 13:Eu(function(){var v=Pn(r,1);if(v!==null){var x=Et();nn(v,r,1,x)}}),qi(r,1)}},e.batchedUpdates=function(r,o){var g=ve;ve|=1;try{return r(o)}finally{(ve=g)===0&&(ls(),hi&&An())}},e.createComponentSelector=function(r){return{$$typeof:Vi,value:r}},e.createContainer=function(r,o,g,v,x,C,A){return ku(r,o,!1,null,0,v,0,C,A)},e.createHasPseudoClassSelector=function(r){return{$$typeof:Fi,value:r}},e.createHydrationContainer=function(r,o,g,v,x,C,A,M,O){return(r=ku(g,v,!0,r,0,C,0,M,O)).context=Pu(null),g=r.current,(C=Gn(v=Et(),x=hr(g))).callback=o??null,ar(g,C,x),r.current.lanes=x,As(r,x,v),Ot(r,v),r},e.createPortal=function(r,o,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:v==null?null:""+v,children:r,containerInfo:o,implementation:g}},e.createRoleSelector=function(r){return{$$typeof:Oi,value:r}},e.createTestNameSelector=function(r){return{$$typeof:Li,value:r}},e.createTextSelector=function(r){return{$$typeof:Bi,value:r}},e.deferredUpdates=function(r){var o=_e,g=Ge.transition;try{return Ge.transition=null,_e=16,r()}finally{_e=o,Ge.transition=g}},e.discreteUpdates=function(r,o,g,v,x){var C=_e,A=Ge.transition;try{return Ge.transition=null,_e=1,r(o,g,v,x)}finally{_e=C,Ge.transition=A,ve===0&&ls()}},e.findAllNodes=Ea,e.findBoundingRects=function(r,o){if(!_s)throw Error(l(363));o=Ea(r,o),r=[];for(var g=0;g<o.length;g++)r.push(Of(o[g]));for(o=r.length-1;0<o;o--)for(var v=(g=r[o]).x,x=v+g.width,C=g.y,A=C+g.height,M=o-1;0<=M;M--)if(o!==M){var O=r[M],Y=O.x,z=Y+O.width,K=O.y,$=K+O.height;if(v>=Y&&C>=K&&x<=z&&A<=$){r.splice(o,1);break}if(!(v!==Y||g.width!==O.width||$<C||K>A)){K>C&&(O.height+=K-C,O.y=C),$<A&&(O.height=A-K),r.splice(o,1);break}if(!(C!==K||g.height!==O.height||z<v||Y>x)){Y>v&&(O.width+=Y-v,O.x=v),z<x&&(O.width=x-Y),r.splice(o,1);break}}return r},e.findHostInstance=Mu,e.findHostInstanceWithNoPortals=function(r){return(r=(r=q(r))!==null?ee(r):null)===null?null:r.stateNode},e.findHostInstanceWithWarning=function(r){return Mu(r)},e.flushControlled=function(r){var o=ve;ve|=1;var g=Ge.transition,v=_e;try{Ge.transition=null,_e=1,r()}finally{_e=v,Ge.transition=g,(ve=o)===0&&(ls(),An())}},e.flushPassiveEffects=Yr,e.flushSync=Eu,e.focusWithin=function(r,o){if(!_s)throw Error(l(363));for(o=vu(r=xa(r),o),o=Array.from(o),r=0;r<o.length;){var g=o[r++];if(!Is(g)){if(g.tag===5&&Yf(g.stateNode))return!0;for(g=g.child;g!==null;)o.push(g),g=g.sibling}}return!1},e.getCurrentUpdatePriority=function(){return _e},e.getFindAllNodesFailureDescription=function(r,o){if(!_s)throw Error(l(363));var g=0,v=[];r=[xa(r),0];for(var x=0;x<r.length;){var C=r[x++],A=r[x++],M=o[A];if((C.tag!==5||!Is(C))&&(ya(C,M)&&(v.push(wa(M)),++A>g&&(g=A)),A<o.length))for(C=C.child;C!==null;)r.push(C,A),C=C.sibling}if(g<o.length){for(r=[];g<o.length;g++)r.push(wa(o[g]));return`findAllNodes was able to match part of the selector:
  `+v.join(" > ")+`

No matching component was found for:
  `+r.join(" > ")}return null},e.getPublicRootInstance=function(r){return(r=r.current).child?r.child.tag===5?Se(r.child.stateNode):r.child.stateNode:null},e.injectIntoDevTools=function(r){if(r={bundleType:r.bundleType,version:r.version,rendererPackageName:r.rendererPackageName,rendererConfig:r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:m.ReactCurrentDispatcher,findHostInstanceByFiber:K0,findFiberByHostInstance:r.findFiberByHostInstance||em,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")r=!1;else{var o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(o.isDisabled||!o.supportsFiber)r=!0;else{try{ui=o.inject(r),Tn=o}catch{}r=!!o.checkDCE}}return r},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(r,o,g,v){if(!_s)throw Error(l(363));r=Ea(r,o);var x=Xf(r,g,v).disconnect;return{disconnect:function(){x()}}},e.registerMutableSourceForHydration=function(r,o){var g=o._getVersion;g=g(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,g]:r.mutableSourceEagerHydrationData.push(o,g)},e.runWithPriority=function(r,o){var g=_e;try{return _e=r,o()}finally{_e=g}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(r,o,g,v){var x=o.current,C=Et(),A=hr(x);return g=Pu(g),o.context===null?o.context=g:o.pendingContext=g,(o=Gn(C,A)).payload={element:r},(v=v===void 0?null:v)!==null&&(o.callback=v),(r=ar(x,o,A))!==null&&(nn(r,x,A,C),vi(r,x,A)),A},e}),lh}({get exports(){return dl},set exports(i){dl=i}}).exports=l2();var c2=F1(dl),gf={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},ml={},Ji={get exports(){return ml},set exports(i){ml=i}};(function(){var i,e,s,t,c,l;typeof performance<"u"&&performance!==null&&performance.now?Ji.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Ji.exports=function(){return(i()-c)/1e6},e=process.hrtime,t=(i=function(){var m;return 1e9*(m=e())[0]+m[1]})(),l=1e9*process.uptime(),c=t-l):Date.now?(Ji.exports=function(){return Date.now()-s},s=Date.now()):(Ji.exports=function(){return new Date().getTime()-s},s=new Date().getTime())}).call(V1);var hh,bs={},Dr={};({get exports(){return bs},set exports(i){bs=i}}).exports=(hh||(hh=1,Dr.ConcurrentRoot=1,Dr.ContinuousEventPriority=4,Dr.DefaultEventPriority=16,Dr.DiscreteEventPriority=1,Dr.IdleEventPriority=536870912,Dr.LegacyRoot=0),Dr);var u2={};function Ha(i,e){i.addChild&&(i.addChild(e),typeof e.didMount=="function"&&e.didMount(e,i))}function pf(i,e){var s,t,c;(s=i.willUnmount)===null||s===void 0||s.call(i,i,e),((t=i.config)===null||t===void 0?void 0:t.destroyChildren)!==!1&&(c=i.children)!==null&&c!==void 0&&c.length&&nr(i.children).forEach(function(l){pf(l,i)})}function dh(i,e){var s;pf(e,i),i.removeChild(e);var t=(s=e.config)!==null&&s!==void 0?s:{},c=t.destroy,l=c===void 0||c,m=t.destroyChildren,h=m===void 0||m,n=t.destroyTexture,a=n!==void 0&&n,u=t.destroyBaseTexture,f=u!==void 0&&u;l&&e.destroy({children:h,texture:a,baseTexture:f})}function fh(i,e,s){var t,c;We(e!==s,"Cannot insert node before itself"),i.children.indexOf(e)!==-1&&i.removeChild(e);var l=i.getChildIndex(s);i.addChildAt(e,l),(t=i.__reactpixi)===null||t===void 0||(c=t.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var mh=null,Cn=c2({getRootHostContext:function(){return u2},getChildHostContext:function(i){return i},getChildHostContextForEventComponent:function(i){return i},getPublicInstance:function(i){return i},getCurrentEventPriority:function(){return function(){var i,e;if(typeof window>"u")return bs.DefaultEventPriority;switch((i=window)===null||i===void 0||(e=i.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return bs.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return bs.ContinuousEventPriority;default:return bs.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(i){var e,s,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=s2[i];if(typeof l=="function"&&(e=l(c,t)),!e){var m=mf[i];m&&((e=m.create(t,{root:c})).didMount=m.didMount?m.didMount.bind(e):void 0,e.willUnmount=m.willUnmount?m.willUnmount.bind(e):void 0,e.applyProps=m.applyProps?m.applyProps.bind(e):void 0,e.config=m.config)}return e&&(e.__reactpixi={root:c},(typeof((s=e)===null||s===void 0?void 0:s.applyProps)=="function"?e.applyProps:$n)(e,{},t)),e},hideInstance:function(i){i.visible=!1},unhideInstance:function(i,e){var s=e==null||!e.hasOwnProperty("visible")||e.visible;i.visible=s},finalizeInitialChildren:function(i,e,s){return!1},prepareUpdate:function(i,e,s,t,c,l){return mh=function(m,h,n,a){var u=null;for(var f in n)!a.hasOwnProperty(f)&&n.hasOwnProperty(f)&&n[f]!==null&&(f===ul||(u||(u=[]),u.push(f,null)));for(var d in a){var p=a[d],b=n!==null?n[d]:void 0;!a.hasOwnProperty(d)||p===b||p===null&&b===null||d===ul||(u||(u=[]),u.push(d,p))}return u}(0,0,s,t)},shouldSetTextContent:function(i,e){return!1},shouldDeprioritizeSubtree:function(i,e){var s=e.alpha===void 0||e.alpha>0,t=e.renderable===void 0||e.renderable===!0,c=e.visible===void 0||e.visible===!0;return!(s&&t&&c)},createTextInstance:function(i,e,s){We(!1,'Error trying to add text node "'.concat(i,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(i,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:ml,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var i,e,s=arguments.length,t=new Array(s),c=0;c<s;c++)t[c]=arguments[c];var l=Ha.apply(null,t);return(i=t[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),l},appendChild:function(){for(var i,e,s=arguments.length,t=new Array(s),c=0;c<s;c++)t[c]=arguments[c];var l=Ha.apply(null,t);return(i=t[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),l},appendChildToContainer:function(){for(var i,e,s=arguments.length,t=new Array(s),c=0;c<s;c++)t[c]=arguments[c];var l=Ha.apply(null,t);return(i=t[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),l},removeChild:function(){for(var i,e,s=arguments.length,t=new Array(s),c=0;c<s;c++)t[c]=arguments[c];var l=dh.apply(null,t);return(i=t[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),l},removeChildFromContainer:function(){for(var i,e,s=arguments.length,t=new Array(s),c=0;c<s;c++)t[c]=arguments[c];var l=dh.apply(null,t);return(i=t[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),l},insertBefore:fh,insertInContainerBefore:function(){for(var i,e,s=arguments.length,t=new Array(s),c=0;c<s;c++)t[c]=arguments[c];var l=fh.apply(null,t);return(i=t[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),l},commitUpdate:function(i,e,s,t,c){var l,m,h=i&&i.applyProps;typeof h!="function"&&(h=$n),(h(i,t,c)||mh)&&((l=i.__reactpixi)===null||l===void 0||(m=l.root)===null||m===void 0||m.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(i,e,s,t,c){},commitTextUpdate:function(i,e,s){},resetTextContent:function(i){},clearContainer:function(i){},getFundamentalComponentInstance:function(i){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(i){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(i){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(i){throw new Error("Not yet implemented.")},getInstanceFromNode:function(i){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(i){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(i){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(i){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(i){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(i){}}),h2=gf.dependencies["react-dom"].replace(/[^0-9.]/g,""),d2=gf.name;Cn.injectIntoDevTools({bundleType:0,version:h2,rendererPackageName:d2,findHostInstanceByFiber:Cn.findHostInstance});var Cr=new Map;function bf(i){if(We(jr.prototype.isPrototypeOf(i),"Invalid argument `container`, expected instance of `Container`."),Cr.has(i)){var e=Cr.get(i).pixiFiberContainer;Cn.updateContainer(null,e,void 0,function(){Cr.delete(i)})}}function vf(i){We(jr.prototype.isPrototypeOf(i),"Invalid argument `container`, expected instance of `Container`.");var e=Cr.get(i);if(We(!e,"createRoot should only be called once"),!e){var s=Cn.createContainer(i);e={pixiFiberContainer:s,reactRoot:{render:function(t){return Cn.updateContainer(t,s,void 0),Cn.getPublicRootInstance(s)},unmount:function(){bf(i),Cr.delete(i)}}},Cr.set(i,e)}return e.reactRoot}function f2(i,e,s){var t;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),s!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Cr.has(e)?t=Cr.get(e).reactRoot:t=vf(e),t.render(i)}function m2(i){bf(i)}function ei(){return ei=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}return i},ei.apply(this,arguments)}function g2(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function p2(i,e){for(var s=0;s<e.length;s++){var t=e[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,hf(t.key),t)}}function Zn(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function mo(i,e){return mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,t){return s.__proto__=t,s},mo(i,e)}function b2(i,e){if(e&&(Ht(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zn(i)}function go(i){return go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},go(i)}var vo=Kn.createContext(null),xf=vo.Provider,yf=vo.Consumer,v2=function(i){var e=Kn.forwardRef(function(s,t){return Kn.createElement(yf,null,function(c){return Kn.createElement(i,ei({},s,{ref:t,app:c}))})});return e.displayName="withPIXIApp(".concat(i.displayName||i.name,")"),e};function x2(i){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,t=go(i);if(e){var c=go(this).constructor;s=Reflect.construct(t,arguments,c)}else s=t.apply(this,arguments);return b2(this,s)}}function gh(i,e){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);e&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),s.push.apply(s,t)}return s}function Ki(i){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?gh(Object(s),!0).forEach(function(t){Ze(i,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):gh(Object(s)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(s,t))})}return i}var ph=function(){},wf={width:Ve.number,height:Ve.number,onMount:Ve.func,onUnmount:Ve.func,raf:Ve.bool,renderOnComponentChange:Ve.bool,children:Ve.node,options:Ve.shape({autoStart:Ve.bool,width:Ve.number,height:Ve.number,useContextAlpha:Ve.bool,backgroundAlpha:Ve.number,autoDensity:Ve.bool,antialias:Ve.bool,preserveDrawingBuffer:Ve.bool,resolution:Ve.number,forceCanvas:Ve.bool,backgroundColor:Ve.number,clearBeforeRender:Ve.bool,powerPreference:Ve.string,sharedTicker:Ve.bool,sharedLoader:Ve.bool,resizeTo:function(i,e){var s=i[e];s&&We(s===window||s instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Ht(s),", expect `window` or an `HTMLElement`."))},view:function(i,e,s){var t=i[e];t&&We(t instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Ht(t),", supplied to ").concat(s,", expected `<canvas> Element`"))}})},y2={width:800,height:600,onMount:ph,onUnmount:ph,raf:!0,renderOnComponentChange:!0},gl=function(i){(function(l,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(m&&m.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),m&&mo(l,m)})(c,Kn.Component);var e,s,t=x2(c);function c(){var l;g2(this,c);for(var m=arguments.length,h=new Array(m),n=0;n<m;n++)h[n]=arguments[n];return Ze(Zn(l=t.call.apply(t,[this].concat(h))),"_canvas",null),Ze(Zn(l),"_mediaQuery",null),Ze(Zn(l),"_ticker",null),Ze(Zn(l),"_needsUpdate",!0),Ze(Zn(l),"app",null),Ze(Zn(l),"updateSize",function(){var a=l.props,u=a.width,f=a.height,d=a.options;d!=null&&d.resolution||(l.app.renderer.resolution=window.devicePixelRatio,l.resetInteractionManager()),l.app.renderer.resize(u,f)}),Ze(Zn(l),"needsRenderUpdate",function(){l._needsUpdate=!0}),Ze(Zn(l),"renderStage",function(){var a=l.props,u=a.renderOnComponentChange;!a.raf&&u&&l._needsUpdate&&(l._needsUpdate=!1,l.app.renderer.render(l.app.stage))}),l}return e=c,(s=[{key:"componentDidMount",value:function(){var l=this.props,m=l.onMount,h=l.width,n=l.height,a=l.options,u=l.raf,f=l.renderOnComponentChange;this.app=new El(Ki(Ki({width:h,height:n,view:this._canvas},a),{},{autoDensity:(a==null?void 0:a.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[u?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Cn.createContainer(this.app.stage),Cn.updateContainer(this.getChildren(),this.mountNode,this),m(this.app),a!=null&&a.autoDensity&&window.matchMedia&&(a==null?void 0:a.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),f&&!u&&(this._ticker=new zr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(l,m,h){var n,a=this.props,u=a.width,f=a.height,d=a.raf,p=a.renderOnComponentChange,b=a.options;(b==null?void 0:b.resolution)!==void 0&&(l==null?void 0:l.options.resolution)!==(b==null?void 0:b.resolution)&&(this.app.renderer.resolution=b.resolution,this.resetInteractionManager()),l.height===f&&l.width===u&&((n=l.options)===null||n===void 0?void 0:n.resolution)===(b==null?void 0:b.resolution)||this.updateSize(),l.raf!==d&&this.app.ticker[d?"start":"stop"](),Cn.updateContainer(this.getChildren(),this.mountNode,this),l.width===u&&l.height===f&&l.raf===d&&l.renderOnComponentChange===p&&l.options===b||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var l=this.app.renderer.plugins.interaction;l!=null&&l.resolution&&(l.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var l=this.props.children;return Kn.createElement(xf,{value:this.app},l)}},{key:"componentDidCatch",value:function(l,m){console.error("Error occurred in `Stage`."),console.error(l),console.error(m)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Cn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var l,m,h=this,n=this.props.options;return n&&n.view?(We(n.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Kn.createElement("canvas",ei({},(l=this.props,m=[].concat(nr(Object.keys(wf)),nr(Object.keys(hl))),Object.keys(l).filter(function(a){return!m.includes(a)}).reduce(function(a,u){return Ki(Ki({},a),{},Ze({},u,l[u]))},{})),{ref:function(a){return h._canvas=a}}))}}])&&p2(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),c}();gl.propTypes=wf,gl.defaultProps=y2;var w2=gl;function Ef(){var i=H.useContext(vo);return We(i instanceof El,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),i}function E2(i){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=Ef();We(typeof i=="function","`useTick` needs a callback function."),We(s instanceof El,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var t=H.useRef(null);H.useEffect(function(){t.current=i},[i]),H.useEffect(function(){if(e){var c=function(l){return t.current.apply(s.ticker,[l,s.ticker])};return s.ticker.add(c),function(){s.ticker&&s.ticker.remove(c)}}},[e])}function S2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pl(i,e,s){return pl=S2()?Reflect.construct.bind():function(t,c,l){var m=[null];m.push.apply(m,c);var h=new(Function.bind.apply(t,m));return l&&mo(h,l.prototype),h},pl.apply(null,arguments)}var C2=["children","apply"];function bh(i,e){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);e&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),s.push.apply(s,t)}return s}function eo(i){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?bh(Object(s),!0).forEach(function(t){Ze(i,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):bh(Object(s)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(s,t))})}return i}var _2=function(i,e){We(Ht(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var s=Object.keys(e),t=function(c){var l=c.children,m=c.apply,h=Tr(c,C2),n=H.useRef(H.useMemo(function(){return s.map(function(f){var d,p=(h==null||(d=h[f])===null||d===void 0?void 0:d.construct)||[];return pl(e[f],nr(p))})},[s])),a=H.useMemo(function(){return s.reduce(function(f,d,p){return eo(eo({},f),{},Ze({},d,n.current[p]))},{})},[s]),u=H.useMemo(function(){return Object.keys(h).filter(ff(df(s))).reduce(function(f,d){return eo(eo({},f),{},Ze({},d,h[d]))},{})},[h,s]);return s.forEach(function(f,d){return Object.assign(n.current[d],h[f])}),m&&function(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];return d.every(function(b){return typeof b=="function"})}(m)&&m.call(i,a),Kn.createElement(i,ei({},u,{filters:n.current}),l)};return t.displayName="FilterWrapper",t.propTypes={children:Ve.node,apply:Ve.func},t},I2=Xt.BitmapText,R2=Xt.Container,T2=Xt.Graphics,A2=Xt.NineSlicePlane,k2=Xt.ParticleContainer,P2=Xt.Sprite,M2=Xt.AnimatedSprite,N2=Xt.Text,V2=Xt.TilingSprite,F2=Xt.SimpleMesh,O2=Xt.SimpleRope;const L2=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:M2,AppConsumer:yf,AppContext:vo,AppProvider:xf,BitmapText:I2,Container:R2,Graphics:T2,NineSlicePlane:A2,ParticleContainer:k2,PixiComponent:i2,PixiFiber:Cn,SimpleMesh:F2,SimpleRope:O2,Sprite:P2,Stage:w2,TYPES:Xt,Text:N2,TilingSprite:V2,applyDefaultProps:$n,createRoot:vf,eventHandlers:fo,render:f2,unmountComponentAtNode:m2,useApp:Ef,useTick:E2,withFilters:_2,withPixiApp:v2},Symbol.toStringTag,{value:"Module"})),B2=xm(L2);af.exports=B2;var ke=af.exports;const Sf=document.createElement("canvas"),vh={antialias:!0,autoDensity:!0,backgroundColor:0,resolution:Math.min(2,window.devicePixelRatio),view:Sf};function Y2(i){Cs.renderer.set(i.renderer);let e;const s=()=>{e!=null&&wm(e),e=void 0,document.hidden?(La.ticker.lagSmoothing(0),e=Em(()=>{La.ticker.tick(),i.ticker.update(),zr.shared.update()},40)):La.ticker.lagSmoothing(500,33)};document.addEventListener("visibilitychange",s),s()}function X2({backgroundColor:i=0,children:e,fonts:s,onLoaded:t,onProgress:c,store:l}){vh.backgroundColor=i;const m=_1(s),[h,n]=H.useState(!1);return H.useEffect(()=>{if(c(m),m===100){const a=document.querySelector(".game-container");a!==null&&a.appendChild(Sf),n(!0),t()}},[m,t,c]),N.jsxs(N.Fragment,{children:[h&&N.jsx(ke.Stage,{options:vh,onMount:Y2,children:N.jsx(ym,{store:l,children:N.jsx(H.Suspense,{fallback:null,children:e})})}),N.jsx(N.Fragment,{children:") }"})]})}const D2="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1791_20611)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.33398%2011.5152C8.33398%2010.6366%209.04627%209.92432%209.92492%209.92432H30.0767C30.9554%209.92432%2031.6676%2010.6366%2031.6676%2011.5152C31.6676%2012.3939%2030.9554%2013.1062%2030.0767%2013.1062H9.92491C9.04627%2013.1062%208.33398%2012.3939%208.33398%2011.5152ZM8.33398%2020.0003C8.33398%2019.1217%209.04627%2018.4094%209.92492%2018.4094H30.0767C30.9554%2018.4094%2031.6676%2019.1217%2031.6676%2020.0003C31.6676%2020.8789%2030.9554%2021.5912%2030.0767%2021.5912H9.92491C9.04627%2021.5912%208.33398%2020.8789%208.33398%2020.0003ZM9.92492%2026.8944C9.04627%2026.8944%208.33398%2027.6067%208.33398%2028.4854C8.33398%2029.364%209.04627%2030.0763%209.92491%2030.0763H30.0767C30.9554%2030.0763%2031.6676%2029.364%2031.6676%2028.4854C31.6676%2027.6067%2030.9554%2026.8944%2030.0767%2026.8944H9.92492Z'%20fill='%234D506C'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1791_20611'%3e%3cpath%20d='M0%2020C0%2012.5231%200%208.78461%201.60769%206C2.66091%204.17577%204.17577%202.66091%206%201.60769C8.78461%200%2012.5231%200%2020%200C27.4769%200%2031.2154%200%2034%201.60769C35.8242%202.66091%2037.3391%204.17577%2038.3923%206C40%208.78461%2040%2012.5231%2040%2020C40%2027.4769%2040%2031.2154%2038.3923%2034C37.3391%2035.8242%2035.8242%2037.3391%2034%2038.3923C31.2154%2040%2027.4769%2040%2020%2040C12.5231%2040%208.78461%2040%206%2038.3923C4.17577%2037.3391%202.66091%2035.8242%201.60769%2034C0%2031.2154%200%2027.4769%200%2020Z'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",j2=""+new URL("../img/plinko-yimutRmv.svg",import.meta.url).href,$2=i=>i.gameFieldPosition,ri=Ct([$2],i=>i.right);function z2(){const i=rr(),e=Me(ri),[s,t]=H.useState("");H.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("exitUrl");t(m)},[]);const c=()=>{s&&(window.location.href=s.startsWith("https://")?s:`https://${s}`)};return N.jsxs("div",{className:e?"navigation navigation-right":"navigation",children:[N.jsx("div",{className:s?"navigation-back":"navigation-back navigation-back-disabled",onClick:c,children:N.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("g",{id:"Back",children:N.jsx("path",{id:"Vector",fillRule:"evenodd",clipRule:"evenodd",d:"M7.23243 12.8065C6.83104 14.6126 6.66543 16.9499 6.66543 20C6.66543 23.0501 6.83104 25.3874 7.23243 27.1935C7.62961 28.9807 8.23514 30.1439 9.04513 30.9539C9.85512 31.7639 11.0183 32.3694 12.8055 32.7666C14.6116 33.168 16.9489 33.3336 19.999 33.3336C23.0492 33.3336 25.3865 33.168 27.1925 32.7666C28.9797 32.3694 30.1429 31.7639 30.9529 30.9539C31.7629 30.1439 32.3684 28.9807 32.7656 27.1935C33.167 25.3874 33.3326 23.0501 33.3326 20C33.3326 16.9499 33.167 14.6126 32.7656 12.8065C32.3684 11.0193 31.7629 9.8561 30.9529 9.04611C30.1429 8.23612 28.9797 7.63058 27.1925 7.2334C25.3865 6.83201 23.0492 6.66641 19.999 6.66641C16.9489 6.66641 14.6116 6.83201 12.8055 7.2334C11.0183 7.63058 9.85512 8.23612 9.04513 9.04611C8.23514 9.8561 7.62961 11.0193 7.23243 12.8065ZM12.0823 3.9794C14.2469 3.49834 16.8728 3.33301 19.999 3.33301C23.1252 3.33301 25.7512 3.49834 27.9157 3.9794C30.0992 4.46465 31.914 5.29305 33.31 6.68904C34.706 8.08503 35.5344 9.89983 36.0196 12.0833C36.5007 14.2478 36.666 16.8738 36.666 20C36.666 23.1262 36.5007 25.7522 36.0196 27.9167C35.5344 30.1002 34.706 31.915 33.31 33.311C31.914 34.7069 30.0992 35.5353 27.9157 36.0206C25.7512 36.5017 23.1252 36.667 19.999 36.667C16.8728 36.667 14.2469 36.5017 12.0823 36.0206C9.89886 35.5353 8.08405 34.7069 6.68806 33.311C5.29207 31.915 4.46368 30.1002 3.97842 27.9167C3.49737 25.7522 3.33203 23.1262 3.33203 20C3.33203 16.8738 3.49737 14.2478 3.97842 12.0833C4.46368 9.89983 5.29207 8.08503 6.68806 6.68904C8.08405 5.29305 9.89886 4.46465 12.0823 3.9794ZM28.3321 19.9983C28.3321 20.9188 27.5859 21.665 26.6654 21.665L17.3537 21.665L19.5103 23.8215C20.1612 24.4724 20.1612 25.5277 19.5103 26.1786C18.8594 26.8295 17.8041 26.8295 17.1532 26.1786L12.2982 21.3235C12.2702 21.2955 12.2433 21.2669 12.2174 21.2376C11.8784 20.9325 11.6652 20.4903 11.6652 19.9983C11.6652 19.4992 11.8845 19.0513 12.2321 18.7459C12.2534 18.7223 12.2754 18.6991 12.2982 18.6763L17.1532 13.8213C17.8041 13.1704 18.8594 13.1704 19.5103 13.8213C20.1612 14.4722 20.1612 15.5275 19.5103 16.1784L17.3571 18.3316L26.6654 18.3316C27.5859 18.3316 28.3321 19.0778 28.3321 19.9983Z"})})})}),N.jsx("div",{className:"navigation-logo",children:N.jsx("img",{src:j2,alt:"Game logo"})}),N.jsx("div",{className:"navigation-menu",onClick:()=>i(Sm()),children:N.jsx("img",{src:D2,alt:"Burger menu"})})]})}const U2="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Balance'%3e%3cpath%20id='Vector'%20d='M15.25%203.3335H4.75C2.82794%203.3335%201.25%204.83051%201.25%206.66477V13.3356C1.25%2015.1698%202.82794%2016.6668%204.75%2016.6668H15.25C17.1721%2016.6668%2018.75%2015.1698%2018.75%2013.3356V6.66477C18.75%204.83051%2017.1721%203.3335%2015.25%203.3335ZM17.0042%2011.674H15.25C14.2848%2011.674%2013.4958%2010.9255%2013.4958%2010.0043C13.4958%209.08303%2014.2848%208.33452%2015.25%208.33452H17.0042V11.6658V11.674ZM15.25%206.673C13.3279%206.673%2011.75%208.17002%2011.75%2010.0043C11.75%2011.8385%2013.3279%2013.3356%2015.25%2013.3356H17.0042C17.0042%2014.2486%2016.2152%2015.0053%2015.25%2015.0053H4.75C3.78477%2015.0053%202.9958%2014.2568%202.9958%2013.3356V6.66477C2.9958%205.75176%203.78477%204.99502%204.75%204.99502H15.25C16.2152%204.99502%2017.0042%205.74353%2017.0042%206.66477H15.25V6.673Z'%20fill='%236D62F6'/%3e%3c/g%3e%3c/svg%3e";function H2({children:i,className:e="",disabled:s=!1,onClick:t}){return N.jsx("button",{onClick:t,disabled:s,className:`button ${e}`,children:i})}const si=i=>i.balance,jl=Ct([si],i=>i.bet),xo=Ct([si],i=>i.balance),W2=Ct([si],i=>i.balanceHistory),G2=Ct([si],i=>i.currency);Ct([si],i=>i.step);function q2({disabled:i=!1}){const e=Me(xo),s=Me(jl),t=rr(),c=H.useRef(null),l=()=>{if(s>0){const u=Number(s)-1;t(qs(u))}},m=()=>{const u=Number(s)+1;u<=e&&t(qs(u))},h=()=>{c.current=setInterval(()=>{t(Cm())},100)},n=()=>{c.current=setInterval(()=>{t(_m())},100)},a=()=>{clearInterval(c.current),c.current=null,t(Im(1))};return N.jsxs("div",{className:"volume",children:[N.jsx("button",{onClick:l,onMouseDown:n,onMouseUp:a,onMouseLeave:a,disabled:i,className:"volume-btn volume-btn-minus",children:N.jsx("div",{className:"volume-btn-minus-line"})}),N.jsxs("button",{onClick:m,onMouseDown:h,onMouseUp:a,onMouseLeave:a,disabled:i,className:"volume-btn volume-btn-plus",children:[N.jsx("div",{className:"volume-btn-plus-line"}),N.jsx("div",{className:"volume-btn-plus-line-vertical"})]})]})}function Q2(){const i=rr(),e=Me(xo),s=Me(jl),t=()=>{i(e===s?qs(100):Rm())};return N.jsx("button",{onClick:t,className:e===s?"max-bet max-bet-active":"max-bet",children:"MAX"})}function Z2({disabled:i=!1,type:e="text",value:s,onChange:t,invalid:c}){return N.jsx("div",{className:c?"input input-invalid":"input",children:N.jsx("input",{disabled:i,value:s,onChange:l=>t(l.target.value),type:e})})}function J2({disabled:i=!1,type:e="text",value:s,onChange:t,invalid:c}){return N.jsx(Z2,{value:s,type:e,onChange:t,disabled:i,invalid:c})}const K2="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='ChevronDown'%3e%3cpath%20id='Vector'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12.7071%2015.2071C12.3166%2015.5976%2011.6834%2015.5976%2011.2929%2015.2071L6.29289%2010.2071C5.90237%209.81658%205.90237%209.18342%206.29289%208.79289C6.68342%208.40237%207.31658%208.40237%207.70711%208.79289L12%2013.0858L16.2929%208.79289C16.6834%208.40237%2017.3166%208.40237%2017.7071%208.79289C18.0976%209.18342%2018.0976%209.81658%2017.7071%2010.2071L12.7071%2015.2071Z'%20fill='%234D506C'/%3e%3c/g%3e%3c/svg%3e",ep="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='ChevronUp'%3e%3cpath%20id='Vector'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.2929%208.79289C11.6834%208.40237%2012.3166%208.40237%2012.7071%208.79289L17.7071%2013.7929C18.0976%2014.1834%2018.0976%2014.8166%2017.7071%2015.2071C17.3166%2015.5976%2016.6834%2015.5976%2016.2929%2015.2071L12%2010.9142L7.70711%2015.2071C7.31658%2015.5976%206.68342%2015.5976%206.29289%2015.2071C5.90237%2014.8166%205.90237%2014.1834%206.29289%2013.7929L11.2929%208.79289Z'%20fill='%234D506C'/%3e%3c/g%3e%3c/svg%3e";function xh({onChange:i,value:e,values:s,disabled:t=!1}){const[c,l]=H.useState(!1),m=H.useRef(null),h=()=>{t||l(!c)},n=u=>{i(u)},a=u=>{m.current&&!m.current.contains(u.target)&&l(!1)};return H.useEffect(()=>(document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}),[]),N.jsxs("div",{className:"select",onClick:h,ref:m,children:[N.jsx("div",{className:"select-icon",children:c?N.jsx("img",{src:ep,alt:"Dropdown icon"}):N.jsx("img",{src:K2,alt:"Dropdown icon"})}),N.jsx("div",{className:t?"select-header select-header-disabled":c?"select-header select-header-active":"select-header",children:e.label}),c&&N.jsx("ul",{className:"select-list",children:s.map(u=>N.jsx("li",{className:e.value===u.value?"select-item select-item-active":"select-item",onClick:()=>n(u),children:u.label},u.value.toString()))})]})}const tp=i=>i.alertValidation,Cf=Ct([tp],i=>i.alertValidation),np=[{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"}];function rp(){const i=rr(),e=Me(ri),s=Me(xo),t=Me(jl),c=Me(Cf),[l,m]=H.useState({value:"8",label:"8"}),[h,n]=H.useState({value:"low",label:"Низкий"}),[a,u]=H.useState(!1),f=Me(Nh),d=Me(Vh),p=Me(W2),b=Me(G2),y=()=>{t>s||t<=0?E():w()},w=()=>{const Q={bet:t,risk:h.value,rows:l.value};i(Am(Q))};H.useEffect(()=>{const Q=f&&f.length>0;u(Q)},[f]),H.useEffect(()=>{d&&d[0]&&d[0].multiplier&&S(p[p.length-d.length])},[d]);const E=()=>{i(km())},S=Q=>{i(Tm(Q))},I=Q=>{m(Q)},_=Q=>{n(Q)},R=Q=>{i(qs(Number(Q)))},T=Je("Form.BET"),P=Je("Form.BALANCE"),L=Je("Form.ROW"),j=Je("Form.RISK"),q=[{value:"low",label:Je("RiskLevel.LOW")},{value:"medium",label:Je("RiskLevel.MEDIUM")},{value:"high",label:Je("RiskLevel.HIGH")}];function X(Q){let[ee,ie]=Q.toString().split(".");return!ie||ie.length<=5?Q:parseFloat(Q.toFixed(2))}return N.jsx("div",{className:e?"bet bet-right":"bet",children:N.jsxs("div",{className:"bet-container",children:[N.jsxs("div",{children:[N.jsxs("div",{className:"wallet",children:[N.jsxs("div",{className:"wallet-label",children:[N.jsx("img",{className:"wallet-label-icon",src:U2,alt:"Balance icon"}),N.jsx("span",{className:"wallet-label-text",children:P})]}),N.jsxs("div",{className:"wallet-balance",children:[N.jsx("span",{className:"wallet-balance-value",children:X(s)}),N.jsx("span",{className:"wallet-balance-currency",children:b})]})]}),N.jsx(H2,{disabled:!1,className:"wallet-btn",onClick:y,children:T})]}),N.jsxs("div",{children:[N.jsxs("div",{className:"form-fields",children:[N.jsxs("div",{className:"form-field",children:[N.jsx("div",{className:"form-field-label",children:T}),N.jsx(J2,{value:t,type:"number",onChange:R,invalid:c})]}),N.jsx("div",{className:"form-field-extra",children:N.jsx(q2,{})}),N.jsx("div",{className:"form-field-extra",children:N.jsx(Q2,{})})]}),N.jsxs("div",{className:"form-fields",children:[N.jsxs("div",{className:"form-field",children:[N.jsx("div",{className:"form-field-label",children:L}),N.jsx(xh,{disabled:a,values:np,value:l,onChange:I})]}),N.jsxs("div",{className:"form-field",children:[N.jsx("div",{className:"form-field-label",children:j}),N.jsx(xh,{disabled:a,values:q,value:h,onChange:_})]})]})]})]})})}function sp(){const i=Me(ri);return N.jsx("div",{className:i?"game-container game-container-right ":"game-container"})}const ip="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Settings'%3e%3cpath%20id='Vector'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3727%203.53182L21.8549%2011.4784H21.8649C22.045%2011.7955%2022.045%2012.2045%2021.8649%2012.5318L17.3827%2020.4682C17.2026%2020.7852%2016.8424%2021%2016.4822%2021H7.51776C7.14757%2021%206.7974%2020.8057%206.61731%2020.4682L2.13507%2012.5216C1.95498%2012.2045%201.95498%2011.7955%202.13507%2011.4682L6.6073%203.53182C6.7974%203.21477%207.14757%203%207.50775%203H16.4722C16.8424%203%2017.1926%203.19432%2017.3727%203.53182ZM16.1021%2018.4739L19.5338%2012.3989C19.6738%2012.1534%2019.6738%2011.8364%2019.5338%2011.5909L16.1021%205.51591C15.962%205.27045%2015.7119%205.11705%2015.4217%205.11705H8.55828C8.27814%205.11705%208.01801%205.27045%207.87794%205.51591L4.44622%2011.6011C4.30615%2011.8364%204.30615%2012.1534%204.44622%2012.3989L7.87794%2018.4739C8.01801%2018.7193%208.26813%2018.8727%208.55828%2018.8727H15.4217C15.7018%2018.8727%2015.962%2018.7193%2016.1021%2018.4739ZM9.64882%207.84773C10.1491%207.56136%2010.7794%207.73523%2011.0695%208.23636V8.21591L14.7114%2014.6693C14.8414%2014.9148%2014.8814%2015.2114%2014.8114%2015.4773C14.7414%2015.7432%2014.5713%2015.9784%2014.3212%2016.1216C14.1611%2016.2239%2013.981%2016.2648%2013.8009%2016.2648C13.4507%2016.2648%2013.0905%2016.0807%2012.9004%2015.733L9.25863%209.28977C8.96848%208.77841%209.13857%208.13409%209.63882%207.84773H9.64882Z'%20fill='%236F728D'/%3e%3c/g%3e%3c/svg%3e";function op(){const i=Me(ri),e=Je("MainMenu.HONESTY");return N.jsxs("div",{className:i?"honesty-setting honesty-setting-right":"honesty-setting",children:[N.jsx("img",{src:ip,alt:"Setting icon"}),N.jsx("span",{children:e})]})}function ap(){return N.jsxs("div",{className:"main",children:[N.jsx(z2,{}),N.jsx(sp,{}),N.jsx(rp,{}),N.jsx(op,{})]})}function yh({className:i="",disabled:e=!1,children:s,onClick:t}){return N.jsx("button",{onClick:t,disabled:e,className:`btn ${i}`,children:s})}function lp(){const i=rr(),e=Me(xo),s=()=>{i(qs(e)),i(Fu())},t=Je("SettingsPanel.MAX_BET"),c=Je("SettingsPanel.CONFIRM_MAX_BET"),l=Je("Button.CANCEL"),m=Je("Button.ACTIVATE");return N.jsx("div",{className:"modal-overlay",children:N.jsxs("div",{className:"modal modal-bet",children:[N.jsx("div",{className:"modal-title",children:t}),N.jsx("div",{className:"modal-text",children:c}),N.jsxs("div",{className:"modal-btns",children:[N.jsx(yh,{className:"btn-outline modal-btn-cancel",onClick:()=>i(Fu()),children:l}),N.jsx(yh,{onClick:()=>s(),children:m})]})]})})}const wh=1920,Yn=1080,Eh={align:"center",correctionOffsetX:0,correctionOffsetY:0,correctionScaleX:1,correctionScaleY:1,height:720,stretchHeight:!1,stretchWidth:!1,valign:"center",width:720};function Sh(i,e){const s=Object.keys(i),t=Object.keys(e);if(s.length!==t.length)return!1;for(const c of s)if(i[c]!==e[c])return!1;return!0}function cp({children:i,landscapeData:e,portraitData:s,updateData:t,visible:c=!0}){const l=H.useRef(null),{aspect:m,height:h,width:n}=Cs(),a=H.useRef(s||{}),u=H.useMemo(()=>{const p=Object.assign(Object.assign({},Eh),s);return Sh(a.current,p)||(a.current=p),a.current},[s]),f=H.useRef(e||{}),d=H.useMemo(()=>{const p=Object.assign(Object.assign({},Eh),e||a.current);return Sh(f.current,p)||(f.current=p),f.current},[e]);return H.useLayoutEffect(()=>{const p=l.current;t&&t(n,h,m,u,d);const{align:b,correctionOffsetX:y,correctionOffsetY:w,correctionScaleX:E,correctionScaleY:S,fitCover:I,stretchHeight:_,stretchWidth:R,valign:T,viewportHeight:P,viewportWidth:L}=h>n?u:d,j=I?Math.max:Math.min,q=j(n/wh,h/Yn);let{height:X,width:Q}=h>n?u:d,ee=q,ie=q;(L||P)&&(ee=ie=j(n/(L||wh),h/(P||Yn))),R&&(ee=n/Q,Q=n/ee),_&&(ie=h/X,X=h/ie),ee*=E,ie*=S,p.scale.set(ee,ie),p.x=(b==="right"?n-Q*ee:b==="center"?(n-Q*ee)/2:0)+y*ee,p.y=(T==="bottom"?h-X*ie:T==="center"?(h-X*ie)/2:0)+w*ie},[n,h,m,u,d,t]),N.jsx(ke.Container,{ref:l,visible:c,children:i})}const up=i=>i.scene,hp=Ct([up],i=>i.currentScene),dp="game_field.png",{useTextures:fp}=bo([dp]),mp=H.memo(function(){const[i]=fp(),e=H.useRef(null),s=H.useRef(null),{height:t,width:c}=Cs();return H.useEffect(()=>{const l=e.current;l!==null&&(l.clear(),l.beginFill(16777215),l.drawRoundedRect(0,0,c,t,32),l.endFill())},[c,t]),H.useEffect(()=>{s.current&&e.current&&(s.current.mask=e.current)},[]),N.jsxs(N.Fragment,{children:[N.jsx(ke.Sprite,{ref:s,texture:i,x:0,y:0,width:c,height:t}),N.jsx(ke.Graphics,{ref:e})]})}),yo="Geologica",gp=[yo],Ch={soundBet:"bet.mp3",soundPin0:"pin0.mp3",soundPin1:"pin1.mp3",soundPin2:"pin2.mp3",soundPocket:"pocket.mp3"},_f=i=>i.game,$l=i=>i.game.state;Ct([$l],i=>i===ys.Init);Ct([$l],i=>i===ys.Idle);Ct([$l],i=>i===ys.Idle||i===ys.Init);const pp=Ct([_f],i=>i.state===ys.Bet);Ct([_f],i=>i.state===ys.Finish);const _h=[16598823,16602928,16607033,16611138,16615243,16619348,16623453,16627558,16631663,16766328],vs=[..._h,..._h.reverse()],Wa=3,hs=36,Ga=36,oo=30,bl=5,bp="field/balls/ball_l.png",vp="history.png",xp="field/pins/pin_l_initial.png",yp="field/pins/glow.png",wp="field/win-field_8.png",Ep="field/glow_8.png",to=[yp,xp,wp,Ep],Sp=new Sl({align:"center",fill:"rgb(255,255,255)",fontFamily:yo,fontSize:26,wordWrap:!0,wordWrapWidth:500}),Cp=new Sl({align:"center",fill:"rgb(255,255,255)",fontFamily:yo,fontSize:33,wordWrap:!0,wordWrapWidth:500}),If=(i,e)=>Math.round(gsap.utils.mapRange(0,i+1,0,vs.length,e)),{useSpritesheets:_p}=rf("field-0.json");function Ip({id:i,onCollision:e,pathsData:s}){const{getTexture:t}=_p(),c=H.useMemo(()=>t(bp),[t]),l=rr(),m=H.useRef(null),h=H.useRef(0),n=H.useMemo(()=>s.split(";").map(f=>{const d=f.split(",");return{collision:d[2],x:parseFloat(d[0]),y:parseFloat(d[1])}}),[s]),a=H.useCallback(()=>{const u=m.current;if(u)if(h.current<n.length-1){u.visible=!0;const f=n[h.current];h.current++,!isNaN(f.y)&&!isNaN(f.x)&&(u.x=f.x,u.y=f.y-3.5,f.collision!=null&&f.collision.length>4&&e(f.collision),Za(a,15))}else Za(()=>{l(Pm(i))},100)},[i,l,n,e]);return H.useEffect(()=>{m.current&&(m.current.visible=!1,m.current.x=0,m.current.y=-600,a())},[i,a]),N.jsx(ke.Sprite,{ref:m,texture:c,anchor:.5,scale:.48})}const qa=i=>(i+2)*(i+2+1)/2-3,{useSpritesheets:Rp}=rf("field-0.json"),{useSounds:Tp}=Tl({betSound:Ch.soundBet,pocketSound:Ch.soundPocket}),Ap=H.memo(function(){const{getTexture:i}=Rp(),[e,s,t,c]=H.useMemo(()=>[i(to[0]),i(to[1]),i(to[2]),i(to[3])],[i]),{betSound:l,pocketSound:m}=Tp(),h=rr(),n=Me(Nh),a=Me(Mm),u=Me(Fh),f=Me(pp),d=H.useRef(0),p=H.useRef([]);H.useEffect(()=>{f&&l.play()},[f,l]);const b=H.useMemo(()=>{const _=qa(u),R=[...Array(_).keys()];let T=0,P=0,L=0,j=Wa,q=0;return R.map(X=>(X<q+j?T=(X-q)*hs:(T=0,q=X,j++,L++),T-=j*hs/2,P=L*Ga,N.jsx(ke.Sprite,{texture:s,anchor:.5,x:T,y:P,scale:.5},X)))},[u,s]),y=H.useMemo(()=>{const _=qa(u),R=[...Array(_).keys()];let T=0,P=0,L=0,j=Wa,q=0;return R.map(X=>(X<q+j?T=(X-q)*hs:(T=0,q=X,j++,L++),T-=j*hs/2,P=L*Ga,N.jsx(ke.Sprite,{visible:!1,alpha:0,ref:Q=>p.current[X]=Q,texture:e,anchor:[.5,.5],x:T,y:P},X)))},[u,e]),w=H.useMemo(()=>{const _=qa(u)+u+1,R=[...Array(_).keys()];let T=0,P=0,L=0,j=0,q=Wa,X=0;return R.map(Q=>{Q<X+q?P=(Q-X)*hs:(P=0,X=Q,q++,j++),P-=q*hs/2,L=j*Ga-12;const ee=R.length-Q<=u+1;let ie=0;return ee&&(ie=If(u,T),T++,d.current=L),ee?N.jsxs(ke.Sprite,{tint:vs[ie],ref:fe=>p.current[Q]=fe,texture:t,anchor:.5,x:P+36,y:L,scale:.6,children:[N.jsx(ke.Sprite,{visible:!1,tint:vs[ie],texture:c,anchor:[.5,.75]}),N.jsx(ke.Text,{anchor:.5,text:`${a[T-1]}×`,tint:vs[ie],style:Sp,x:2,y:24})]},Q):null})},[u,s,e,t,c,a]),E=H.useCallback(_=>{const R=_.split("_");if(R[0]==="sensor"){const T=p.current.length-(u+1)+parseInt(R[1]),P=p.current[T];P&&(m.play(),P.getChildAt(0).visible=!0,gsap.to(P,{duration:.05,ease:"none",onComplete:()=>{gsap.to(P,{duration:.15,ease:"none",onComplete:()=>{P.getChildAt(0).visible=!1},y:d.current})},y:d.current+10})),h(Nm(parseInt(R[1])))}if(R[0]==="pin"){const T=parseInt(R[1]),P=p.current[T];P!==null&&(P.alpha=1,P.scale.set(.1),gsap.to(P.scale,{duration:.3,ease:"none",x:.75,y:.75}),gsap.to(P,{alpha:0,delay:.2,duration:.2,ease:"none"}))}},[u,s,m,h]),S=H.useMemo(()=>n.map(_=>N.jsx(Ip,{pathsData:_.pathData,id:_.id,onCollision:E},_.id)),[n,E]),I=H.useMemo(()=>gsap.utils.mapRange(8,16,1,.65,u),[u]);return N.jsx(N.Fragment,{children:N.jsxs(ke.Container,{scale:I,x:558,y:129,children:[w,N.jsxs(ke.ParticleContainer,{properties:{alpha:!0,rotation:!0,scale:!0,uvs:!0},children:[y,b,S]})]})})}),{useTextures:kp}=bo([vp]);function Pp({id:i,index:e,multiplier:s}){const[t]=kp(),c=H.useRef(null),l=Me(Fh),m=H.useMemo(()=>If(l,i),[l,i]);return H.useEffect(()=>{const h=c.current;if(h)return h.alpha=0,h.y=-oo,gsap.to(h,{alpha:1,duration:.4,ease:"none",y:oo*e}),()=>{gsap.killTweensOf(h)}},[]),H.useEffect(()=>{const h=c.current;if(h)return gsap.to(h,{alpha:e>bl-1?0:1,duration:.4,ease:"none",y:oo*e}),()=>{gsap.killTweensOf(h)}},[e]),N.jsxs(ke.Container,{ref:c,children:[N.jsx(ke.Sprite,{texture:t,anchor:.5,scale:1,tint:vs[m]}),N.jsx(ke.Text,{x:-4,text:`${s.toString()}×`,anchor:[1,.5],scale:.5,style:Cp,tint:vs[m]})]})}function Mp(){const i=Me(Vh),{height:e,width:s}=Cs(),t=Oh.any,c=H.useMemo(()=>[s-35,t?50:(e-(bl-1)*oo)/2],[e,s,t]);return N.jsx(ke.Container,{position:c,scale:1,children:i.slice(0,bl+5).map(({id:l,index:m,multiplier:h},n)=>N.jsx(Pp,{index:n,id:l,multiplier:h},m))})}const Np="panels/btn/volume-menu.png",Vp="panels/icons/volume-on_initial.png",Fp="panels/icons/volume-off_initial.png",Op="panels/icons/sound_initial.png",Lp="panels/icons/sound_turned-off.png",Bp="panels/icons/music_initial.png",Yp="panels/icons/music_turned-off.png",Xp="panels/btn/volume_btn_initial.png",Dp="panels/btn/volume_btn_selected.png",jp="panels/btn/volume_btn_hover.png",$p=[Np,Xp,jp,Dp,Vp,Fp,Bp,Yp,Op,Lp],Ih=new Sl({align:"center",fill:"rgb(255,255,255)",fontFamily:yo,fontSize:45,wordWrap:!0,wordWrapWidth:100});function zp(i){let e=[0,0];return typeof i=="string"?e=i.split(",").slice(0,2).map(Number):typeof i=="number"?e=[i,i]:Array.isArray(i)?e=i.slice():typeof i.x<"u"&&typeof i.y<"u"&&(e=[i.x,i.y]),e.map(Number)}const Up=i=>i.interface,Hp=Ct([Up],i=>i.disabled);var Ue=(i=>(i[i.Idle=0]="Idle",i[i.Over=1]="Over",i[i.Press=2]="Press",i[i.Unpress=3]="Unpress",i))(Ue||{});const Qa=H.forwardRef(function({active:i,align:e="center",alpha:s=1,children:t,disableVisualChangeOnDeactivation:c=!1,disableVisualChangeScale:l=!1,flipTextureHorizontal:m=!1,hitAreaHeight:h,hitAreaWidth:n,texture:a=Mt.EMPTY,hoverTexture:u=a,ignoreInterfaceDisabled:f=!1,onTap:d,pivot:p=[a.width/2,a.height/2],position:b=[0,0],scale:y=1,textureTint:w=16777215,valign:E="center",visible:S=!0,x:I,y:_},R){const T=H.useRef(!0);H.useEffect(()=>()=>{T.current=!1},[]);const[P,L]=H.useState(Ue.Idle);let j=Me(Hp);f&&(j=!1);const q=H.useCallback(W=>{L(Ue.Press),d&&d(W)},[d]),X=H.useCallback(()=>{L(Ue.Over)},[]),Q=H.useCallback(()=>{L(Ue.Idle)},[]),ee=H.useCallback(()=>{const W=n!==void 0?n:a.width,te=h!==void 0?h:a.height;return new no(-W/2,-te/2,W,te)},[n,h,a]),ie=H.useMemo(()=>[a.width*{center:0,left:-.5,right:.5}[e],a.height*{bottom:.5,center:0,top:-.5}[E]],[e,E,a]),fe=H.useRef(null);H.useEffect(()=>{const W=fe.current;if(W!==null){const te={[Ue.Idle]:y,[Ue.Over]:y*(l?1:1.1),[Ue.Press]:y*(l?1:.9),[Ue.Unpress]:y}[P],le={[Ue.Idle]:.1,[Ue.Over]:.2,[Ue.Press]:.1,[Ue.Unpress]:.3}[P],pe={[Ue.Idle]:"Circ.easeOut",[Ue.Over]:"Circ.easeOut",[Ue.Press]:"Back.easeOut",[Ue.Unpress]:"Back.easeOut"}[P];try{gsap.to(W,{duration:le,ease:pe,onComplete:()=>{T.current&&(P===Ue.Press?L(Ue.Unpress):P===Ue.Unpress&&L(Ue.Idle))},pixi:{scale:te}})}catch(ce){throw new Error(` error:${ce}`)}}return()=>{W!==null&&gsap.killTweensOf(W)}},[P,y,l]),H.useEffect(()=>{try{const W=fe.current;W.alpha=c||i?1:.5}catch(W){throw new Error(` error:${W}`)}},[i,c]);const[Se,ge]=zp(b);return N.jsx(ke.Container,{x:I!==void 0?I:Se,y:_!==void 0?_:ge,pivot:ie,visible:S,alpha:c||i?s:.3,children:N.jsx(ke.Container,{ref:fe,interactive:i&&!j,cursor:i?"pointer":"default",pointerover:X,pointerout:Q,pointertap:q,hitArea:ee(),children:N.jsxs(ke.Container,{ref:R,children:[N.jsx(ke.Sprite,{scale:[m?-1:1,1],pivot:p,texture:Ue.Over===P?u:a,tint:w}),t]})})})}),{useTextures:Wp}=bo($p);function Gp(){const[i,e,s,t,c,l,m,h,n,a]=Wp(),[u,f]=H.useState(!1),[d,p]=H.useState(!0),[b,y]=H.useState(!0),[w,E]=H.useState(!1),{height:S,width:I}=Cs(),_=Oh.any,R=H.useMemo(()=>[45,50],[S,I,_]),T=H.useCallback(()=>{w?ws.muteAll():ws.unmuteAll()},[w]);H.useEffect(()=>{T()},[w,T]);const P=H.useCallback(()=>{f(!1)},[f]);H.useEffect(()=>(window.addEventListener("blur",P),()=>{window.removeEventListener("blur",P)}),[]);const L=H.useCallback(()=>{f(X=>!X)},[f]),j=H.useCallback(()=>{y(X=>!X)},[y]),q=H.useCallback(()=>{p(X=>!X),E(X=>!X)},[p,E]);return N.jsxs(ke.Container,{position:R,scale:1,children:[N.jsx(Qa,{active:!0,disableVisualChangeOnDeactivation:!0,disableVisualChangeScale:!0,hoverTexture:t,texture:u?t:!b&&!d?s:e,scale:.5,onTap:L,children:N.jsx(ke.Sprite,{texture:!b&&!d?l:c,anchor:.5})}),N.jsxs(ke.Container,{visible:u,position:[0,85],scale:.5,children:[N.jsx(ke.Sprite,{texture:i,anchor:.5}),N.jsx(Qa,{onTap:j,active:!0,texture:b?m:h,disableVisualChangeScale:!0,position:[0,-45]}),N.jsx(ke.Text,{y:-10,text:"Музыка",anchor:.5,scale:.4,style:Ih}),N.jsx(Qa,{onTap:q,active:!0,texture:d?n:a,disableVisualChangeScale:!0,position:[0,45]}),N.jsx(ke.Text,{y:80,text:"Звуки",anchor:.5,scale:.4,style:Ih})]})]})}const qp={align:"center",correctionOffsetY:229,correctionScaleX:2.38,correctionScaleY:2.38,height:Yn,valign:"center",viewportHeight:Yn,viewportWidth:Yn,width:Yn},Qp={align:"center",correctionOffsetY:229,correctionScaleX:2.38,correctionScaleY:2.38,height:Yn,valign:"center",viewportHeight:Yn,viewportWidth:Yn,width:Yn},{useTextures:Zp}=bo(["clock.png"]);function Jp(){const[i]=Zp(),e=H.useRef(null),s=Me(hp),[t,c]=H.useState(s);return H.useEffect(()=>{const l=e.current;if(l.interactive=!0,s==="pause"||s==="game_in"){c(s),l.alpha=0,l.interactive=!1,globalThis.gsap.killTweensOf(l);return}return globalThis.gsap.to(l,{duration:.5,ease:"none",onComplete:()=>{s!=="none"&&(c(s),globalThis.gsap.to(l,{duration:.5,ease:"none",onComplete:()=>{l.interactive=!1},pixi:{alpha:0}}))},pixi:{alpha:1}}),()=>{globalThis.gsap.killTweensOf(l)}},[s]),N.jsxs(N.Fragment,{children:[N.jsx(mp,{}),N.jsxs(cp,{portraitData:Qp,landscapeData:qp,children:[N.jsx(Ap,{}),N.jsx(ke.Container,{visible:t==="game"||t==="pause"||t==="game_in"}),N.jsxs(ke.Container,{ref:e,children:[N.jsx(ke.Sprite,{anchor:.5,texture:Mt.WHITE,tint:1250857,width:3e3,height:1500}),N.jsx(ke.Sprite,{position:[540,300],texture:i,anchor:.5,scale:.65})]})]}),N.jsx(Mp,{}),N.jsx(Gp,{})]})}const Rh=""+new URL("../img/apisGames-DSe5PNFp.svg",import.meta.url).href,Kp="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_2031_17975)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M27.3043%2010.4625C27.921%209.84584%2028.9207%209.84584%2029.5374%2010.4625C30.154%2011.0791%2030.154%2012.0789%2029.5374%2012.6955L22.2327%2020.0002L29.5375%2027.3051C30.1542%2027.9218%2030.1542%2028.9215%2029.5375%2029.5382C28.9209%2030.1548%2027.9211%2030.1548%2027.3045%2029.5382L19.9996%2022.2333L12.6947%2029.5382C12.0781%2030.1548%2011.0783%2030.1548%2010.4617%2029.5382C9.84505%2028.9215%209.84505%2027.9218%2010.4617%2027.3051L17.7666%2020.0002L10.4619%2012.6955C9.84522%2012.0789%209.84522%2011.0791%2010.4619%2010.4625C11.0785%209.84584%2012.0783%209.84584%2012.6949%2010.4625L19.9996%2017.7672L27.3043%2010.4625Z'%20fill='%234D506C'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2031_17975'%3e%3crect%20width='40'%20height='40'%20rx='11'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",e3="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Interface'%3e%3cpath%20id='Vector'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.33333%2010.0001C3.33333%208.47508%203.41666%207.30008%203.61666%206.40008C3.81666%205.50008%204.11666%204.92508%204.52499%204.51675C4.93333%204.10841%205.51666%203.80841%206.40833%203.60841C6.49221%203.58994%206.5783%203.57247%206.66668%203.55596L6.66692%2016.4446C6.5783%2016.428%206.49212%2016.4104%206.40833%2016.3917C5.50833%2016.1917%204.93333%2015.8917%204.52499%2015.4834C4.11666%2015.0751%203.81666%2014.4917%203.61666%2013.6001C3.41666%2012.6917%203.33333%2011.5251%203.33333%2010.0001ZM8.33363%2016.6325C8.83852%2016.6616%209.39513%2016.6751%2010.0083%2016.6751C11.5333%2016.6751%2012.7%2016.5917%2013.6083%2016.3917C14.5%2016.1917%2015.0833%2015.8917%2015.4917%2015.4834C15.9%2015.0751%2016.2%2014.5001%2016.4%2013.6001C16.6%2012.7001%2016.6833%2011.5251%2016.6833%2010.0001C16.6833%208.47508%2016.6%207.30841%2016.4%206.40008C16.2%205.50841%2015.9%204.92508%2015.4917%204.51675C15.0833%204.10841%2014.5083%203.80841%2013.6083%203.60841C12.7083%203.40841%2011.5333%203.32508%2010.0083%203.32508C9.39405%203.32508%208.83791%203.3386%208.33337%203.36782L8.33363%2016.6325ZM9.99999%201.66675C8.43333%201.66675%207.12499%201.75008%206.04166%201.99175C4.94999%202.24175%204.04166%202.65008%203.34166%203.35008C2.64166%204.05008%202.22499%204.95842%201.98333%206.05008C1.74166%207.13342%201.65833%208.44175%201.65833%2010.0084C1.65833%2011.5751%201.74166%2012.8834%201.98333%2013.9667C2.23333%2015.0584%202.64166%2015.9667%203.34166%2016.6667C4.04166%2017.3667%204.94999%2017.7834%206.04166%2018.0251C7.12499%2018.2667%208.43333%2018.3501%209.99999%2018.3501C11.5667%2018.3501%2012.875%2018.2667%2013.9583%2018.0251C15.05%2017.7751%2015.9583%2017.3667%2016.6583%2016.6667C17.3583%2015.9667%2017.775%2015.0584%2018.0167%2013.9667C18.2583%2012.8834%2018.3417%2011.5751%2018.3417%2010.0084C18.3417%208.44175%2018.2583%207.13342%2018.0167%206.05008C17.7667%204.95842%2017.3583%204.05008%2016.6583%203.35008C15.9583%202.65008%2015.05%202.23341%2013.9583%201.99175C12.875%201.75008%2011.5667%201.66675%209.99999%201.66675Z'%20fill='%23E5E6ED'/%3e%3c/g%3e%3c/svg%3e",Th="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='CheckMark'%3e%3cpath%20id='Vector'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M16.0466%207.04986C16.4055%207.40683%2016.4072%207.98723%2016.0502%208.34622L9.48731%2014.9462C9.31526%2015.1192%209.08132%2015.2165%208.83731%2015.2165C8.5933%2015.2165%208.35936%2015.1192%208.1873%2014.9462L5.95019%2012.6965C5.59322%2012.3375%205.59486%2011.7571%205.95385%2011.4001C6.31284%2011.0431%206.89324%2011.0448%207.25021%2011.4038L8.83731%2012.9998L14.7502%207.05352C15.1072%206.69453%2015.6876%206.69289%2016.0466%207.04986Z'%20fill='%236D62F6'/%3e%3c/g%3e%3c/svg%3e",t3="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Info'%3e%3cpath%20id='Vector'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.33333%2010.0003C3.33333%208.47532%203.41666%207.30866%203.61666%206.40032C3.81666%205.50866%204.11666%204.92533%204.52499%204.51699C4.93332%204.10866%205.50833%203.80866%206.40832%203.60866C7.30832%203.40866%208.48332%203.32533%2010.0083%203.32533C11.5333%203.32533%2012.7%203.40866%2013.6083%203.60866C14.5%203.80866%2015.0833%204.10866%2015.4917%204.51699C15.9%204.92533%2016.2%205.50032%2016.4%206.40032C16.6%207.30032%2016.6833%208.47532%2016.6833%2010.0003C16.6833%2011.5253%2016.6%2012.692%2016.4%2013.6003C16.2%2014.492%2015.9%2015.0753%2015.4917%2015.4837C15.0833%2015.892%2014.5083%2016.192%2013.6083%2016.392C12.7083%2016.592%2011.5333%2016.6753%2010.0083%2016.6753C8.48332%2016.6753%207.31666%2016.592%206.40832%2016.392C5.51666%2016.192%204.93332%2015.892%204.52499%2015.4837C4.11666%2015.0753%203.81666%2014.5003%203.61666%2013.6003C3.41666%2012.7003%203.33333%2011.5253%203.33333%2010.0003ZM9.99999%201.66699C8.43332%201.66699%207.12499%201.75033%206.04166%201.99199C4.94999%202.23366%204.04166%202.65033%203.34166%203.35033C2.64166%204.05033%202.23333%204.95866%201.98333%206.05033C1.74166%207.13366%201.65833%208.44199%201.65833%2010.0087C1.65833%2011.5753%201.74166%2012.8837%201.98333%2013.967C2.22499%2015.0587%202.64166%2015.967%203.34166%2016.667C4.04166%2017.367%204.94999%2017.7753%206.04166%2018.0253C7.12499%2018.267%208.43332%2018.3503%209.99999%2018.3503C11.5667%2018.3503%2012.875%2018.267%2013.9583%2018.0253C15.05%2017.7837%2015.9583%2017.367%2016.6583%2016.667C17.3583%2015.967%2017.7667%2015.0587%2018.0167%2013.967C18.2583%2012.8837%2018.3417%2011.5753%2018.3417%2010.0087C18.3417%208.44199%2018.2583%207.13366%2018.0167%206.05033C17.775%204.95866%2017.3583%204.05033%2016.6583%203.35033C15.9583%202.65033%2015.05%202.24199%2013.9583%201.99199C12.875%201.75033%2011.5667%201.66699%209.99999%201.66699ZM10.4083%207.05866C10.8667%207.05866%2011.2417%206.68366%2011.2417%206.22532C11.2417%205.76699%2010.8667%205.39199%2010.4083%205.39199C9.94999%205.39199%209.57499%205.76699%209.57499%206.22532C9.57499%206.68366%209.94999%207.05866%2010.4083%207.05866ZM11.1417%208.39199C11.0083%208.10032%2010.7167%207.89199%2010.375%207.89199H9.08332C8.62499%207.89199%208.24999%208.26699%208.24999%208.72533C8.24999%209.18366%208.62499%209.55866%209.08332%209.55866H9.57499V12.5503H8.96666C8.50832%2012.5503%208.13332%2012.9253%208.13332%2013.3837C8.13332%2013.842%208.50832%2014.217%208.96666%2014.217H11.8583C12.3167%2014.217%2012.6917%2013.842%2012.6917%2013.3837C12.6917%2012.9253%2012.3167%2012.5503%2011.8583%2012.5503H11.25V8.79199C11.25%208.64199%2011.2083%208.50866%2011.1417%208.38366V8.39199Z'%20fill='%23E5E6ED'/%3e%3c/g%3e%3c/svg%3e",n3="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='List'%3e%3cpath%20id='Vector'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.33333%2010.0003C3.33333%208.47533%203.41666%207.30866%203.61666%206.40033C3.81666%205.50866%204.11666%204.92533%204.52499%204.51699C4.93333%204.10866%205.50833%203.80866%206.40833%203.60866C7.30833%203.40866%208.48333%203.32533%2010.0083%203.32533C11.5333%203.32533%2012.7%203.40866%2013.6083%203.60866C14.5%203.80866%2015.0833%204.10866%2015.4917%204.51699C15.9%204.92533%2016.2%205.50033%2016.4%206.40033C16.6%207.30033%2016.6833%208.47533%2016.6833%2010.0003C16.6833%2011.5253%2016.6%2012.692%2016.4%2013.6003C16.2%2014.492%2015.9%2015.0753%2015.4917%2015.4837C15.0833%2015.892%2014.5083%2016.192%2013.6083%2016.392C12.7083%2016.592%2011.5333%2016.6753%2010.0083%2016.6753C8.48333%2016.6753%207.31666%2016.592%206.40833%2016.392C5.51666%2016.192%204.93333%2015.892%204.52499%2015.4837C4.11666%2015.0753%203.81666%2014.5003%203.61666%2013.6003C3.41666%2012.7003%203.33333%2011.5253%203.33333%2010.0003ZM9.99999%201.66699C8.43333%201.66699%207.12499%201.75033%206.04166%201.99199C4.94999%202.23366%204.04166%202.65033%203.34166%203.35033C2.64166%204.05033%202.23333%204.95866%201.98333%206.05033C1.74166%207.13366%201.65833%208.44199%201.65833%2010.0087C1.65833%2011.5753%201.74166%2012.8837%201.98333%2013.967C2.22499%2015.0587%202.64166%2015.967%203.34166%2016.667C4.04166%2017.367%204.94999%2017.7753%206.04166%2018.0253C7.12499%2018.267%208.43333%2018.3503%209.99999%2018.3503C11.5667%2018.3503%2012.875%2018.267%2013.9583%2018.0253C15.05%2017.7837%2015.9583%2017.367%2016.6583%2016.667C17.3583%2015.967%2017.7667%2015.0587%2018.0167%2013.967C18.2583%2012.8837%2018.3417%2011.5753%2018.3417%2010.0087C18.3417%208.44199%2018.2583%207.13366%2018.0167%206.05033C17.775%204.95866%2017.3583%204.05033%2016.6583%203.35033C15.9583%202.65033%2015.05%202.24199%2013.9583%201.99199C12.875%201.75033%2011.5667%201.66699%209.99999%201.66699ZM5.83333%206.66699C5.83333%207.12533%206.20833%207.50033%206.66666%207.50033H13.3333C13.7917%207.50033%2014.1667%207.12533%2014.1667%206.66699C14.1667%206.20866%2013.7917%205.83366%2013.3333%205.83366H6.66666C6.20833%205.83366%205.83333%206.20866%205.83333%206.66699ZM5.83333%2010.0003C5.83333%2010.4587%206.20833%2010.8337%206.66666%2010.8337H13.3333C13.7917%2010.8337%2014.1667%2010.4587%2014.1667%2010.0003C14.1667%209.54199%2013.7917%209.16699%2013.3333%209.16699H6.66666C6.20833%209.16699%205.83333%209.54199%205.83333%2010.0003ZM14.1667%2013.3337C14.1667%2013.792%2013.7917%2014.167%2013.3333%2014.167H6.66666C6.20833%2014.167%205.83333%2013.792%205.83333%2013.3337C5.83333%2012.8753%206.20833%2012.5003%206.66666%2012.5003H13.3333C13.7917%2012.5003%2014.1667%2012.8753%2014.1667%2013.3337Z'%20fill='%23E5E6ED'/%3e%3c/g%3e%3c/svg%3e";function r3({title:i,icon:e,children:s}){return N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"settings-item",children:N.jsxs("div",{className:"settings-spoiler-text",children:[N.jsx("img",{src:e,alt:"Rules icon"}),N.jsx("span",{children:i})]})}),N.jsx("div",{children:s})]})}const s3="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.6482%2013.9395C11.2902%2014.2975%2010.7098%2014.2975%2010.3518%2013.9395L5.76849%209.35619C5.41051%208.99821%205.41051%208.41781%205.76849%208.05983C6.12647%207.70185%206.70687%207.70185%207.06485%208.05983L11%2011.995L14.9352%208.05983C15.2931%207.70185%2015.8735%207.70185%2016.2315%208.05983C16.5895%208.41781%2016.5895%208.99821%2016.2315%209.35619L11.6482%2013.9395Z'%20fill='%234D506C'/%3e%3c/svg%3e",i3="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='ChevronUp'%3e%3cpath%20id='Vector'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.2929%208.06048C10.6834%207.7025%2011.3166%207.7025%2011.7071%208.06048L16.7071%2012.6438C17.0976%2013.0018%2017.0976%2013.5822%2016.7071%2013.9402C16.3166%2014.2982%2015.6834%2014.2982%2015.2929%2013.9402L11%2010.005L6.70711%2013.9402C6.31658%2014.2982%205.68342%2014.2982%205.29289%2013.9402C4.90237%2013.5822%204.90237%2013.0018%205.29289%2012.6438L10.2929%208.06048Z'%20fill='%234D506C'/%3e%3c/g%3e%3c/svg%3e";function Ah({title:i,icon:e,id:s,openedId:t,setOpenedId:c,children:l}){return N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:t===s?"settings-spoiler settings-spoiler-active":"settings-spoiler",onClick:()=>c(t===s?0:s),children:[N.jsxs("div",{className:"settings-spoiler-text",children:[N.jsx("img",{src:e,alt:"Rules icon"}),N.jsx("span",{children:i})]}),t===s?N.jsx("img",{src:i3,alt:"Spoiler icon"}):N.jsx("img",{src:s3,alt:"Spoiler icon"})]}),t===s&&N.jsx("div",{children:l})]})}function o3(){const i=rr(),e=Me(ri),[s,t]=H.useState(0),[c,l]=H.useState(window.matchMedia("(orientation: landscape)").matches),m=Je("MainMenu.SETTINGS"),h=Je("SettingsPanel.RULES"),n=Je("SettingsPanel.RULE_INFO"),a=Je("SettingsPanel.INFORMATION"),u=Je("SettingsPanel.GAME_FIELD"),f=Je("SettingsPanel.RIGHT"),d=Je("SettingsPanel.LEFT");return H.useEffect(()=>{const p=window.matchMedia("(orientation: landscape)"),b=y=>{const w=y.matches;l(!!w)};return p.addEventListener("change",b),()=>{p.removeEventListener("change",b)}},[]),N.jsxs("div",{className:e?"settings settings-right":"settings",children:[N.jsx("div",{className:"settings-navigation",children:N.jsx("div",{className:"settings-navigation-close",onClick:()=>i(Vm()),children:N.jsx("img",{src:Kp,alt:"Settings close"})})}),N.jsxs("div",{className:"settings-container",children:[N.jsx("div",{className:"settings-title",children:m}),N.jsx(Ah,{title:a,icon:t3,id:1,openedId:s,setOpenedId:t,children:N.jsxs("div",{className:"settings-under",children:[N.jsx("div",{className:"settings-under-title",children:"Plinko"}),N.jsx("div",{className:"settings-under-text",children:n}),N.jsxs("div",{className:"settings-under-logo",children:[N.jsx("img",{src:Rh,alt:"Apis Games Icon"}),N.jsx("span",{children:"v0.01"})]})]})}),N.jsx(Ah,{title:h,icon:n3,id:2,openedId:s,setOpenedId:t,children:N.jsxs("div",{className:"settings-under",children:[N.jsx("div",{className:"settings-under-title",children:h}),N.jsx("div",{className:"settings-under-text",children:h}),N.jsxs("div",{className:"settings-under-logo",children:[N.jsx("img",{src:Rh,alt:"Apis Games Icon"}),N.jsx("span",{children:"v0.01"})]})]})}),c&&N.jsx(r3,{title:u,icon:e3,children:N.jsxs("div",{className:"settings-under-game-interface",children:[N.jsxs("div",{className:"settings-game-interface",onClick:()=>i(Fm()),children:[N.jsx("div",{className:"settings-game-interface-text",children:f}),e&&N.jsx("img",{src:Th,alt:"Checkmark Icon"})]}),N.jsxs("div",{className:"settings-game-interface",onClick:()=>i(Om()),children:[N.jsx("div",{className:"settings-game-interface-text",children:d}),!e&&N.jsx("img",{src:Th,alt:"Checkmark Icon"})]})]})})]})]})}const a3="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='AlertTriangle'%3e%3cpath%20id='Vector'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.96388%206.10986L4.30717%2016.3099C4.29904%2016.3245%204.29054%2016.339%204.28168%2016.3532C4.01052%2016.789%203.9653%2017.1008%204.02204%2017.294C4.30983%2018.274%205.23024%2019%206.32997%2019H17.6698C18.7696%2019%2019.69%2018.274%2019.9778%2017.294C20.0345%2017.1008%2019.9893%2016.789%2019.7181%2016.3532C19.7092%2016.339%2019.7008%2016.3245%2019.6926%2016.3099L14.0359%206.10986C13.096%204.63005%2010.9038%204.63005%209.96388%206.10986ZM8.25355%205.07268C9.97331%202.3091%2014.0265%202.30911%2015.7462%205.07268C15.7551%205.08692%2015.7636%205.10137%2015.7717%205.11604L21.4301%2015.3191C21.8141%2015.9436%2022.1876%2016.8669%2021.8967%2017.8574C21.362%2019.6785%2019.668%2021%2017.6698%2021H6.32997C4.33176%2021%202.63781%2019.6785%202.10306%2017.8575C1.8122%2016.8669%202.18572%2015.9436%202.56964%2015.3191L8.22807%205.11603C8.2362%205.10137%208.2447%205.08692%208.25355%205.07268ZM11.9999%207.41447C12.5522%207.41447%2012.9999%207.86219%2012.9999%208.41447V12.9C12.9999%2013.4523%2012.5522%2013.9%2011.9999%2013.9C11.4476%2013.9%2010.9999%2013.4523%2010.9999%2012.9V8.41447C10.9999%207.86219%2011.4476%207.41447%2011.9999%207.41447ZM11.9999%2015.2248C12.5522%2015.2248%2012.9999%2015.6725%2012.9999%2016.2248V16.2642C12.9999%2016.8165%2012.5522%2017.2642%2011.9999%2017.2642C11.4476%2017.2642%2010.9999%2016.8165%2010.9999%2016.2642V16.2248C10.9999%2015.6725%2011.4476%2015.2248%2011.9999%2015.2248Z'%20fill='%239EA2B9'/%3e%3c/g%3e%3c/svg%3e";function l3(){const i=rr(),e=Je("Alert.MAX_BET");return N.jsxs("div",{className:"alert-validation",onClick:()=>i(Lm()),children:[N.jsx("img",{src:a3,alt:"Alert icon"}),N.jsx("div",{children:e})]})}const Rf=i=>i.dialog,c3=Ct([Rf],i=>i.settings),u3=Ct([Rf],i=>i.maxBet);function pb(){const i=Me(u3),e=Me(c3),s=Me(Cf),t=H.useRef(!1);H.useEffect(()=>{if(window.location!==window.parent.location){const h=document.querySelector(".progress-bar");h.style.display="none"}},[]);const c=H.useCallback(()=>{if(t.current){const h=document.querySelector(".progress-bar-container");h.className+=" done",Ou.dispatch(Bm())}},[]),l=H.useCallback(()=>{t.current=!0,c()},[c]),m=H.useCallback(h=>{const n=document.querySelector(".progress-bar");n.style.width=Math.round(h)+"%";const a=document.querySelector("#mask_rect");if(a!==null){const u=gsap.utils.mapRange(0,100,0,720,h);a.setAttribute("width",u.toString(10))}},[]);return N.jsxs("div",{className:"app",children:[N.jsx(ap,{}),N.jsx(X2,{store:Ou,onLoaded:l,onProgress:m,fonts:gp,backgroundColor:1250857,children:N.jsx(Jp,{})}),e&&N.jsx(o3,{}),i&&N.jsx(lp,{}),s&&N.jsx(l3,{})]})}export{pb as default};
